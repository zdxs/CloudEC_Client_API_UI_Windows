webpackJsonp([17],{113:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HwDbSdk=void 0;var a=r(135),u=n(a),i=r(4),c=n(i),s=r(1900);t.HwDbSdk=function e(){(0,c.default)(this,e),(0,u.default)(this,(0,s.getDbApi)().getApiList())}},131:function(e,t,r){e.exports={default:r(151),__esModule:!0}},132:function(e,t,r){e.exports=r(0)(45)},133:function(e,t,r){e.exports=r(0)(47)},135:function(e,t,r){e.exports=r(0)(562)},139:function(e,t,r){e.exports=r(0)(57)},140:function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},141:function(e,t,r){e.exports=r(0)(238)},142:function(e,t,r){"use strict";t.__esModule=!0;var n=r(159),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return(0,a.default)(e)}},146:function(e,t,r){var n=r(10),a=r(8),u=r(148);e.exports=function(e,t){var r=(a.Object||{})[e]||Object[e],i={};i[e]=t(r),n(n.S+n.F*u(function(){r(1)}),"Object",i)}},148:function(e,t,r){e.exports=r(0)(59)},151:function(e,t,r){r(152),e.exports=r(8).Object.getPrototypeOf},152:function(e,t,r){var n=r(141),a=r(153);r(146)("getPrototypeOf",function(){return function(e){return a(n(e))}})},153:function(e,t,r){e.exports=r(0)(585)},154:function(e,t,r){e.exports=r(0)(86)},157:function(e,t,r){e.exports=r(0)(196)},159:function(e,t,r){e.exports={default:r(173),__esModule:!0}},164:function(e,t,r){e.exports=r(0)(80)},173:function(e,t,r){r(22),r(174),e.exports=r(8).Array.from},174:function(e,t,r){"use strict";var n=r(11),a=r(10),u=r(141),i=r(31),c=r(32),s=r(27),o=r(175),l=r(26);a(a.S+a.F*!r(33)(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,a,f,p=u(e),d="function"==typeof this?this:Array,_=arguments.length,m=_>1?arguments[1]:void 0,v=void 0!==m,y=0,h=l(p);if(v&&(m=n(m,_>2?arguments[2]:void 0,2)),void 0==h||d==Array&&c(h))for(t=s(p.length),r=new d(t);t>y;y++)o(r,y,v?m(p[y],y):p[y]);else for(f=h.call(p),r=new d;!(a=f.next()).done;y++)o(r,y,v?i(f,m,[a.value,y],!0):a.value);return r.length=y,r}})},175:function(e,t,r){"use strict";var n=r(25),a=r(176);e.exports=function(e,t,r){t in e?n.f(e,t,a(0,r)):e[t]=r}},176:function(e,t,r){e.exports=r(0)(79)},1900:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DbImpl=t.getDbApi=void 0;var a=r(135),u=n(a),i=r(1),c=n(i),s=r(2),o=n(s),l=r(131),f=n(l),p=r(4),d=n(p),_=r(132),m=n(_),v=r(133),y=n(v),h=r(823),O=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(h),E=r(1907),b=n(E),g=(coreLogger.getLogger("DB")("DbImpl"),void 0),x=(t.getDbApi=function(){return isNullOrEmpty(g)&&(g=new x),g},t.DbImpl=function(e){function t(){var e=this;(0,d.default)(this,t);var r=(0,m.default)(this,(t.__proto__||(0,f.default)(t)).call(this));return r.queryLoginSetting=function(){var t=(0,o.default)(c.default.mark(function t(r){var n=r.key;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.queryLoginSetting({key:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.saveLoginSetting=function(){var t=(0,o.default)(c.default.mark(function t(r){var n=r.key,a=r.value;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.saveLoginSetting({key:n,value:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.saveLoginSettings=function(){var t=(0,o.default)(c.default.mark(function t(r){var n=r.args;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.saveLoginSetting(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.queryUserConfigList=function(){var t=(0,o.default)(c.default.mark(function t(r){var n,a=r.all,i=r.key;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={},void 0!==a&&(0,u.default)(n,{all:a}),void 0!==i&&(0,u.default)(n,{key:i}),e.next=5,O.queryUserConfigList(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.queryAllLoginRecord=(0,o.default)(c.default.mark(function t(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.queryAllLoginRecord();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)})),r.queryAllLoginSetting=(0,o.default)(c.default.mark(function t(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.queryAllLoginSetting();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)})),r.queryLoginRecord=function(){var t=(0,o.default)(c.default.mark(function t(r){var n,a=r.all,i=r.display_account,s=r.account;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={},void 0!==a&&(0,u.default)(n,{all:a}),void 0!==i&&(0,u.default)(n,{display_account:i}),void 0!==s&&(0,u.default)(n,{account:s}),e.next=6,O.queryLoginRecord(n);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.saveLoginRecord=function(){var t=(0,o.default)(c.default.mark(function t(r){var n=r.id,a=r.display_account,u=r.account,i=r.tenantcn,s=r.tenanten,o=r.tenantid,l=r.thirdcertype,f=r.setPasswordToken,p=r.encryptPassword,d=r.strUserRandom,_=r.isRememberPassWord,m=r.isAutoLogin,v=r.time_stamp,y=r.isMaxhubWorkplace,h=r.thirdaccount,E=r.maxhubMiddleEndAddress;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.saveLoginRecord({id:n,display_account:a,account:u,tenantcn:i,tenanten:s,tenantid:o,thirdcertype:l,setPasswordToken:f,encryptPassword:p,strUserRandom:d,isRememberPassWord:_,isAutoLogin:m,time_stamp:v,isMaxhubWorkplace:y,thirdaccount:h,maxhubMiddleEndAddress:E});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.deleteLoginRecord=function(){var t=(0,o.default)(c.default.mark(function t(r){var n=r.account;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.deleteLoginRecord({account:n});case 2:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.bulkPutLoginSetting=function(){var t=(0,o.default)(c.default.mark(function t(r){var n=r.settinglist;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.bulkPutLoginSetting(n);case 2:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.releaseSQliteDBHandler=(0,o.default)(c.default.mark(function t(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.releaseSQliteDBHandler();case 2:case"end":return e.stop()}},t,e)})),r.initSQLitePrivateDB=function(){var t=(0,o.default)(c.default.mark(function t(r){var n=r.account;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.initSQLitePrivateDB(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.saveUserConfig=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.saveUserConfig(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.saveUserConfigList=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.saveUserConfig(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.queryUserConfig=function(){var t=(0,o.default)(c.default.mark(function t(r){var n=r.key;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.queryUserConfig({key:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.queryMessage=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.queryMessage(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.saveCallRecord=function(){var t=(0,o.default)(c.default.mark(function t(r){var n=r.peeraccount,a=r.iscallout,u=r.callernumber,i=r.calleenumber,s=r.starttime,o=r.callstate,l=r.calltype,f=r.duration,p=r.confid,d=r.confpasscode,_=r.confmembers,m=r.groupid,v=r.isVideo,y=r.callUserName,h=r.contact_id,E=r.isCallSuccess;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.saveCallRecord({peeraccount:n,iscallout:a,callernumber:u,calleenumber:i,starttime:s,callstate:o,calltype:l,duration:f,confid:p,confpasscode:d,confmembers:_,groupid:m,isVideo:v,callUserName:y,contact_id:h,isCallSuccess:E});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.queryCallRecord=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.queryCallRecord(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.queryContactByContactId=function(){var t=(0,o.default)(c.default.mark(function t(r){var n=r.contact_id;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.queryContactByContactId(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.saveMessage=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.saveMessage(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.queryAllCallRecord=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.queryAllCallRecord(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.queryCallRecordList=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.queryCallRecordList(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.queryMessageList=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.queryMessageList(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.limitMessageListByNum=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.limitMessageListByNum(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.saveRecent=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.saveRecent(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.queryGroup=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.queryGroup(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.delcallrecord=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.delcallrecord(r);case 2:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.saveConfRecord=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.saveConfRecord(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.queryAllConfRecord=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.queryAllConfRecord(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.queryContact=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.queryContact(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.queryContactByNumber=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.queryContactByNumber(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.queryContactByNumberAccurate=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.queryContactByNumberAccurate(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.queryContactByPhonenumberAccurate=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.queryContactByPhonenumberAccurate(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.saveEncryptValue=function(){var t=(0,o.default)(c.default.mark(function t(r){var n=r.key,a=r.value;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.saveEncryptValue({key:n,value:a});case 2:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.queryEncryptValue=function(){var t=(0,o.default)(c.default.mark(function t(r){var n=r.key;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.queryEncryptValue({key:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.cleanEncryptValue=function(){var t=(0,o.default)(c.default.mark(function t(r){var n=r.key;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.cleanEncryptValue({key:n});case 2:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.saveContactMemberGroup=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.saveContactMemberGroup(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.saveContactGroup=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.saveContactGroup(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.bulkPutContact=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.bulkPutContact(r);case 2:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.saveContact=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.saveContact(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.queryContactList=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.queryContactList(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.queryAllContact=(0,o.default)(c.default.mark(function t(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.queryAllContact();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)})),r.queryAllContactGroupList=(0,o.default)(c.default.mark(function t(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.queryAllContactGroupList();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)})),r.queryAllContactMemberGroupList=(0,o.default)(c.default.mark(function t(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.queryAllContactMemberGroupList();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)})),r.deleteContactMemberGroup=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.deleteContactMemberGroup(r);case 2:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.deleteContactGroup=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.deleteContactGroup(r);case 2:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.bulkPutContactMemberGroup=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.bulkPutContactMemberGroup(r);case 2:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.bulkPutContactGroup=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.bulkPutContactGroup(r);case 2:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.queryRecentList=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.queryRecentList(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.deleteContact=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.deleteContact(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.deleteGroupMember=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.deleteGroupMember(r);case 2:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.bulkPutGroupMember=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.bulkPutGroupMember(r);case 2:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.queryContactBySearchText=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.queryContactBySearchText(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.bulkPutGroup=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.bulkPutGroup(r);case 2:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.saveGroup=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.saveGroup(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.queryAllGroup=(0,o.default)(c.default.mark(function t(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.queryAllGroup();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)})),r.deleteGroup=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.deleteGroup(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.queryGroupList=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.queryGroupList(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.queryGroupMemberList=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.queryGroupMemberList(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.saveFile=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.saveFile(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.saveScreenShot=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.saveScreenShot(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.limitMessageList=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.limitMessageList(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.queryScreenShotList=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.queryScreenShotList(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.queryFileList=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.queryFileList(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.bulkPutScreenShot=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.bulkPutScreenShot(r);case 2:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.bulkPutFile=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.bulkPutFile(r);case 2:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.bulkPutMessage=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.bulkPutMessage(r);case 2:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.bulkPutRecent=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.bulkPutRecent(r);case 2:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.queryRecent=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.queryRecent(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.queryAllRecent=(0,o.default)(c.default.mark(function t(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.queryAllRecent();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)})),r.queryGroupListByIdList=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.queryGroupListByIdList(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.queryGroupListBySearchTextContactUnion=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.queryGroupListBySearchTextContactUnion(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.deleteUserConfig=function(){var t=(0,o.default)(c.default.mark(function t(r){var n=r.key;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.deleteUserConfig({key:n});case 2:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.queryUserTrackList=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.queryUserTrackList(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.saveUserTrack=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.saveUserTrack(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.deleteusertrack=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.deleteusertrack(r);case 2:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.saveAvatarTag=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.saveAvatarTag(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.deleteAvatarTag=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.deleteAvatarTag(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.queryAvatarTagList=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.queryAvatarTagList(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.queryMessageBySearchText=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.queryMessageBySearchText(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.queryFileBySearchText=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.queryFileBySearchText(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.bulkSaveOfficialAccountsDetail=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.bulkSaveOfficialAccountsDetail(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.limitScreenShotListByRecent=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.limitScreenShotListByRecent(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.limitImageFileListByRecent=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.limitImageFileListByRecent(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.deleteFile=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.deleteFile(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r.deleteScreenShot=function(){var t=(0,o.default)(c.default.mark(function t(r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.deleteScreenShot(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),r}return(0,y.default)(t,e),t}(b.default))},1901:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.initPublicDbAtomic=void 0;var a=r(1),u=n(a),i=r(2),c=n(i),s=r(823),o=coreLogger.getLogger("service")("DB/db"),l=function(){var e=(0,c.default)(u.default.mark(function e(){var t,r,n,a,i,c,l,f,p,d,_,m;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.CLIENTCONFIG.IS_LINK_IT_SMC_MEETING){e.next=3;break}return o.info("[IT-Meeting] no need to init DB"),e.abrupt("return",coreCommon.ATOMIC_ACTION_RESULT.SUCCESS);case 3:return o.info("initPublicDB start"),e.next=6,(0,s.initDBPath)(window.APP_DATA_PATH,window.LOG_PATH);case 6:return e.next=8,(0,s.uninitSQliteDB)();case 8:if(!window.CLIENTCONFIG.ENABLE_IT_MEETING){e.next=11;break}return e.next=11,coreSecurity.stopKmc();case 11:return e.next=13,coreSecurity.startKmc();case 13:return e.next=15,(0,s.queryDBKeySalt)();case 15:if(t=e.sent,r=!1,!t||""===t){e.next=52;break}if(!(t.length>60)){e.next=40;break}if(n=t.split("|"),a="",i=n[0],2!==n.length){e.next=37;break}return a=n[1],e.next=26,coreSecurity.decryptKMC(i);case 26:if(!((c=e.sent)&&c.param&&c.param.PlainText&&""!==c.param.PlainText)){e.next=34;break}return o.info("[decrypt] localrandom success "),e.next=31,(0,s.saveDBKeySalt)(c.param.PlainText,a,t);case 31:r=!0,e.next=35;break;case 34:o.info("[decrypt] localrandom fail");case 35:e.next=38;break;case 37:o.info("local random length is not 2");case 38:e.next=52;break;case 40:if(!(t.length<60&&t.length>0)){e.next=51;break}return o.info("local random length less than 60"),e.next=44,coreSecurity.encryptKMC(t);case 44:return l=e.sent,f="",e.next=48,(0,s.saveDBKeySalt)(t,f,l.param.CiperText);case 48:r=!0,e.next=52;break;case 51:o.info("local random is empty");case 52:if(!1!==r){e.next=66;break}return e.next=55,coreSecurity.getRealRandom(16);case 55:return p=e.sent,e.next=58,coreSecurity.encryptKMC(p);case 58:return d=e.sent,e.next=61,coreSecurity.getRealRandom(16);case 61:if(_=e.sent,o.info("initial dbrandwom "),!(d&&d.param&&d.param.CiperText)){e.next=66;break}return e.next=66,(0,s.saveDBKeySalt)(p,_,d.param.CiperText+"|"+_);case 66:return e.next=68,(0,s.initSQLitePublicDB)(window.APP_DATA_PATH);case 68:return m=e.sent,o.info("node env = production"),""===m||void 0!==m.result&&0===m.result||(o.info("check[Encrypt] fail : "+m.result),window.CLIENTCONFIG.ISMOBILE||window.alert(""+language.INVALID_ENCRYPT_FILE_FOUND_CONTENT).then(function(e){appService.exitApp()})),e.abrupt("return",coreCommon.ATOMIC_ACTION_RESULT.SUCCESS);case 72:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),f=new coreCommon.AtomicAction("initPublicDb",l);t.initPublicDbAtomic=f},1902:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(1),u=n(a),i=r(2),c=n(i),s=r(135),o=n(s),l=r(3),f=n(l),p=r(4),d=n(p),_=r(5),m=n(_),v=coreLogger.getLogger("tup")("sqlite"),y=coreCommon.getTupProtocolClass(),h=function(e){return isNullOrEmpty(e)?0:e},O=null,E=function(){function e(t){var r=this;return(0,d.default)(this,e),new f.default(function(){var e=(0,c.default)(u.default.mark(function e(n,a){var i;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i={key:constant.TupModuleKey.sqlite,moduleName:"tup_plugin_service_protocol",webSocketUri:"/sqlite_plugin"},(0,o.default)(i,t),e.next=4,new y(i);case 4:r.tupProtocol=e.sent,n(r);case 6:case"end":return e.stop()}},e,r)}));return function(t,r){return e.apply(this,arguments)}}())}return(0,m.default)(e,[{key:"init",value:function(e,t){var r={cmd:1,description:"tup_sqlite_init_db",param:{_useraccount:t,_dbpath:e}};return this._service(r,1)}},{key:"addsysconfig",value:function(e,t){var r={cmd:2,description:"tup_sqlite_add_sysconfig",param:{_keyvalue:{id:0,strkey:e,strvalue:t}}};return this._service(r,2)}},{key:"delsysconfig",value:function(e,t){var r={cmd:3,description:"tup_sqlite_del_sysconfig",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,3)}},{key:"querysysconfig",value:function(e,t){var r={cmd:4,description:"tup_sqlite_query_sysconfig",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,4)}},{key:"addlogininfo",value:function(e){var t={cmd:5,description:"tup_sqlite_add_logininfo",param:{_logininfo:e}};return this._service(t,5)}},{key:"dellogininfo",value:function(e,t){var r={cmd:6,description:"tup_sqlite_del_logininfo",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,6)}},{key:"querylogininfo",value:function(e,t){var r={cmd:7,description:"tup_sqlite_query_logininfo",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,7)}},{key:"updatelogininfo",value:function(e,t,r){var n={cmd:8,description:"tup_sqlite_update_logininfo",param:{_multimatchinfo:{datalist:e,datalen:t,operationtype:r}}};return this._service(n,8)}},{key:"addcontactgroup",value:function(e){var t={cmd:9,description:"tup_sqlite_add_contactgroup",param:{_contactgroupinfo:e}};return this._service(t,9)}},{key:"addcontactgrouplist",value:function(e){var t={cmd:10,description:"tup_sqlite_add_contactgrouplist",param:{_contactgroupinfolist:e,_arraylen:e.length}};return this._service(t,10)}},{key:"delcontactgroup",value:function(e,t){var r={cmd:11,description:"tup_sqlite_delete_contactgroup",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,11)}},{key:"querycontactgroup",value:function(e,t){var r={cmd:12,description:"tup_sqlite_query_contactgroup",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,12)}},{key:"addcontactgroupmember",value:function(e){var t={cmd:13,description:"tup_sqlite_add_contactgroupmem",param:{_contactgroupmeminfo:e}};return this._service(t,13)}},{key:"addcontactgroupmemberlist",value:function(e){var t={cmd:14,description:"tup_sqlite_add_contactgroupmemlist",param:{_contactgroupmeminfolist:e,_arraylen:e.length}};return this._service(t,14)}},{key:"delcontactgroupmember",value:function(e,t,r){var n={cmd:15,description:"tup_sqlite_delete_contactgroupmem",param:{_multimatchinfo:{datalist:t,datalen:r,operationtype:e}}};return this._service(n,15)}},{key:"querycontactgroupmember",value:function(e,t){var r={cmd:16,description:"tup_sqlite_query_contactgroupmem",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,16)}},{key:"addstaff",value:function(e){var t={cmd:17,description:"tup_sqlite_add_staff",param:{_staffinfo:{id:h(e.id),staffid:e.staff_id,account:e.account,contactid:e.contact_id,name:e.name,qpinyin:e.q_pin_yin,gender:e.gender,mobilephone:e.mobile,officephone:e.office_phone,otherphone:e.other_phone,fax:e.fax,email:e.email,zip:e.postcode,address:e.address,title:e.title,deptname:e.dept_name,imageid:e.image_id,signature:e.signature,website:e.website,bindno:e.bindno,nativename:e.native_name,staffno:e.staff_no,corpname:e.crop_name,deptid:e.dept_id,deptnamecn:e.dept_name_cn,deptnameen:e.dept_name_en,desc:e.desc,foreignname:e.foreign_name,imno:e.im_no,imagesynctime:e.image_sync_time,ipphone:e.ip_phone,issecurity:e.is_security,nickname:e.nick_name,oldaccount:e.old_account,shortphone:e.short_phone,voip:e.voip,modifytime:e.modify_time}}};return this._service(t,17)}},{key:"addstafflist",value:function(e,t){for(var r=new Array,n=0;n<t;++n){var a=e[n];r[n]={id:h(a.id),staffid:a.staff_id,account:a.account,contactid:a.contact_id,name:a.name,qpinyin:a.q_pin_yin,gender:a.gender,mobilephone:a.mobile,officephone:a.office_phone,otherphone:a.other_phone,fax:a.fax,email:a.email,zip:a.postcode,address:a.address,title:a.title,deptname:a.dept_name,imageid:a.image_id,signature:a.signature,website:a.website,bindno:a.bindno,nativename:a.native_name,staffno:a.staff_no,corpname:a.crop_name,deptid:a.dept_id,deptnamecn:a.dept_name_cn,deptnameen:a.dept_name_en,desc:a.desc,foreignname:a.foreign_name,imno:a.im_no,imagesynctime:a.image_sync_time,ipphone:a.ip_phone,issecurity:a.is_security,nickname:a.nick_name,oldaccount:a.old_account,shortphone:a.short_phone,voip:a.voip,modifytime:a.modify_time}}var u={cmd:18,description:"tup_sqlite_add_stafflist",param:{_staffinfolist:r,_arraylen:t}};return this._service(u,18)}},{key:"delstaff",value:function(e,t){var r={cmd:19,description:"tup_sqlite_delete_staff",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,19)}},{key:"querystaff",value:function(e,t){var r={cmd:20,description:"tup_sqlite_query_staff",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,20)}},{key:"addcontact",value:function(e){var t={cmd:21,description:"tup_sqlite_add_contact",param:{_contactinfo:e}};return this._service(t,21)}},{key:"addcontactlist",value:function(e){var t={cmd:22,description:"tup_sqlite_add_contactlist",param:{_contactinfolist:e,_arraylen:e.length}};return this._service(t,22)}},{key:"delcontact",value:function(e,t){var r={cmd:23,description:"tup_sqlite_delete_contactlist",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,23)}},{key:"querycontact",value:function(e,t){var r={cmd:24,description:"tup_sqlite_query_contact",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,24)}},{key:"adduserconfig",value:function(e){var t={cmd:25,description:"tup_sqlite_add_userconfig",param:{_keyvalue:{id:h(e.id),strkey:e.key,strvalue:e.value}}};return this._service(t,25)}},{key:"adduserconfiglist",value:function(e){for(var t=new Array,r=0;r<e.length;++r){var n=e[r];t[r]={id:h(n.id),strkey:n.key,strvalue:n.value}}var a={cmd:75,description:"tup_sqlite_add_userconfiglist",param:{_keyvaluelist:t,_arraylen:e.length}};return this._service(a,75)}},{key:"deluserconfig",value:function(e,t){var r={cmd:26,description:"tup_sqlite_del_userconfig",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,26)}},{key:"queryuserconfig",value:function(e,t){var r={cmd:27,description:"tup_sqlite_query_userconfig",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,27)}},{key:"addgroup",value:function(e){var t={cmd:28,description:"tup_sqlite_add_group",param:{_groupinfo:e}};return this._service(t,28)}},{key:"addgrouplist",value:function(e){var t={cmd:29,description:"tup_sqlite_add_grouplist",param:{_groupinfolist:e,_arraylen:e.length}};return this._service(t,29)}},{key:"delgroup",value:function(e,t){var r={cmd:30,description:"tup_sqlite_delete_groupinfo",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,30)}},{key:"querygroup",value:function(e,t){var r={cmd:31,description:"tup_sqlite_query_groupinfo",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,31)}},{key:"updategroup",value:function(e){var t={cmd:88,description:"tup_sqlite_update_group",param:{_matchinfo:{condition_keytype:e.condition_keytype,condition_value:e.condition_value,_datalen:e.datalist.length,_datalist:e.datalist}}};return this._service(t,88)}},{key:"addgroupmember",value:function(e){var t={cmd:37,description:"tup_sqlite_add_groupmember",param:{_memberinfo:e}};return this._service(t,37)}},{key:"addgroupmemberlist",value:function(e){var t={cmd:38,description:"tup_sqlite_add_groupmemberlist",param:{_memberinfolist:e,_arraylen:e.length}};return this._service(t,38)}},{key:"delgroupmember",value:function(e,t,r){var n={cmd:39,description:"tup_sqlite_delete_groupmember",param:{_multimatchinfo:{datalist:t,datalen:r,operationtype:e}}};return this._service(n,39)}},{key:"querygroupmember",value:function(e,t,r){var n={cmd:40,description:"tup_sqlite_query_groupmember",param:{_multimatchinfo:{datalist:t,datalen:r,operationtype:e}}};return this._service(n,40)}},{key:"addgroupconfig",value:function(e){var t={id:h(e.id),groupid:e.group_id,mutenotifications:e.mute_notifications,savetocontact:e.save_to_contact,stickontop:e.stick_on_top,invitepermission:e.invite_permission,timestamp:e.timestamp},r={cmd:32,description:"tup_sqlite_add_groupconfig",param:{_configinfo:t}};return this._service(r,32)}},{key:"addgroupconfiglist",value:function(e){for(var t=new Array,r=0;r<e.length;++r){var n=e[r];t[r]={id:h(n.id),groupid:n.group_id,mutenotifications:n.mute_notifications,savetocontact:n.save_to_contact,stickontop:n.stick_on_top,invitepermission:n.invite_permission,timestamp:n.timestamp}}var a={cmd:33,description:"tup_sqlite_add_groupconfiglist",param:{_configinfolist:t,_arraylen:e.length}};return this._service(a,33)}},{key:"delgroupconfig",value:function(e,t){var r={cmd:34,description:"tup_sqlite_delete_groupconfig",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,34)}},{key:"querygroupconfig",value:function(e,t){var r={cmd:35,description:"tup_sqlite_query_groupconfig",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,35)}},{key:"addconversation",value:function(e){v.debug("addconversation",e);var t={cmd:41,description:"tup_sqlite_add_conversation",param:{_cvsinfo:e}};return this._service(t,41)}},{key:"addconversationlist",value:function(e){v.debug("addconversation",e);var t={cmd:42,description:"tup_sqlite_add_conversationlist",param:{_cvsinfolist:e,_arraylen:e.length}};return this._service(t,42)}},{key:"delconversation",value:function(e,t){var r={cmd:43,description:"tup_sqlite_delete_conversation",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,43)}},{key:"queryconversation",value:function(e,t){var r={cmd:44,description:"tup_sqlite_query_conversation",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,44)}},{key:"addfile",value:function(e){var t={cmd:46,description:"tup_sqlite_add_filerecord",param:{_filerecordinfo:e}};return this._service(t,46)}},{key:"addfilelist",value:function(e){var t={cmd:47,description:"tup_sqlite_add_filerecordlist",param:{_filerecordlist:e,_arraylen:e.length}};return this._service(t,47)}},{key:"delfile",value:function(e,t){var r={cmd:48,description:"tup_sqlite_delete_filerecord",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,48)}},{key:"queryfile",value:function(e,t,r){var n={cmd:49,description:"tup_sqlite_query_filerecord",param:{_multimatchinfo:{datalist:t,datalen:r,operationtype:e}}};return this._service(n,49)}},{key:"addscreenshot",value:function(e){var t={cmd:50,description:"tup_sqlite_add_screenshotfile",param:{_screenfileinfo:e}};return this._service(t,50)}},{key:"addscreenshotlist",value:function(e){var t={cmd:51,description:"tup_sqlite_add_screenshotfileist",param:{_screenfileinfolist:e,_arraylen:e.length}};return this._service(t,51)}},{key:"delscreenshot",value:function(e,t){var r={cmd:52,description:"tup_sqlite_delete_screenshotfile",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,52)}},{key:"queryscreenshot",value:function(e,t,r){var n={cmd:53,description:"tup_sqlite_query_screenshotfile",param:{_multimatchinfo:{datalist:t,datalen:r,operationtype:e}}};return this._service(n,53)}},{key:"addhistoryrecord",value:function(e){var t={cmd:54,description:"tup_sqlite_add_historyrecord",param:{_historyrecord:e}};return this._service(t,54)}},{key:"addhistoryrecordlist",value:function(e){var t={cmd:55,description:"tup_sqlite_add_historyrecordlist",param:{_historyrecordlist:e,_arraylen:e.length}};return this._service(t,55)}},{key:"deletehistoryrecord",value:function(e,t){var r={cmd:56,description:"tup_sqlite_delete_historyrecord",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,56)}},{key:"queryhistoryrecord",value:function(e,t,r){var n={cmd:57,description:"tup_sqlite_query_historyrecord",param:{_multimatchinfo:{datalist:t,datalen:r,operationtype:e}}};return this._service(n,57)}},{key:"updatehistoryrecord",value:function(e,t,r){var n={cmd:58,description:"tup_sqlite_update_historyrecord",param:{_multimatchinfo:{datalist:t,datalen:r,operationtype:e}}};return this._service(n,58)}},{key:"addgroupcollection",value:function(e){var t={collectionid:e.type_id,name:e.name,state:e.state},r={cmd:59,description:"tup_sqlite_add_groupcollection",param:{_groupcollectinfo:t}};return this._service(r,59)}},{key:"addgroupcollectionlist",value:function(e){for(var t=new Array,r=0;r<e.length;++r){var n=e[r];t[r]={collectionid:n.type_id,name:n.name,state:n.state}}var a={cmd:60,description:"tup_sqlite_add_groupcollectionlist",param:{_groupcollectinfolist:t,_arraylen:e.length}};return this._service(a,60)}},{key:"delgroupcollection",value:function(e,t){var r={cmd:61,description:"tup_sqlite_delete_groupcollection",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,61)}},{key:"querygroupcollection",value:function(e,t){var r={cmd:62,description:"tup_sqlite_query_groupcollection",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,62)}},{key:"addgroupcollectionmem",value:function(e){var t={collectionid:e.type_id,groupid:e.group_id},r={cmd:63,description:"tup_sqlite_add_groupcollectionmem",param:{_groupcollectmeminfo:t}};return this._service(r,63)}},{key:"addgroupcollectionmemlist",value:function(e){for(var t=new Array,r=0;r<e.length;++r){var n=e[r];t[r]={collectionid:n.type_id,groupid:n.group_id}}var a={cmd:64,description:"tup_sqlite_add_groupcollectionmemlist",param:{_groupcollectmeminfolist:t,_arraylen:e.length}};return this._service(a,64)}},{key:"delgroupcollectionmem",value:function(e,t,r){var n={cmd:65,description:"tup_sqlite_delete_groupcollectionmem",param:{_multimatchinfo:{datalist:t,datalen:r,operationtype:e}}};return this._service(n,65)}},{key:"querygroupcollectionmem",value:function(e,t){var r={cmd:66,description:"tup_sqlite_query_groupcollectionmem",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,66)}},{key:"addusertrack",value:function(e){var t={id:h(e.id),content:e.content,retrycount:h(e.retrycount)},r={cmd:67,description:"tup_sqlite_add_usertrack",param:{_usertrackinfo:t}};return this._service(r,67)}},{key:"addusertracklist",value:function(e){for(var t=new Array,r=0;r<e.length;++r){var n=e[r];t[r]={id:h(n.id),content:n.content,retrycount:h(n.retrycount)}}var a={cmd:68,description:"tup_sqlite_add_usertracklist",param:{_usertrackinfolist:t,_arraylen:e.length}};return this._service(a,68)}},{key:"delusertrack",value:function(e,t){var r={cmd:69,description:"tup_sqlite_delete_usertrack",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,69)}},{key:"queryusertrack",value:function(e,t){var r={cmd:70,description:"tup_sqlite_query_usertrack",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,70)}},{key:"addcallrecord",value:function(e){var t={cmd:71,description:"tup_sqlite_add_callrecord",param:{_callrecordinfo:e}};return this._service(t,71)}},{key:"addcallrecordlist",value:function(e){var t={cmd:72,description:"tup_sqlite_add_callrecordlist",param:{_callrecordinfolist:e,_arraylen:e.length}};return this._service(t,72)}},{key:"delcallrecord",value:function(e,t){var r={cmd:73,description:"tup_sqlite_delete_callrecord",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,73)}},{key:"querycallrecord",value:function(e,t,r){var n={cmd:74,description:"tup_sqlite_query_callrecord",param:{_multimatchinfo:{operationtype:e,datalist:t,datalen:r}}};return this._service(n,74)}},{key:"querydiscnumber",value:function(){var e={cmd:76,description:"tup_sqlite_get_discnumber",param:{}};return this._service(e,76)}},{key:"setdbsaltkey",value:function(e,t,r){var n={cmd:77,description:"tup_sqlite_set_saltvalue",param:{plainvalue:e,vecvalue:t,secvalue:r}};return this._service(n,77)}},{key:"getdbsaltkey",value:function(){var e={cmd:78,description:"tup_sqlite_get_saltvalue",param:{}};return this._service(e,78)}},{key:"initdbpath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.CLIENTCONFIG.NEW_APP_NAME,n={cmd:79,description:"tup_sqlite_init_dbpath",param:{_dbpath:e,_logpath:t,_appname:r}};return this._service(n,79)}},{key:"examineEncryptFile",value:function(e,t,r){var n={cmd:80,description:"tup_sqlite_examin_encrypt_file",param:{_encrypt:{aesIv:e,resources_path:t,fail_reason:r}}};return this._service(n,80)}},{key:"addavatartag",value:function(e){var t={cmd:81,description:"tup_sqlite_add_avatartag",param:{_avatartag:e}};return this._service(t,81)}},{key:"delavatartag",value:function(e,t){var r={cmd:82,description:"tup_sqlite_delete_avatartag",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,82)}},{key:"queryavatartag",value:function(e,t){var r={cmd:83,description:"tup_sqlite_query_avatartag",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,83)}},{key:"addofficialaccountsdetail",value:function(e){var t={cmd:84,description:"tup_sqlite_add_officialaccountsdetail",param:{_officialaccountsdetail:e}};return this._service(t,84)}},{key:"addofficialaccountsdetaillist",value:function(e){var t={cmd:85,description:"tup_sqlite_add_officialaccountsdetaillist",param:{__officialaccountsdetaillist:e,_arraylen:e.length}};return this._service(t,85)}},{key:"delofficialaccountsdetail",value:function(e,t){var r={cmd:86,description:"tup_sqlite_delete_officialaccountsdetail",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,86)}},{key:"queryofficialaccountsdetail",value:function(e,t){var r={cmd:87,description:"tup_sqlite_query_officialaccountsdetail",param:{_matchinfo:{keytype:e,match_value:t}}};return this._service(r,87)}},{key:"_service",value:function(e,t){var r=this;return new f.default(function(n,a){if(window.CLIENTCONFIG.IS_LINK_IT_SMC_MEETING){n({result:0})}else{var u=Sno();(0,o.default)(e,{sno:u});var i={resolve:n,data:e,rspIdx:t};r.tupProtocol.setRspFuncsAndSendMessage(i)}})}}],[{key:"getinstance",value:function(){return null===O&&(O=new e),O}}]),e}();t.default=E},1903:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LOGININFO_TYPE={LOGININFO_ID:0,LOGININFO_ACCOUNT:1,LOGININFO_DISPLAYACCOUNT:2,LOGININFO_PWD:3,LOGININFO_AUTOLOGIN:4,LOGININFO_REMPWD:5,LOGININFO_USERRANDOM:6,LOGININFO_TIMESTAMP:7,LOGININFO_ALL:8},t.KEYVALUE_TYPE={KEYVALUE_ID:0,KEYVALUE_KEY:1,KEYVALUE_VALUE:2,KEYVALUE_ALL:3},t.CONTACTGROUP_TYPE={CONTACTGROUP_ID:0,CONTACTGROUP_GROUPID:1,CONTACTGROUP_INDEX:2,CONTACTGROUP_NAME:3,CONTACTGROUP_STATE:4,CONTACTGROUP_ALL:5},t.CONTACTGROUPMEMBER_TYPE={CONTACTGROUPMEM_ID:0,CONTACTGROUPMEM_GROUPID:1,CONTACTGROUPMEM_CONTACTID:2,CONTACTGROUPMEM_STATE:3,CONTACTGROUPMEM_CONTACTID_GROUPID:4,CONTACTGROUPMEM_ALL:5},t.CONTACT_TYPE={CONTACTINFO_ID:0,CONTACTINFO_CONTACTID:1,CONTACTINFO_STAFFID:2,CONTACTINFO_ACCOUNT:3,CONTACTINFO_NAME:4,CONTACTINFO_QPINYIN:5,CONTACTINFO_GENDER:6,CONTACTINFO_MOBILEPHONE:7,CONTACTINFO_OFFICEPHONE:8,CONTACTINFO_OFFICEPHONE2:9,CONTACTINFO_ESPACENUMBER:10,CONTACTINFO_OTHERPHONE:11,CONTACTINFO_FAX:12,CONTACTINFO_EMAIL:13,CONTACTINFO_ZIP:14,CONTACTINFO_ADDRESS:15,CONTACTINFO_TITLE:16,CONTACTINFO_DEPTNAME:17,CONTACTINFO_IMAGEID:18,CONTACTINFO_SIGNATURE:19,CONTACTINFO_WEBSITE:20,CONTACTINFO_BINDNO:21,CONTACTINFO_NATIVENAME:22,CONTACTINFO_STAFFNO:23,CONTACTINFO_CORPNAME:24,CONTACTINFO_DEPTID:25,CONTACTINFO_DEPTNAMECN:26,CONTACTINFO_DEPTNAMEEN:27,CONTACTINFO_DESC:28,CONTACTINFO_FOREIGNNAME:29,CONTACTINFO_IMNO:30,CONTACTINFO_IMAGESYNCTIME:31,CONTACTINFO_IPPHONE:32,CONTACTINFO_ISSECURITY:33,CONTACTINFO_NICKNAME:34,CONTACTINFO_OLDACCOUNT:35,CONTACTINFO_SHORTPHONE:36,CONTACTINFO_VOIP:37,CONTACTINFO_MODIFYTIME:38,CONTACTINFO_PHONENUMBER:39,CONTACTINFO_ALL:40,CONTACTINFO_SEARCHGLOBAL:41,CONTACTINFO_HOMEPHONE:42,CONTACTINFO_OTHERPHONE2:43,CONTACTINFO_ETAG:44,CONTACTINFO_EXPARAM:45,CONTACTINFO_PHONENUMBER_ACCURATE:46,CONTACTINFO_SHOWACCOUNT:47,CONTACTINFO_ALL_DEBUG:48,CONTACTINFO_ISEXTERNALCONTACT:49},t.GROUP_TYPE={GROUPINFO_ID:0,GROUPINFO_GROUPID:1,GROUPINFO_GROUP_GROUPID:2,GROUPINFO_CAPACITY:3,GROUPINFO_NAME:4,GROUPINFO_ENNAME:5,GROUPINFO_OWNER:6,GROUPINFO_DESC:7,GROUPINFO_GROUPTYPE:8,GROUPINFO_JOINFLAG:9,GROUPINFO_MANIFESTO:10,GROUPINFO_MSGPOLICYTYPE:11,GROUPINFO_STATE:12,GROUPINFO_SETTOP:13,GROUPINFO_ORDERBY:14,GROUPINFO_TIMESTAMP:15,GROUPINFO_ALL:16,GROUPINFO_SEARCHGLOBAL:17,GROUPINFO_ISFIXED:18,GROUPINFO_EXPARAMS:19,GROUPINFO_SINGLEFILESPACE:20,GROUPINFO_GROUPSPACEID:21,GROUPINFO_GROUPSPACENAME:22,GROUPINFO_SEARCHGLOBAL_CONTACT_UNION:23},t.GROUPMEMBER_TYPE={GROUPMEMBER_ID:0,GROUPMEMBER_GROUPID:1,GROUPMEMBER_STAFFID:2,GROUPMEMBER_ACCOUNT:3,GROUPMEMBER_NAME:4,GROUPMEMBER_FLAG:5,GROUPMEMBER_GROUPID_STAFFID:6,GROUPMEMBER_ALL:7,GROUPMEMBER_GROUPLIST_BYACCOUNT:8,GROUPMEMBER_SEARCHTEXT:9,GROUPMEMBER_SHOWACCOUNT:12},t.GROUPCONFIG_TYPE={GROUPCONFIG_ID:0,GROUPCONFIG_GROUPID:1,GROUPCONFIG_MUTENOTIFY:2,GROUPCONFIG_SAVETOCONTACT:3,GROUPCONFIG_STICKONTOP:4,GROUPCONFIG_INVITEPERM:5,GROUPCONFIG_TIMESTAMP:6,GROUPCONFIG_ALL:7},t.CONVERSATION_TYPE={CONV_AUTOID:0,CONV_TYPE:1,CONV_ACCOUNT:2,CONV_CONTACTAUTOID:3,CONV_GROUPID:4,CONV_LASTMESSAGE_ID:5,CONV_UNREADMSG:6,CONV_UNREADCALL:7,CONV_ISDELETE:8,CONV_TIMESTAMP:9,CONV_ALL:10,CONV_CONTACTID:11,CONV_LASTSERVERMESSAGE_ID:12,CONV_CONVID:13},t.FILERECORD_TYPE={FILERECORD_ID:0,FILERECORD_CONVID:1,FILERECORD_CONVAUTOID:2,FILERECORD_MESSAGEID:3,FILERECORD_SERVERMESSAGEID:4,FILERECORD_STAFFID:5,FILERECORD_FILEHANDLE:6,FILERECORD_FILEDEALTYPE:7,FILERECORD_FILEPATH:8,FILERECORD_ISP2P:9,FILERECORD_FILENAME:10,FILERECORD_REALNAME:11,FILERECORD_REALPATH:12,FILERECORD_SIZE:13,FILERECORD_UM_URL:14,FILERECORD_UM_ACCESSCODE:15,FILERECORD_ISDOWNLOADED:16,FILERECORD_ISQUOTE:17,FILERECORD_TIMESTAMP:18,FILERECORD_ALL:19,FILERECORD_SEARCHGLOBAL:20,FILERECORD_PAGELIMIT:21,FILERECORD_IMAGE:24},t.SCREENFILE_TYPE={SCREENSHOT_ID:0,SCREENSHOT_CONVID:1,SCREENSHOT_CONVAUTOID:2,SCREENSHOT_MESSAGEID:3,SCREENSHOT_SERVERMESSAGEID:4,SCREENSHOT_STAFFID:5,SCREENSHOT_FILEHANDLE:6,SCREENSHOT_FILEDEALTYPE:7,SCREENSHOT_FILEPATH:8,SCREENSHOT_FILENAME:9,SCREENSHOT_REALNAME:10,SCREENSHOT_REALPATH:11,SCREENSHOT_HEIGHT:12,SCREENSHOT_WIDTH:13,SCREENSHOT_UM_URL:14,SCREENSHOT_UM_ACCESSCODE:15,SCREENSHOT_ISDOWNLOADED:16,SCREENSHOT_ISQUOTE:17,SCREENSHOT_TIMESTAMP:18,SCREENSHOT_ALL:19,SCREENSHOT_SEARCHGLOBAL:20,SCREENSHOT_PAGELIMIT:21},t.HISTORYRECORD_TYPE={HISTORYRECORD_RECORDID:0,HISTORYRECORD_CONVID:1,HISTORYRECORD_CONVAUTOID:2,HISTORYRECORD_MESSAGEID:3,HISTORYRECORD_CLIENTMESSAGEID:4,HISTORYRECORD_CHATTYPE:5,HISTORYRECORD_CONTENT:6,HISTORYRECORD_CONTENTTYPE:7,HISTORYRECORD_DELIVERTIME:8,HISTORYRECORD_FILELIST:9,HISTORYRECORD_GROUPID:10,HISTORYRECORD_GROUPNAME:11,HISTORYRECORD_PEERNAME:12,HISTORYRECORD_PEERNATIVENAME:13,HISTORYRECORD_ORIGIN:14,HISTORYRECORD_TARGET:15,HISTORYRECORD_SHOWHTML:16,HISTORYRECORD_SHOWTEXT:17,HISTORYRECORD_ISREAD:18,HISTORYRECORD_MEDIATYPE:19,HISTORYRECORD_ISDELETE:20,HISTORYRECORD_SOURCEFLAG:21,HISTORYRECORD_QUOTE:22,HISTORYRECORD_TIMESTAMP:23,HISTORYRECORD_UTCSTAMP:24,HISTORYRECORD_LIMIT:25,HISTORYRECORD_OFFSET:26,HISTORYRECORD_RESERVERINT1:27,HISTORYRECORD_RESERVERINT2:28,HISTORYRECORD_RESERVERSTR1:29,HISTORYRECORD_RESERVERSTR2:30,HISTORYRECORD_UPDATE_UNREADBYCONVID:31,HISTORYRECORD_UPDATE_UNREADBYRECORD:32,HISTORYRECORD_UPDATE_UNREADBEFORECONVMESSAGEID:33,HISTORYRECORD_UPDATE_HTMLBYID:34,HISTORYRECORD_UPDATE_TEXTBYID:35,HISTORYRECORD_UPDATE_BODYANDTEXTBYMSGID:36,HISTORYRECORD_UPDATE_MSGIDBYRECORDID:37,HISTORYRECORD_ALL:38,HISTORY_SEARCHGLOBAL:39},t.GROUPCOLLECTION_TYPE={GROUPCOLLECTION_ID:0,GROUPCOLLECTION_COLLECTID:1,GROUPCOLLECTION_NAME:2,GROUPCOLLECTION_INDEX:3,GROUPCOLLECTION_STATE:4,GROUPCOLLECTION_ALL:5},t.GROUPCOLLECTIONMEM_TYPE={GROUPCOLLECTIONMEM_ID:0,GROUPCOLLECTIONMEM_COLLECTIONID:1,GROUPCOLLECTIONMEM_GROUPID:2,GROUPCOLLECTIONMEM_GROUPID_COLLECTIONID:3,GROUPCOLLECTIONMEM_ALL:4},t.USERTRACK_TYPE={USERTRACK_ID:0,USERTRACK_CONTENT:1,USERTRACK_RETRYCOUNT:2,USERTRACK_ALL:3,USERTRACK_LIMITCOUNT:4,USERTRACK_ALLLENGTH:5},t.AVATARTAG_TYPE={AVATARTAG_ID:0,AVATARTAG_ACCOUNT:1,AVATARTAG_ALL:2},t.OFFICIALACCOUNTSDETAIL_TYPE={OFFICIALACCOUNTSDETAIL_ID:0,OFFICIALACCOUNTSDETAIL_NODEID:1,OFFICIALACCOUNTSDETAIL_ALL:2},t.CALLRECORD_TYPE={CALLRECORD_ID:0,CALLRECORD_PEERACCOUNT:1,CALLRECORD_ISCALLOUT:2,CALLRECORD_CALLERNUMBER:3,CALLRECORD_CALLEENUMBER:4,CALLRECORD_CALLSTATE:5,CALLRECORD_CALLTYPE:6,CALLRECORD_CONFID:7,CALLRECORD_CONFPASSCODE:8,CALLRECORD_CONFMEMBERS:9,CALLRECORD_GROUPID:10,CALLRECORD_STARTTIME:11,CALLRECORD_DURATION:12,CALLRECORD_LIMITCOUNT:13,CALLRECORD_ALL:14,CALLRECORD_EXPARAMS:15,CALLRECORD_ALLCONF:16,CALLRECORD_ALLCALL:17}},1904:function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.convertOfficialAccountsDetail2JsList=t.convertCallRecord2JsList=t.convertContactGroupMember2JsList=t.convertContactGroup2JsList=t.convertGroupMember2JsList=t.convertGroupInfo2JsList=t.convertContact2JsList=t.convertRecent2JsList=t.convertMessage2JsList=t.convertScreenShot2JsList=t.convertFile2JsList=t.convertLoginInfo2SQLite=t.convertOfficialAccountsDetailList2SQLite=t.convertOfficialAccountsDetail2SQLite=t.convertAvatarTag2Data=t.convertCallRecord2Data=t.convertCallRecordList2Data=t.convertConfRecord2Data=t.convertContactGroupMemberList2SQLite=t.convertContactGroupMember2SQLite=t.convertContactGroupList2SQLite=t.convertContactGroup2SQLite=t.convertGroupMemberList2SQLite=t.convertGroupMember2SQLite=t.convertGroupList2SQLite=t.convertGroup2SQLite=t.convertContact2SqLiteList=t.convertContact2SqLite=t.convertRecent2SqLiteList=t.convertRecent2SqLite=t.convertMessage2SqLiteList=t.convertMessage2SqLite=t.convertScreenShot2SqLiteList=t.convertScreenShot2SqLite=t.convertFile2SqLiteList=t.convertFile2SqLite=void 0;var a=r(1905),u=n(a),i=r(1906),c=n(i);t.convertFile2SqLite=u.convertFile2SqLite,t.convertFile2SqLiteList=u.convertFile2SqLiteList,t.convertScreenShot2SqLite=u.convertScreenShot2SqLite,t.convertScreenShot2SqLiteList=u.convertScreenShot2SqLiteList,t.convertMessage2SqLite=u.convertMessage2SqLite,t.convertMessage2SqLiteList=u.convertMessage2SqLiteList,t.convertRecent2SqLite=u.convertRecent2SqLite,t.convertRecent2SqLiteList=u.convertRecent2SqLiteList,t.convertContact2SqLite=u.convertContact2SqLite,t.convertContact2SqLiteList=u.convertContact2SqLiteList,t.convertGroup2SQLite=u.convertGroup2SQLite,t.convertGroupList2SQLite=u.convertGroupList2SQLite,t.convertGroupMember2SQLite=u.convertGroupMember2SQLite,t.convertGroupMemberList2SQLite=u.convertGroupMemberList2SQLite,t.convertContactGroup2SQLite=u.convertContactGroup2SQLite,t.convertContactGroupList2SQLite=u.convertContactGroupList2SQLite,t.convertContactGroupMember2SQLite=u.convertContactGroupMember2SQLite,t.convertContactGroupMemberList2SQLite=u.convertContactGroupMemberList2SQLite,t.convertConfRecord2Data=u.convertConfRecord2Data,t.convertCallRecordList2Data=u.convertCallRecordList2Data,t.convertCallRecord2Data=u.convertCallRecord2Data,t.convertAvatarTag2Data=u.convertAvatarTag2Data,t.convertOfficialAccountsDetail2SQLite=u.convertOfficialAccountsDetail2SQLite,t.convertOfficialAccountsDetailList2SQLite=u.convertOfficialAccountsDetailList2SQLite,t.convertLoginInfo2SQLite=u.convertLoginInfo2SQLite,t.convertFile2JsList=c.convertFile2JsList,t.convertScreenShot2JsList=c.convertScreenShot2JsList,t.convertMessage2JsList=c.convertMessage2JsList,t.convertRecent2JsList=c.convertRecent2JsList,t.convertContact2JsList=c.convertContact2JsList,t.convertGroupInfo2JsList=c.convertGroupInfo2JsList,t.convertGroupMember2JsList=c.convertGroupMember2JsList,t.convertContactGroup2JsList=c.convertContactGroup2JsList,t.convertContactGroupMember2JsList=c.convertContactGroupMember2JsList,t.convertCallRecord2JsList=c.convertCallRecord2JsList,t.convertOfficialAccountsDetail2JsList=c.convertOfficialAccountsDetail2JsList},1905:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.convertLoginInfo2SQLite=t.convertOfficialAccountsDetailList2SQLite=t.convertOfficialAccountsDetail2SQLite=t.convertAvatarTag2Data=t.convertConfRecord2Data=t.convertCallRecord2Data=t.convertCallRecordList2Data=t.convertGroup2SQLite=t.convertGroupList2SQLite=t.convertContactGroupMember2SQLite=t.convertContactGroupMemberList2SQLite=t.convertContactGroup2SQLite=t.convertContactGroupList2SQLite=t.convertGroupMember2SQLite=t.convertGroupMemberList2SQLite=t.convertContact2SqLiteList=t.convertContact2SqLite=t.convertRecent2SqLiteList=t.convertRecent2SqLite=t.convertMessage2SqLiteList=t.convertMessage2SqLite=t.convertScreenShot2SqLiteList=t.convertScreenShot2SqLite=t.convertFile2SqLiteList=t.convertFile2SqLite=void 0;var a=r(322),u=n(a),i=r(142),c=n(i),s=r(69),o=n(s),l=r(139),f=n(l),p=coreLogger.getLogger("service")("DB/sqLite/convert2SqLite"),d=t.convertFile2SqLite=function(e){try{var t=e.file_deal_type,r=e.file_type,n=t;isNullOrEmpty(r)||(n+=10*r);var a={},u=(0,f.default)({},e);a.width=u.width||0,a.height=u.height||0,a.duration=u.duration||0,a.local=u.send_from_local||0;var i=(0,o.default)(a);return{id:C(u.id),convid:x(u.recent_owner),recordid:C(u.message_id),servermessageid:x(u.message_server_chat_id_str),convautoid:u.recent_id,filehandle:x(u.file_handle),filedealtype:n,filepath:x(u.file_path),isp2p:C(u.is_p2p),filename:x(u.file_name),filerealpath:x(u.file_real_save_path),filerealname:x(u.file_real_save_name),filesize:x(u.file_size),umurl:x(u.um_url),umaccesscode:x(u.um_plain_access_code),isdownloaded:C(g(u)),timestamp:C(u.time_stamp).toString(),isquote:C(u.is_quote),staffid:0,filetype:C(u.file_type),fileid:x(u.file_id),ownerid:x(u.owner_id),exparams:i}}catch(e){return p.error("convertFile2SqLite",{e:e.toJSON()}),null}},_=(t.convertFile2SqLiteList=function(e){var t=[];return e=[].concat((0,c.default)(e)),e.forEach(function(e){t.push(d(e))}),t},t.convertScreenShot2SqLite=function(e){try{var t=(0,f.default)({},e);return{id:C(t.id),convid:x(t.recent_owner),recordid:t.message_id,servermessageid:x(t.message_server_chat_id_str),convautoid:t.recent_id,filehandle:x(t.file_handle),filedealtype:t.file_deal_type,filepath:x(t.file_path),filename:x(t.file_name),filerealpath:x(t.file_real_save_path),filerealname:x(t.file_real_save_name),filesize:x(t.file_size),umurl:x(t.um_url),umaccesscode:x(t.um_plain_access_code),isdownloaded:C(g(t)),timestamp:C(t.time_stamp).toString(),isquote:C(t.is_quote),staffid:0,height:x(t.height),width:x(t.width),fileid:x(t.file_id),ownerid:x(t.owner_id)}}catch(e){return p.error("convertScreenShot2SqLite",{e:e.toJSON()}),null}}),m=(t.convertScreenShot2SqLiteList=function(e){var t=[];return e=[].concat((0,c.default)(e)),e.forEach(function(e){var r=_(e);t.push(r)}),t},t.convertMessage2SqLite=function(e){try{var t=(0,f.default)({},e),r="",n=-1;if(!isNullOrEmpty(t.file_list)){var a=[].concat((0,c.default)(t.file_list));r=coreCommon.zip((0,o.default)(a))}isNullOrEmpty(t.status)||(n=t.status);var i={is_quote:0,has_quote:0,server_chat_id_str:"",client_chat_id:"",id:"",status:constant.SEND_STATUS.success,cardtype:-1};isNullOrEmpty(t.send_status)||(i.status=t.send_status),i.is_dealed_apply=t.is_dealed_apply,isNullOrEmpty(t.card_type)||(i.cardtype=t.card_type),isNullOrEmpty(t.recent_owner)&&(i.is_quote=1),isNullOrEmpty(t.quote)||(i.has_quote=1,i.server_chat_id_str=t.quote.server_chat_id_str,i.client_chat_id=t.quote.client_chat_id);var s=t.show_html;isNullOrEmpty(s)||(s=coreCommon.zip(s));var l=t.show_translate;isNullOrEmpty(l)||(l=coreCommon.zip(l));var d=constant.IS_DELETE.NO;t.is_delete===constant.IS_DELETE.YES&&(d=constant.IS_DELETE.YES);var _=C(t.sub_msg_type);(0,u.default)(constant.MSGSUBFLAG).includes(_)||(_=constant.MSGSUBFLAG.NORMAL);return{recordid:C(t.id)||0,convid:x(t.recent_owner),convautoid:C(t.recent_id),servermessageid:x(t.server_chat_id_str),clientmessageid:C(t.client_chat_id).toString(),chattype:C(t.chat_type),content:x(t.content),contenttype:L(t.content_type),delivertime:C(t.deliver_time).toString(),groupid:x(t.group_id),groupname:x(t.group_name),peername:x(t.name),peernativename:x(t.native_name),originaccount:x(t.origin),targetaccount:x(t.target),showhtml:x(s),showtext:x(t.show_text),showtranslate:x(l),sourceflag:t.source_flag,isread:t.is_read,mediatype:t.media_type,timestamp:x(t.time_stamp),utcstamp:C(t.utc_stamp).toString(),isdelete:d,submsgtype:_,filelist:r,limitcount:0,offset:0,reservedint1:0,reservedint2:0,reservedstr1:"",reservedstr2:"",quote:x((0,o.default)(i)),status:n}}catch(e){return p.error("convertMessage2SqLite",{e:e.toJSON()}),null}}),v=(t.convertMessage2SqLiteList=function(e){var t=[];return e=[].concat((0,c.default)(e)),e.forEach(function(e){var r=m(e);t.push(r)}),t},t.convertRecent2SqLite=function(e){try{var t=(0,f.default)({},e),r="",n=0,a="",u=0,i="",c="",s={};coreIm.isGroup(t.chat_type)?isNullOrEmpty(t.group)?a=t.owner||t.group_id||"":(a=t.group.group_id,t.group_name=t.group.name):coreIm.isCustomChat(t.chat_type)?s.name=t.name||t.owner:(isNullOrEmpty(t.contact)?r=t.chat_type===constant.CHAT_TYPE.SYSTEM_NOTIFICATION?"":t.owner||t.account||"":(r=t.contact.account,n=t.contact.id),isNullOrEmpty(t.contact_id)||(c=x(t.contact_id))),isNullOrEmpty(t.last_message)||(u=t.last_message.id||0,i=t.last_message.server_chat_id_str);var l=constant.IS_DELETE.NO;t.is_delete===constant.IS_DELETE.YES&&(l=constant.IS_DELETE.YES),t.is_disable&&(s.is_disable="1"),isNullOrEmpty(t.messageSign)||(s.sign=t.messageSign),isNullOrEmpty(t.set_unread_num)||0===t.set_unread_num||(s.unreadnum=t.set_unread_num),isNullOrEmpty(t.group_name)||(s.groupname=t.group_name),isNullOrEmpty(t.unread_group_notify_num)||0===t.unread_group_notify_num||(s.unread_group_notify_num=t.unread_group_notify_num);var d=(0,o.default)(s);return{id:C(t.id),convtype:C(t.chat_type),account:x(r),contactautoid:C(n),contactid:x(c),groupid:x(a),lastmessagerecordid:u,unreadcall:0,unreadmsg:C(t.unread_num),timestamp:C(t.time_stamp).toString(),isdelete:l,topoperatetime:x(t.stick_on_top),lastservermessageid:i||"",convid:x(t.owner),stick_on_top:0,exparams:d}}catch(e){return p.error("convertRecent2SqLite",{e:e.toJSON()}),null}}),y=(t.convertRecent2SqLiteList=function(e){var t=[];return e=[].concat((0,c.default)(e)),e.forEach(function(e){var r=v(e);t.push(r)}),t},t.convertContact2SqLite=function(e){try{return e.q_pin_yin||(e.q_pin_yin=window.pinyinUtil.getPinyin(e.name).toUpperCase()),{id:0,staffid:C(e.staff_id),account:x(e.account),etag:x(e.etag),exparam:x(e.exparam),contactid:x(e.contact_id),name:x(e.name),qpinyin:x(e.q_pin_yin),gender:C(e.gender),mobilephone:x(e.mobile),mobileCountry:C(e.mobileCountry),officephone:x(e.office_phone),officePhoneCountry:C(e.officePhoneCountry),officephone2:x(e.office_phone2),otherphone:x(e.other_phone),fax:x(e.fax),email:x(e.email),zip:x(e.postcode),address:x(e.address),title:x(e.title),deptname:x(e.dept_name),imageid:x(e.image_id),signature:x(e.signature),website:x(e.website),bindno:x(e.bind_no),nativename:x(e.native_name),homephone:x(e.home_phone),otherphone2:x(e.other_phone2),staffno:x(e.staff_no),corpname:x(e.crop_name),deptid:x(e.dept_id),deptnamecn:x(e.dept_name_cn),deptnameen:x(e.dept_name_en),desc:x(e.desc),foreignname:x(e.foreign_name),imno:x(e.im_no),imagesynctime:x(e.image_sync_time),ipphone:x(e.ip_phone),issecurity:C(e.is_security),nickname:x(e.nick_name),oldaccount:x(e.old_account),shortphone:x(e.short_phone),voip:x(e.voip),modifytime:x(e.modify_time),espacenumber:x(e.espacenumber),showaccount:x(e.show_account),timestamp:x(e.time_stamp),isExternalContact:C(e.isExternalContact),externalType:C(e.externalType),isHardTerminal:e.isHardTerminal?1:0,vmrid:x(e.vmrId),isRestrictedUser:3===e.statusCode?1:0}}catch(e){return p.error("convertContact2SqLite",{e:e.toJSON()}),{}}}),h=(t.convertContact2SqLiteList=function(e){var t=[];return e=[].concat((0,c.default)(e)),e.forEach(function(e){var r=y(e);t.push(r)}),t},t.convertGroupMemberList2SQLite=function(e){var t=[];return e=[].concat((0,c.default)(e)),e.forEach(function(e){var r=h(e);t.push(r)}),t},t.convertGroupMember2SQLite=function(e){var t={id:C(e.id),groupid:e.group_id,account:isNullOrEmpty(e.account)?"":e.account,membername:isNullOrEmpty(e.name)?"":e.name,memberstaffid:C(e.staffid),flag:C(e.flag),groupname:x(e.groupname),qpinyin:e.q_pin_yin,showaccount:x(e.show_account)};return t.qpinyin||(t.qpinyin=window.pinyinUtil.getPinyin(t.membername).toUpperCase()),t}),O=(t.convertContactGroupList2SQLite=function(e){var t=[];return e=[].concat((0,c.default)(e)),e.forEach(function(e){var r=O(e);t.push(r)}),t},t.convertContactGroup2SQLite=function(e){return{id:C(e.id),groupid:e.group_id.toString(),groupindex:e.index,name:e.name,state:0,isdefault:e.isDefault||0}}),E=(t.convertContactGroupMemberList2SQLite=function(e){var t=[];return e=[].concat((0,c.default)(e)),e.forEach(function(e){var r=E(e);t.push(r)}),t},t.convertContactGroupMember2SQLite=function(e){return{id:C(e.id),groupid:x(e.group_id).toString(),contactid:x(e.contact_id),state:0}}),b=(t.convertGroupList2SQLite=function(e){var t=[];return e=[].concat((0,c.default)(e)),e.forEach(function(e){var r=b(e);t.push(r)}),t},t.convertGroup2SQLite=function(e){try{var t=(0,f.default)({},e),r={};isNullOrEmpty(t.is_init_group_name)||(r.is_init_group_name=t.is_init_group_name),isNullOrEmpty(t.sync_member_time)||(r.mtime=t.sync_member_time),isNullOrEmpty(t.single_file_space)||(r.singlefilespace=t.single_file_space),isNullOrEmpty(t.team_notify_is_read)||(r.teamnotifyisread=t.team_notify_is_read);var n=(0,o.default)(r);return{id:C(t.id),groupid:t.group_id,group_groupid:t.group_id,capacity:t.capacity,name:t.name,enname:"",owner:t.owner,desc:t.desc,grouptype:t.group_type,joinflag:t.auto_join_flag,manifesto:t.manifesto,msgpolicytype:t.msg_policy_type,state:0,singlefilespace:0,settop:0,orderby:0,timestamp:"",isfixed:L(t.fix_discuss),groupspaceid:x(t.group_space_id),groupspacename:x(t.group_space_name),exparams:n}}catch(e){return p.error("convertGroup2SQLite",{e:e.toJSON()}),null}}),g=function(e){var t=(0,f.default)({},e);return t.file_deal_type===constant.FILE_DEAL_TYPE.UPLOAD?t.is_uploaded:t.file_deal_type===constant.FILE_DEAL_TYPE.DOWNLOAD||t.file_deal_type===constant.FILE_DEAL_TYPE.RE_DOWNLOAD?t.is_downloaded:t.file_deal_type===constant.FILE_DEAL_TYPE.SEND?t.is_sent:t.file_deal_type===constant.FILE_DEAL_TYPE.RECEIVE||t.file_deal_type===constant.FILE_DEAL_TYPE.RE_RECEIVE?t.is_received:null},x=function(e){return isNullOrEmpty(e)?"":"string"!=typeof e?e.toString():e},C=function(e){return isNullOrEmpty(e)?0:parseInt(e)},L=function(e){if(isNullOrEmpty(e))return 0;var t=parseInt(e);return t>1||t<0?0:t},R=(t.convertCallRecordList2Data=function(e){var t=[];return e=[].concat((0,c.default)(e)),e.forEach(function(e){var r=R(e);t.push(r)}),t},t.convertCallRecord2Data=function(e){try{var t=(0,f.default)({},e),r={};isNullOrEmpty(t.isCallSuccess)||(r.isCallSuccess=t.isCallSuccess),isNullOrEmpty(t.callUserName)||(r.callUserName=t.callUserName),isNullOrEmpty(t.isVideo)||(r.isVideo=t.isVideo),isNullOrEmpty(t.contact_id)||(r.contact_id=t.contact_id);var n=(0,o.default)(r);return{id:C(t.id),peeraccount:x(t.peeraccount),iscallout:t.iscallout,callernumber:x(t.callernumber),calleenumber:x(t.calleenumber),confid:x(t.confid),confpasscode:x(t.confpasscode),confmembers:t.confmembers,groupid:x(t.groupid),starttime:t.starttime,callstate:t.callstate,calltype:t.calltype,duration:t.duration,exparams:n}}catch(e){return p.error("convertCallRecord2Data",{e:e.toJSON()}),null}}),k=(t.convertConfRecord2Data=function(e){try{var t=(0,f.default)({},e),r={};isNullOrEmpty(e.media_type)||(r.mtype=e.media_type.toString()),isNullOrEmpty(e.record_type)||(r.rtype=e.record_type),isNullOrEmpty(e.scheduser_name)||(r.sname=e.scheduser_name),isNullOrEmpty(e.scheduser_number)||(r.snum=e.scheduser_number),isNullOrEmpty(e.isInPast)||(r.past=e.isInPast),isNullOrEmpty(e.conf_subject)||(r.subj=e.conf_subject),isNullOrEmpty(e.cycle_conf_id)||(r.ccid=e.cycle_conf_id);var n=(0,o.default)(r),a={id:0,peeraccount:"",iscallout:0,callernumber:"",calleenumber:"",callstate:0,calltype:0,confid:x(t.conf_id),confpasscode:x(t.general_pwd),confmembers:isNullOrEmpty(t.confmembers)?"":t.confmembers,groupid:x(t.groupid),starttime:C(t.starttime),duration:C(t.duration),exparams:n};return a.duration>2147483646&&(a.duration=2147483646),a}catch(e){return p.error("convertConfRecord2Data",{e:e.toJSON()}),null}},t.convertAvatarTag2Data=function(e){return{id:C(e.id),account:x(e.account).toString(),etag_small:x(e.etag_small).toString(),etag_medium:x(e.etag_medium).toString(),etag_large:x(e.etag_large).toString()}},t.convertOfficialAccountsDetail2SQLite=function(e){return{id:C(e.id),nodeID:x(e.nodeID).toString(),qrcodeSmallUrl:x(e.qrcodeSmallUrl).toString(),qrcodeBigUrl:x(e.qrcodeBigUrl).toString(),nodeIconUrl:x(e.nodeIconUrl).toString(),isRequired:C(e.isRequired),isVip:C(e.isVip),privateCode:C(e.privateCode),systemVersion:x(e.systemVersion).toString(),nodeName:x(e.nodeName).toString(),nodeNameEn:x(e.nodeNameEn).toString(),description:x(e.description).toString(),descriptionEn:x(e.descriptionEn).toString(),nodeType:x(e.nodeType).toString(),attentionAll:C(e.attentionAll),isSubscribe:C(e.isSubscribe),exparams:x(e.exparams).toString()}});t.convertOfficialAccountsDetailList2SQLite=function(e){var t=[];return e.forEach(function(e){var r=k(e);t.push(r)}),t},t.convertLoginInfo2SQLite=function(e){var t=!0===e.isAutoLogin?1:0,r=!0===e.isRememberPassWord?1:0;return{id:C(e.id),account:e.account||"",userpwd:e.encryptPassword||"",isautologin:t,isrememberpwd:r,displayaccount:x(e.display_account)||"",userrandom:e.strUserRandom||"",tenantcn:e.tenantcn||"",tenanten:e.tenanten||"",thirdaccount:e.thirdaccount||"",tenantid:e.tenantid||"",thirdcertype:e.thirdcertype||!1,timestamp:x(e.time_stamp),isMaxhubWorkplace:C(e.isMaxhubWorkplace),maxhubMiddleEndAddress:x(e.maxhubMiddleEndAddress),setPasswordToken:x(e.setPasswordToken)}}},1906:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.convertOfficialAccountsDetail2JsList=t.convertCallRecord2JsList=t.convertContactGroupMember2JsList=t.convertContactGroup2JsList=t.convertGroupInfo2JsList=t.convertGroupMember2JsList=t.convertContact2JsList=t.convertRecent2JsList=t.convertMessage2JsList=t.convertScreenShot2JsList=t.convertFile2JsList=void 0;var a=r(3),u=n(a),i=r(139),c=n(i),s=r(1),o=n(s),l=r(2),f=n(l),p=r(142),d=n(p),_=r(823),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(_),v=coreLogger.getLogger("service")("DB/sqLite/convert2Js"),y=(t.convertFile2JsList=function(e){var t=[];return e=[].concat((0,d.default)(e)),e.forEach(function(e){t.push(y(e))}),t},function(e){try{var t={id:e.id,file_handle:e.filehandle,file_deal_type:e.filedealtype,message_server_chat_id_str:e.servermessageid,recent_id:e.convautoid,recent_owner:e.convid,file_real_save_name:e.filerealname,file_real_save_path:e.filerealpath,file_name:e.filename,file_path:e.filepath,is_p2p:e.isp2p,file_size:e.filesize,um_url:e.umurl,time_stamp:parseInt(e.timestamp),um_plain_access_code:e.umaccesscode,message_id:e.recordid,is_quote:e.isquote,file_type:e.filetype,file_id:e.fileid,owner_id:e.ownerid,exparams:e.exparams};if(!isNullOrEmpty(e.exparams)){var r=JSON.parse(e.exparams);t.width=r.width||0,t.height=r.height||0,t.duration=r.duration||0}return t=I(t,e.isdownloaded)}catch(e){v.error("convertFile2Js",{e:e.toJSON()})}}),h=(t.convertScreenShot2JsList=function(e){var t=[];return e=[].concat((0,d.default)(e)),e.forEach(function(e){t.push(h(e))}),t},function(e){try{var t={id:e.id,file_handle:e.filehandle,file_deal_type:e.filedealtype,message_server_chat_id_str:e.servermessageid,recent_id:e.convautoid,recent_owner:e.convid,file_real_save_name:e.filerealname,file_real_save_path:e.filerealpath,file_name:e.filename,file_size:e.filesize,file_path:e.filepath,um_url:e.umurl,time_stamp:parseInt(e.timestamp),um_plain_access_code:e.umaccesscode,message_id:e.recordid,is_quote:e.isquote,height:parseInt(e.height),width:parseInt(e.width),file_id:e.fileid,owner_id:e.ownerid};return t=I(t,e.isdownloaded)}catch(e){v.error("convertScreenShot2Js",{e:e.toJSON()})}}),O=(t.convertMessage2JsList=function(){var e=(0,f.default)(o.default.mark(function e(t){var r,n,a;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=[],t=[].concat((0,d.default)(t)),n=0;case 3:if(!(n<t.length)){e.next=12;break}return a=t[n],e.next=7,O(a);case 7:a=e.sent,r.push(a);case 9:n++,e.next=3;break;case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),function(){var e=(0,f.default)(o.default.mark(function e(t){var r,n,a,u,i,s,l,f,p,d,_;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=(0,c.default)({},t),n=r.filelist,a=[],u=constant.SEND_STATUS.success,i=void 0,s=JSON.parse(r.quote),isNullOrEmpty(s.status)||(u=s.status),i=parseInt(s.is_dealed_apply),isNullOrEmpty(n)){e.next=12;break}coreCommon.isZipStr(n)&&(n=coreCommon.unZip(n)),n=n.replace(/\\\\/g,"/"),a=JSON.parse(n),e.next=17;break;case 12:if(!coreIm.hasScreenShot(r.mediatype)){e.next=17;break}return v.debug("convertMessage2Js press 查询截图表"),e.next=16,m.queryScreenShotList({message_server_chat_id_str:r.servermessageid});case 16:a=e.sent;case 17:if(l=r.showhtml,isNullOrEmpty(l)||coreCommon.isZipStr(l)&&(l=coreCommon.unZip(l)),f=r.showtranslate,isNullOrEmpty(f)||coreCommon.isZipStr(f)&&(f=coreCommon.unZip(f)),p={},1!==s.has_quote){e.next=43;break}if(s.server_chat_id_str!==r.servermessageid){e.next=27;break}v.info("convertMessage2Js quote.server_chat_id_str === info.servermessageid，no deal"),e.next=43;break;case 27:if(isNullOrEmpty(s.server_chat_id_str)){e.next=33;break}return e.next=30,m.queryMessage({server_chat_id_str:s.server_chat_id_str});case 30:p=e.sent,e.next=43;break;case 33:if(isNullOrEmpty(s.client_chat_id)){e.next=39;break}return e.next=36,m.queryMessage({client_chat_id:s.client_chat_id});case 36:p=e.sent,e.next=43;break;case 39:if(isNullOrEmpty(s.id)){e.next=43;break}return e.next=42,m.queryMessage({id:s.id});case 42:p=e.sent;case 43:if(d={id:r.recordid,recent_id:r.convautoid,recent_owner:r.convid,server_chat_id_str:r.servermessageid,client_chat_id:parseInt(r.clientmessageid),chat_type:r.chattype,content:r.content,content_type:r.contenttype,deliver_time:parseInt(r.delivertime),group_id:r.groupid,group_name:r.groupname,name:r.peername,native_name:r.peernativename,nick_name:s.nick_name,origin:r.originaccount,target:r.targetaccount,show_html:l,show_translate:f,sub_msg_type:r.submsgtype?r.submsgtype:0,show_text:r.showtext,source_flag:r.sourceflag,is_read:r.isread,media_type:r.mediatype,time_stamp:parseInt(r.timestamp),utc_stamp:parseInt(r.utcstamp),is_delete:r.isdelete,file_list:a,quote:p,is_quote:s.is_quote,card_type:s.cardtype,status:r.status,send_status:u,is_dealed_apply:i},!(isNullOrEmpty(d.name)&&isNullOrEmpty(d.native_name)&&isNullOrEmpty(d.nick_name))){e.next=52;break}if(d.chat_type===constant.CHAT_TYPE.SYSTEM_NOTIFICATION){e.next=52;break}return e.next=48,coreContact.getContactByAccount(d.origin);case 48:_=e.sent,d.name=_.name,d.native_name=_.native_name,d.nick_name=_.nick_name;case 52:return e.abrupt("return",d);case 55:return e.prev=55,e.t0=e.catch(0),v.error("convertMessage2Js",e.t0.toString()),e.abrupt("return",{});case 59:case"end":return e.stop()}},e,void 0,[[0,55]])}));return function(t){return e.apply(this,arguments)}}()),E=(t.convertRecent2JsList=function(){var e=(0,f.default)(o.default.mark(function e(t){var r,n,a,u,i,c,s,l,f,p,_,y,h,O,g;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,showDealTime("convertRecent2JsList 处理基本信息 Pre"),r=[],n=[].concat((0,d.default)(t)),a=[],u=[],i=[],c=[],s={},l={},f={},p={},_=n.length-1;case 4:if(!(_>-1)){e.next=32;break}return y=n[_],r[_]=E(y),h={},isNullOrEmpty(r[_].exparams)||(h=JSON.parse(r[_].exparams)),isNullOrEmpty(y.convid)?coreIm.isGroup(y.convtype)?(r[_].owner=y.groupid,"1"!==h.is_disable&&u.push(r[_].owner),l[r[_].owner]=_,r[_].group={}):(r[_].owner=y.account||y.contactid,a.push(r[_].owner),s[r[_].owner]=_,r[_].contact={}):coreIm.isGroup(y.convtype)?("1"!==h.is_disable&&u.push(r[_].owner),l[r[_].owner]=_,r[_].group={}):coreIm.isPublicNo(y.convtype)?(i.push(r[_].owner),f[r[_].owner]=_,r[_].publicNoInfo={}):(a.push(r[_].owner),s[r[_].owner]=_,r[_].contact={}),e.next=12,k(y,r[_]);case 12:if(r[_]=e.sent,isNullOrEmpty(y.lastservermessageid)){e.next=18;break}p[y.lastservermessageid]=_,c.push(y.lastservermessageid),e.next=29;break;case 18:if(!(y.lastmessagerecordid>0)){e.next=25;break}return e.next=21,m.queryMessage({id:y.lastmessagerecordid});case 21:O=e.sent,r[_].last_message=O,e.next=29;break;case 25:return e.next=27,m.limitMessageListByNum({recent_owner:r[_].owner,utc_stamp:9999999999999,isPre:!0,pageSize:1});case 27:g=e.sent,isNullOrEmpty(g)||(r[_].last_message=g[0]);case 29:_--,e.next=4;break;case 32:return e.next=34,b(a,s,u,l,c,p,i,f,r);case 34:return r=e.sent,e.abrupt("return",r);case 38:return e.prev=38,e.t0=e.catch(0),v.error("convertRecent2JsList",{e:e.t0.toJSON()}),e.abrupt("return",[]);case 42:case"end":return e.stop()}},e,void 0,[[0,38]])}));return function(t){return e.apply(this,arguments)}}(),function(e){var t=coreGroup.checkIsMuteNotify(e.convid);return coreIm.isPublicNo(e.convtype)&&coreIm.updateUnReadNumMap(e.convid,e.unreadmsg),{id:e.id,chat_type:e.convtype,unread_num:0,set_unread_num:0,time_stamp:parseInt(e.timestamp),stick_on_top:parseInt(e.topoperatetime),account:e.account,group_id:e.groupid,contact_id:e.contactid,isMute:t,owner:e.convid,is_delete:e.isdelete||constant.IS_DELETE.NO,last_message_server_chat_id_str:e.lastservermessageid,is_disable:!1,exparams:e.exparams,top_operate_time:e.topoperatetime,messageSign:[]}}),b=function(){var e=(0,f.default)(o.default.mark(function e(t,r,n,a,u,i,c,s,l){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length>0)){e.next=4;break}return e.next=3,x(t,r,l);case 3:l=e.sent;case 4:if(!(n.length>0)){e.next=8;break}return e.next=7,L(n,a,l);case 7:l=e.sent;case 8:if(!(u.length>0)){e.next=12;break}return e.next=11,R(u,i,l);case 11:l=e.sent;case 12:if(!(c.length>0)){e.next=16;break}return e.next=15,C(c,s,l);case 15:l=e.sent;case 16:return l=g(l),e.abrupt("return",l);case 18:case"end":return e.stop()}},e,void 0)}));return function(t,r,n,a,u,i,c,s,o){return e.apply(this,arguments)}}(),g=function(e){for(var t=0;t<e.length;t++){if(!isNullOrEmpty(e[t].exparams)){var r=JSON.parse(e[t].exparams);"1"===r.is_disable&&(e[t].is_disable=!0),isNullOrEmpty(r.sign)||(e[t].messageSign=r.sign),isNullOrEmpty(r.unreadnum)||(e[t].set_unread_num=r.unreadnum),isNullOrEmpty(r.name)||(e[t].show_name=r.name),isNullOrEmpty(r.groupname)||(e[t].group_name=r.groupname),isNullOrEmpty(r.unread_group_notify_num)||(e[t].unread_group_notify_num=r.unread_group_notify_num)}coreIm.isShowRecent(e[t])?e[t].is_delete=constant.IS_DELETE.NO:e[t].is_delete=constant.IS_DELETE.YES}return e},x=function(){var e=(0,f.default)(o.default.mark(function e(t,r,n){var a,u,i,c;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.queryContactList({all:"",accountlist:t.join(",")});case 2:if(a=e.sent,a.length>0)for(u=0;u<a.length;++u)i=a[u],c=r[i.account],isNullOrEmpty(c)||(n[c].contact=i);return e.abrupt("return",n);case 5:case"end":return e.stop()}},e,void 0)}));return function(t,r,n){return e.apply(this,arguments)}}(),C=function(){var e=(0,f.default)(o.default.mark(function e(t,r,n){var a,u,i,c;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.queryOfficialAccountsDetailList({all:""});case 2:if(a=e.sent,a.length>0)for(u=0;u<a.length;++u)i=a[u],c=r[i.nodeID],isNullOrEmpty(c)||(n[c].publicNoInfo=i);return e.abrupt("return",n);case 5:case"end":return e.stop()}},e,void 0)}));return function(t,r,n){return e.apply(this,arguments)}}(),L=function(){var e=(0,f.default)(o.default.mark(function e(t,r,n){var a,u,i,c;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.queryGroupListByIdList(t.join(","));case 2:if(a=e.sent,a.length>0)for(u=0;u<a.length;++u)i=a[u],isNullOrEmpty(i)||(c=r[i.group_id],isNullOrEmpty(c)||(n[c].group=i));return e.abrupt("return",n);case 5:case"end":return e.stop()}},e,void 0)}));return function(t,r,n){return e.apply(this,arguments)}}(),R=function(){var e=(0,f.default)(o.default.mark(function e(t,r,n){var a,i,c,s,l,f,p;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],i=[],c=t.splitByNum(constant.AppConfig.IM.maxOnceQueryMessageNum),c.forEach(function(e){i.push(m.queryMessageList({server_chat_id_str:e.join(",")}))}),e.next=6,u.default.all(i);case 6:if(s=e.sent,s.forEach(function(e){a=a.concat(e)}),a.length>0)for(l=0;l<a.length;++l)f=a[l],p=r[f.server_chat_id_str],isNullOrEmpty(p)||(n[p].last_message=f);return e.abrupt("return",n);case 10:case"end":return e.stop()}},e,void 0)}));return function(t,r,n){return e.apply(this,arguments)}}(),k=function(){var e=(0,f.default)(o.default.mark(function e(t,r){var n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isdelete===constant.IS_DELETE.YES?r.is_delete=constant.IS_DELETE.YES:r.is_delete=constant.IS_DELETE.NO,!isNullOrEmpty(r.owner)){e.next=10;break}if(!isNullOrEmpty(t.contactid)){e.next=9;break}return e.next=5,m.queryContact({contact_id:t.contactid});case 5:n=e.sent,r.contact=n,e.next=10;break;case 9:v.error("queryRecentList no support param");case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}},e,void 0)}));return function(t,r){return e.apply(this,arguments)}}(),T=(t.convertContact2JsList=function(e){var t=[];return e=[].concat((0,d.default)(e)),e.forEach(function(e){t.push(T(e))}),t},function(e){try{return{id:e.id,staff_id:e.staffid,account:e.account,etag:e.etag,contact_id:e.contactid,name:e.name,q_pin_yin:e.qpinyin,gender:e.gender,mobile:e.mobilephone,mobileCountry:e.mobileCountry,office_phone:e.officephone,officePhoneCountry:e.officePhoneCountry,office_phone2:e.officephone2,other_phone:e.otherphone,fax:e.fax,email:e.email,postcode:e.zip,address:e.address,title:e.title,dept_name:e.deptname,image_id:e.imageid,signature:e.signature,website:e.website,bind_no:e.bindno,native_name:e.nativename,staff_no:e.staffno,crop_name:e.corpname,dept_id:e.deptid,dept_name_cn:e.deptnamecn.replace(/\*/g,"-"),dept_name_en:e.deptnameen.replace(/\*/g,"-"),desc:e.desc,foreign_name:e.foreignname,im_no:e.imno,image_sync_time:e.imagesynctime,ip_phone:e.ipphone,is_security:e.issecurity,nick_name:e.nickname,old_account:e.oldaccount,short_phone:e.shortphone,voip:e.voip,modify_time:e.modifytime,home_phone:e.homephone,other_phone2:e.otherphone2,espacenumber:e.espacenumber,exparam:e.exparam,show_account:e.showaccount,time_stamp:e.timestamp,isExternalContact:e.isExternalContact,externalType:e.externalType,isHardTerminal:e.isHardTerminal,vmrId:e.vmrid,statusCode:e.isRestrictedUser?3:0}}catch(e){v.error("convertContact2Js",{e:e.toJSON()})}}),w=(t.convertGroupMember2JsList=function(e,t){var r=[];if(e=[].concat((0,d.default)(e)),e.forEach(function(e){r.push(w(e))}),r.sort(function(e,t){return e.q_pin_yin===t.q_pin_yin?0:e.q_pin_yin<t.q_pin_yin?-1:1}),!isNullOrEmpty(t)){var n=r.findIndex(function(e){return e.account===t});if(n>-1){var a=r.splice(n,1);r.unshift(a[0])}}return r},function(e){try{var t={id:e.id,group_id:e.groupid,name:e.membername,staffid:e.memberstaffid,account:e.account,flag:e.flag,groupname:e.groupname,q_pin_yin:e.qpinyin,show_account:e.showaccount};return t.q_pin_yin||(t.q_pin_yin=window.pinyinUtil.getPinyin(t.name).toUpperCase()),t}catch(e){v.error("convertGroupMember2Js",{e:e.toJSON()})}}),S=(t.convertGroupInfo2JsList=function(e){var t=[];return e=[].concat((0,d.default)(e)),e.forEach(function(e){var r=S(e);t.push(r)}),t.sort(function(e,t){return e.q_pin_yin<t.q_pin_yin?-1:1})},function(e){try{var t={id:e.id,group_id:e.groupid,capacity:e.capacity,name:e.name,owner:e.owner,desc:e.desc,group_type:e.grouptype,auto_join_flag:e.joinflag,exparams:e.exparams,manifesto:e.manifesto,msg_policy_type:e.msgpolicytype,state:constant.CONTACT_GROUP_STATE.ADD,single_file_space:e.singlefilespace,fix_discuss:e.isfixed,sync_member_time:"",group_space_id:e.groupspaceid,group_space_name:e.groupspacename};if(!isNullOrEmpty(t.exparams)){var r=JSON.parse(t.exparams);isNullOrEmpty(r.is_init_group_name)||(t.is_init_group_name=r.is_init_group_name),isNullOrEmpty(r.mtime)||(t.sync_member_time=r.mtime),isNullOrEmpty(r.singlefilespace)||(t.single_file_space=r.singlefilespace),isNullOrEmpty(r.teamnotifyisread)||(t.team_notify_is_read=r.teamnotifyisread)}return t}catch(e){return v.error("convertGroupInfo2Js",{e:e.toJSON()}),{}}}),A=(t.convertContactGroup2JsList=function(e){var t=[];return e=[].concat((0,d.default)(e)),e.forEach(function(e){t.push(A(e))}),t},function(e){try{return{id:e.id,group_id:e.groupid,index:e.groupindex,name:e.name,state:constant.CONTACT_GROUP_STATE.ADD,isDefault:e.isdefault||0}}catch(e){return v.error("convertGroupInfo2Js",{e:e.toJSON()}),{}}}),N=(t.convertContactGroupMember2JsList=function(e){var t=[];return e=[].concat((0,d.default)(e)),e.forEach(function(e){t.push(N(e))}),t},function(e){try{return{id:e.id,group_id:e.groupid,contact_id:e.contactid,state:constant.CONTACT_GROUP_STATE.ADD}}catch(e){return v.error("convertContactGroupMember2Js",{e:e.toJSON()}),{}}}),I=function(e,t){var r=0,n=void 0;return e.file_deal_type>10?(r=parseInt(e.file_deal_type/10),n=e.file_deal_type-10*r):n=e.file_deal_type,n===constant.FILE_DEAL_TYPE.UPLOAD?e.is_uploaded=t:n===constant.FILE_DEAL_TYPE.DOWNLOAD||n===constant.FILE_DEAL_TYPE.RE_DOWNLOAD?e.is_downloaded=t:n===constant.FILE_DEAL_TYPE.SEND?e.is_sent=t:n!==constant.FILE_DEAL_TYPE.RECEIVE&&n!==constant.FILE_DEAL_TYPE.RE_RECEIVE||(e.is_received=t),e.file_deal_type=n,e.file_type=r,0===r&&(e.file_type=constant.FILE_TYPE.NORMAL),e},P=(t.convertCallRecord2JsList=function(e){var t=[];return e=[].concat((0,d.default)(e)),e.forEach(function(e){t.push(P(e))}),t},function(e){try{var t={id:e.id,peeraccount:e.peeraccount,iscallout:e.iscallout,callernumber:e.callernumber,calleenumber:e.calleenumber,confid:e.confid,confpasscode:e.confpasscode,confmembers:e.confmembers,groupid:e.groupid,starttime:e.starttime,callstate:e.callstate,calltype:e.calltype,duration:e.duration,exparams:e.exparams};if(!isNullOrEmpty(t.exparams)){var r=JSON.parse(t.exparams);isNullOrEmpty(r.isCallSuccess)||(t.isCallSuccess=r.isCallSuccess),isNullOrEmpty(r.callUserName)||(t.callUserName=r.callUserName),isNullOrEmpty(r.isVideo)||(t.isVideo=r.isVideo),isNullOrEmpty(r.contact_id)||(t.contact_id=r.contact_id)}return t}catch(e){return v.error("convertCallRecord2Js",{e:e.toJSON()}),{}}}),D=(t.convertOfficialAccountsDetail2JsList=function(e){var t=[];return e=[].concat((0,d.default)(e)),e.forEach(function(e){var r=D(e);t.push(r)}),t},function(e){try{return{id:e.id,nodeID:e.nodeID,qrcodeSmallUrl:e.qrcodeSmallUrl,qrcodeBigUrl:e.qrcodeBigUrl,nodeIconUrl:e.nodeIconUrl,isRequired:e.isRequired,isVip:e.isVip,privateCode:e.privateCode,systemVersion:e.systemVersion,nodeName:e.nodeName,nodeNameEn:e.nodeNameEn,description:e.description,descriptionEn:e.descriptionEn,nodeType:e.nodeType,attentionAll:e.attentionAll,isSubscribe:e.isSubscribe,exparams:e.exparams}}catch(e){return v.error("convertOfficialAccountsDetail2Js",{e:e.toJSON()}),{}}})},1907:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,u,i,c=r(1),s=n(c),o=r(2),l=n(o),f=r(131),p=n(f),d=r(4),_=n(d),m=r(132),v=n(m),y=r(133),h=n(y),O=(u=a=function(e){function t(){var e,r,n,a;(0,_.default)(this,t);for(var u=arguments.length,c=Array(u),s=0;s<u;s++)c[s]=arguments[s];return r=n=(0,v.default)(this,(e=t.__proto__||(0,p.default)(t)).call.apply(e,[this].concat(c))),i.call(n),a=r,(0,v.default)(n,a)}return(0,h.default)(t,e),t}(coreCommon.Interface),i=function(){var e=this;this.queryLoginSetting=function(){var t=(0,l.default)(s.default.mark(function t(r){r.key;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.saveLoginSetting=function(){var t=(0,l.default)(s.default.mark(function t(r){r.key;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.saveLoginSettings=function(){var t=(0,l.default)(s.default.mark(function t(r){r.args;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.queryUserConfigList=function(){var t=(0,l.default)(s.default.mark(function t(r){r.all,r.key;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.queryAllLoginRecord=(0,l.default)(s.default.mark(function t(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)})),this.queryAllLoginSetting=(0,l.default)(s.default.mark(function t(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)})),this.queryLoginRecord=function(){var t=(0,l.default)(s.default.mark(function t(r){r.all,r.display_account,r.account;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.saveLoginRecord=function(){var t=(0,l.default)(s.default.mark(function t(r){r.id,r.display_account,r.account,r.tenantcn,r.tenanten,r.tenantid,r.thirdcertype,r.encryptPassword,r.strUserRandom,r.isRememberPassWord,r.isAutoLogin,r.time_stamp,r.isMaxhubWorkplace,r.thirdaccount,r.maxhubMiddleEndAddress;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.deleteLoginRecord=function(){var t=(0,l.default)(s.default.mark(function t(r){r.account;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.bulkPutLoginSetting=function(){var t=(0,l.default)(s.default.mark(function t(r){r.settinglist;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.releaseSQliteDBHandler=(0,l.default)(s.default.mark(function t(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)})),this.initSQLitePrivateDB=function(){var t=(0,l.default)(s.default.mark(function t(r){r.account;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.saveUserConfig=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.saveUserConfigList=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.queryUserConfig=function(){var t=(0,l.default)(s.default.mark(function t(r){r.key;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.queryMessage=function(){var t=(0,l.default)(s.default.mark(function t(r){r.server_chat_id_str,r.client_chat_id,r.id;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.saveCallRecord=function(){var t=(0,l.default)(s.default.mark(function t(r){r.peeraccount,r.iscallout,r.callernumber,r.calleenumber,r.starttime,r.callstate,r.calltype,r.duration,r.confid,r.confpasscode,r.confmembers,r.groupid,r.isVideo,r.callUserName,r.contact_id,r.isCallSuccess;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.queryCallRecord=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.queryContactByContactId=function(){var t=(0,l.default)(s.default.mark(function t(r){r.contact_id;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.saveMessage=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.queryAllCallRecord=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.queryCallRecordList=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.queryMessageList=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.limitMessageListByNum=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.saveRecent=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.queryGroup=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.delcallrecord=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.saveConfRecord=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.queryAllConfRecord=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.queryContact=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.queryContactByNumber=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.queryContactByNumberAccurate=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.queryContactByPhonenumberAccurate=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.saveEncryptValue=function(){var t=(0,l.default)(s.default.mark(function t(r){r.key,r.value;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.queryEncryptValue=function(){var t=(0,l.default)(s.default.mark(function t(r){r.key;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.cleanEncryptValue=function(){var t=(0,l.default)(s.default.mark(function t(r){r.key;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.saveContactMemberGroup=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.saveContactGroup=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.bulkPutContact=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.saveContact=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.queryContactList=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.queryAllContact=(0,l.default)(s.default.mark(function t(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)})),this.queryAllContactGroupList=(0,l.default)(s.default.mark(function t(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)})),this.queryAllContactMemberGroupList=(0,l.default)(s.default.mark(function t(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)})),this.deleteContactMemberGroup=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.deleteContactGroup=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.bulkPutContactMemberGroup=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.bulkPutContactGroup=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.queryRecentList=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.deleteContact=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.deleteGroupMember=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.bulkPutGroupMember=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.queryContactBySearchText=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.bulkPutGroup=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.saveGroup=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.queryAllGroup=(0,l.default)(s.default.mark(function t(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)})),this.deleteGroup=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.queryGroupList=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.queryGroupMemberList=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.saveFile=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.saveScreenShot=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.limitMessageList=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.queryScreenShotList=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.queryFileList=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.bulkPutScreenShot=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.bulkPutFile=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.bulkPutMessage=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.bulkPutRecent=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.queryRecent=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.queryAllRecent=(0,l.default)(s.default.mark(function t(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)})),this.queryGroupListByIdList=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.queryGroupListBySearchTextContactUnion=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.deleteUserConfig=function(){var t=(0,l.default)(s.default.mark(function t(r){r.key;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.queryUserTrackList=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.saveUserTrack=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.deleteusertrack=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.saveAvatarTag=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.deleteAvatarTag=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.queryAvatarTagList=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.queryMessageBySearchText=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.queryFileBySearchText=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.bulkSaveOfficialAccountsDetail=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.limitScreenShotListByRecent=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.limitImageFileListByRecent=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.deleteFile=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),this.deleteScreenShot=function(){var t=(0,l.default)(s.default.mark(function t(r){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()},u);t.default=O},232:function(e,t,r){e.exports=r(0)(43)},301:function(e,t,r){(function(e,n){function a(e,r){var n={seen:[],stylize:i};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),m(r)?n.showHidden=r:r&&t._extend(n,r),b(n.showHidden)&&(n.showHidden=!1),b(n.depth)&&(n.depth=2),b(n.colors)&&(n.colors=!1),b(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=u),s(n,e,n.depth)}function u(e,t){var r=a.styles[t];return r?"["+a.colors[r][0]+"m"+e+"["+a.colors[r][1]+"m":e}function i(e,t){return e}function c(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function s(e,r,n){if(e.customInspect&&r&&R(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var a=r.inspect(n,e);return O(a)||(a=s(e,a,n)),a}var u=o(e,r);if(u)return u;var i=Object.keys(r),m=c(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(r)),L(r)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return l(r);if(0===i.length){if(R(r)){var v=r.name?": "+r.name:"";return e.stylize("[Function"+v+"]","special")}if(g(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(C(r))return e.stylize(Date.prototype.toString.call(r),"date");if(L(r))return l(r)}var y="",h=!1,E=["{","}"];if(_(r)&&(h=!0,E=["[","]"]),R(r)){y=" [Function"+(r.name?": "+r.name:"")+"]"}if(g(r)&&(y=" "+RegExp.prototype.toString.call(r)),C(r)&&(y=" "+Date.prototype.toUTCString.call(r)),L(r)&&(y=" "+l(r)),0===i.length&&(!h||0==r.length))return E[0]+y+E[1];if(n<0)return g(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special");e.seen.push(r);var b;return b=h?f(e,r,n,m,i):i.map(function(t){return p(e,r,n,m,t,h)}),e.seen.pop(),d(b,y,E)}function o(e,t){if(b(t))return e.stylize("undefined","undefined");if(O(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return h(t)?e.stylize(""+t,"number"):m(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,r,n,a){for(var u=[],i=0,c=t.length;i<c;++i)A(t,String(i))?u.push(p(e,t,r,n,String(i),!0)):u.push("");return a.forEach(function(a){a.match(/^\d+$/)||u.push(p(e,t,r,n,a,!0))}),u}function p(e,t,r,n,a,u){var i,c,o;if(o=Object.getOwnPropertyDescriptor(t,a)||{value:t[a]},o.get?c=o.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):o.set&&(c=e.stylize("[Setter]","special")),A(n,a)||(i="["+a+"]"),c||(e.seen.indexOf(o.value)<0?(c=v(r)?s(e,o.value,null):s(e,o.value,r-1),c.indexOf("\n")>-1&&(c=u?c.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+c.split("\n").map(function(e){return"   "+e}).join("\n"))):c=e.stylize("[Circular]","special")),b(i)){if(u&&a.match(/^\d+$/))return c;i=JSON.stringify(""+a),i.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(i=i.substr(1,i.length-2),i=e.stylize(i,"name")):(i=i.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),i=e.stylize(i,"string"))}return i+": "+c}function d(e,t,r){var n=0;return e.reduce(function(e,t){return n++,t.indexOf("\n")>=0&&n++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function _(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function v(e){return null===e}function y(e){return null==e}function h(e){return"number"==typeof e}function O(e){return"string"==typeof e}function E(e){return"symbol"==typeof e}function b(e){return void 0===e}function g(e){return x(e)&&"[object RegExp]"===T(e)}function x(e){return"object"==typeof e&&null!==e}function C(e){return x(e)&&"[object Date]"===T(e)}function L(e){return x(e)&&("[object Error]"===T(e)||e instanceof Error)}function R(e){return"function"==typeof e}function k(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function T(e){return Object.prototype.toString.call(e)}function w(e){return e<10?"0"+e.toString(10):e.toString(10)}function S(){var e=new Date,t=[w(e.getHours()),w(e.getMinutes()),w(e.getSeconds())].join(":");return[e.getDate(),D[e.getMonth()],t].join(" ")}function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var N=/%[sdj%]/g;t.format=function(e){if(!O(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(a(arguments[r]));return t.join(" ")}for(var r=1,n=arguments,u=n.length,i=String(e).replace(N,function(e){if("%%"===e)return"%";if(r>=u)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),c=n[r];r<u;c=n[++r])v(c)||!x(c)?i+=" "+c:i+=" "+a(c);return i},t.deprecate=function(r,a){function u(){if(!i){if(n.throwDeprecation)throw new Error(a);n.traceDeprecation?console.trace(a):console.error(a),i=!0}return r.apply(this,arguments)}if(b(e.process))return function(){return t.deprecate(r,a).apply(this,arguments)};if(!0===n.noDeprecation)return r;var i=!1;return u};var I,P={};t.debuglog=function(e){if(b(I)&&(I=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!P[e])if(new RegExp("\\b"+e+"\\b","i").test(I)){var r=n.pid;P[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else P[e]=function(){};return P[e]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=_,t.isBoolean=m,t.isNull=v,t.isNullOrUndefined=y,t.isNumber=h,t.isString=O,t.isSymbol=E,t.isUndefined=b,t.isRegExp=g,t.isObject=x,t.isDate=C,t.isError=L,t.isFunction=R,t.isPrimitive=k,t.isBuffer=r(336);var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",S(),t.format.apply(t,arguments))},t.inherits=r(140),t._extend=function(e,t){if(!t||!x(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(t,r(154),r(157))},322:function(e,t,r){e.exports={default:r(323),__esModule:!0}},323:function(e,t,r){r(324),e.exports=r(8).Object.values},324:function(e,t,r){var n=r(10),a=r(325)(!1);n(n.S,"Object",{values:function(e){return a(e)}})},325:function(e,t,r){var n=r(164),a=r(232),u=r(326).f;e.exports=function(e){return function(t){for(var r,i=a(t),c=n(i),s=c.length,o=0,l=[];s>o;)u.call(i,r=c[o++])&&l.push(e?[r,i[r]]:i[r]);return l}}},326:function(e,t,r){e.exports=r(0)(83)},336:function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},69:function(e,t,r){e.exports={default:r(70),__esModule:!0}},70:function(e,t,r){var n=r(8),a=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}},823:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.initSQLitePublicDB=t.saveDBKeySalt=t.initDBPath=t.queryDBKeySalt=t.examineEncryptFile=t.queryDiscSerialNumber=t.queryCallRecordList=t.queryAllCallRecord=t.queryAllConfRecord=t.queryCallRecord=t.delcallrecord=t.bulkPutCallRecord=t.saveConfRecord=void 0,t.saveCallRecord=t.queryOfficialAccountsDetailList=t.deleteOfficialAccountsDetail=t.bulkSaveOfficialAccountsDetail=t.saveOfficialAccountsDetail=t.queryAvatarTagList=t.deleteAvatarTag=t.saveAvatarTag=t.deleteusertrack=t.queryUserTrackList=t.saveUserTrack=t.limitMessageListByNum=t.limitMessageList=t.queryMessageList=t.deleteMessage=t.queryMessageBySearchText=t.queryMessage=t.bulkPutMessage=t.saveMessage=t.queryRecentList=t.queryRecent=t.queryAllRecent=t.deleteRecent=t.bulkPutRecent=t.saveRecent=t.queryScreenShotList=t.limitScreenShotListByRecent=t.queryScreenShot=t.deleteScreenShot=t.bulkPutScreenShot=t.saveScreenShot=t.queryFileList=t.limitImageFileListByRecent=t.queryFileBySearchText=t.queryFile=t.deleteFile=t.bulkPutFile=t.saveFile=t.queryAllGroupTypeMemberList=t.queryGroupTypeMemberList=t.bulkPutGroupTypeMemberList=t.bulkPutGroupTypeMember=t.queryAllGroupTypeList=t.queryGroupTypeList=t.bulkPutGroupTypeList=t.bulkPutGroupType=t.queryGroupMemberList=t.deleteGroupMember=t.bulkPutGroupMember=t.updateGroup=t.queryGroupList=t.queryGroupListBySearchTextContactUnion=t.queryGroup=t.queryGroupListByIdList=t.deleteGroup=t.saveGroup=t.bulkPutGroup=t.deleteContact=t.queryContactList=t.queryContactByPhonenumberAccurate=t.queryContactByNumberAccurate=t.queryContactByContactId=t.queryContactByNumber=t.queryContactBySearchText=t.queryContact=t.queryAllContact=t.bulkPutContact=t.saveContact=t.deleteContactMemberGroup=t.queryAllContactMemberGroupList=t.queryContactMemberGroupList=t.saveContactMemberGroup=t.bulkPutContactMemberGroup=t.deleteContactGroup=t.queryAllContactGroupList=t.queryContactGroupList=t.saveContactGroup=t.bulkPutContactGroup=t.deleteUserConfig=t.queryUserConfigList=t.saveUserConfigList=t.saveUserConfig=t.queryUserConfig=t.queryLoginSetting=t.queryAllLoginSetting=t.queryLoginSettingList=t.saveLoginSetting=t.cleanEncryptValue=t.queryEncryptValue=t.saveEncryptValue=t.bulkPutLoginSetting=t.deleteLoginRecord=t.queryAllLoginRecord=t.queryLoginRecordList=t.queryLoginRecord=t.saveLoginRecord=t.initSQLitePrivateDB=t.releaseSQliteDBHandler=t.uninitSQliteDB=t.initPublicDbAtomic=void 0;var a=r(139),u=n(a),i=r(142),c=n(i),s=r(69),o=n(s),l=r(135),f=n(l),p=r(1),d=n(p),_=r(2),m=n(_),v=r(1901);Object.defineProperty(t,"initPublicDbAtomic",{enumerable:!0,get:function(){return v.initPublicDbAtomic}});var y=r(1902),h=n(y),O=r(1903),E=r(1904),b=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(E),g=r(301),x=coreLogger.getLogger("service")("DB/sqliteDB"),C=new Array,L=function(e){return(0,g.isNullOrUndefined)(e.recordid)||"number"==typeof e.recordid?(0,g.isNullOrUndefined)(e.convautoid)||"number"==typeof e.convautoid?!(!(0,g.isNullOrUndefined)(e.filedealtype)&&"number"!=typeof e.filedealtype)||(x.error("File filedealtype error!"),!1):(x.error("File convautoid error!"),!1):(x.error("File recordid error!"),!1)},R=function(e){return(0,g.isNullOrUndefined)(e.chattype)||"number"==typeof e.chattype?(0,g.isNullOrUndefined)(e.contenttype)||"number"==typeof e.contenttype?(0,g.isNullOrUndefined)(e.sourceflag)||"number"==typeof e.sourceflag?(0,g.isNullOrUndefined)(e.isread)||"number"==typeof e.isread?!(!(0,g.isNullOrUndefined)(e.mediatype)&&"number"!=typeof e.mediatype)||(x.error("Message mediatype error!"),!1):(x.error("Message isread error!"),!1):(x.error("Message sourceflag error!"),!1):(x.error("Message contenttype error!"),!1):(x.error("Message chattype error!"),!1)},k=function(e){return(0,g.isNullOrUndefined)(e.lastmessagerecordid)||"number"==typeof e.lastmessagerecordid?!(0,g.isNullOrUndefined)(e.lastservermessageid)&&"string"==typeof e.lastservermessageid||(x.error("Recent lastservermessageid error!"),!1):(x.error("Recent lastmessagerecordid error!"),!1)},T=function(e){return!0},w=function(e){return(0,g.isNullOrUndefined)(e.groupid)||"string"!=typeof e.groupid?(x.error("GroupMember groupid error!"),!1):(0,g.isNullOrUndefined)(e.account)||"string"!=typeof e.account?(x.error("GroupMember account error!"),!1):(0,g.isNullOrUndefined)(e.membername)||"string"!=typeof e.membername?(x.error("GroupMember membername error!"),!1):!(0,g.isNullOrUndefined)(e.qpinyin)&&"string"==typeof e.qpinyin||(x.error("GroupMember qpinyin error!"),!1)},S=function(e){return(0,g.isNullOrUndefined)(e.groupid)||"string"!=typeof e.groupid?(x.error("ContactGroup groupid error!"),!1):(0,g.isNullOrUndefined)(e.groupindex)||"number"==typeof e.groupindex?(0,g.isNullOrUndefined)(e.name)||"string"!=typeof e.name?(x.error("ContactGroup name error!"),!1):(0,g.isNullOrUndefined)(e.state)||"number"==typeof e.state?!(!(0,g.isNullOrUndefined)(e.isdefault)&&"number"!=typeof e.isdefault)||(x.error("ContactGroup isdefault error!"),!1):(x.error("ContactGroup state error!"),!1):(x.error("ContactGroup groupindex error!"),!1)},A=function(e){return!(!(0,g.isNullOrUndefined)(e.state)&&"number"!=typeof e.state)||(x.error("ContactGroupMember state error!"),!1)},N=function(e){return(0,g.isNullOrUndefined)(e.groupid)||"string"!=typeof e.groupid?(x.error("Group groupid error!"),!1):(0,g.isNullOrUndefined)(e.group_groupid)||"string"!=typeof e.group_groupid?(x.error("Group group_groupid error!"),!1):(0,g.isNullOrUndefined)(e.capacity)||"number"==typeof e.capacity?(0,g.isNullOrUndefined)(e.name)||"string"!=typeof e.name?(x.error("Group name error!"),!1):(0,g.isNullOrUndefined)(e.owner)||"string"!=typeof e.owner?(x.error("Group owner error!"),!1):(0,g.isNullOrUndefined)(e.desc)||"string"!=typeof e.desc?(x.error("Group desc error!"),!1):(0,g.isNullOrUndefined)(e.grouptype)||"number"==typeof e.grouptype?(0,g.isNullOrUndefined)(e.joinflag)||"number"==typeof e.joinflag?(0,g.isNullOrUndefined)(e.manifesto)||"string"!=typeof e.manifesto?(x.error("Group manifesto error!"),!1):!(!(0,g.isNullOrUndefined)(e.msgpolicytype)&&"number"!=typeof e.msgpolicytype)||(x.error("Group msgpolicytype error!"),!1):(x.error("Group joinflag error!"),!1):(x.error("Group grouptype error!"),!1):(x.error("Group capacity error!"),!1)},I=function(e){return(0,g.isNullOrUndefined)(e.iscallout)||"number"==typeof e.iscallout?(0,g.isNullOrUndefined)(e.confmembers)||"string"!=typeof e.confmembers?(x.error("CallRecord confmembers error!"),!1):(0,g.isNullOrUndefined)(e.starttime)||"number"==typeof e.starttime?(0,g.isNullOrUndefined)(e.callstate)||"number"==typeof e.callstate?(0,g.isNullOrUndefined)(e.calltype)||"number"==typeof e.calltype?!(!(0,g.isNullOrUndefined)(e.duration)&&"number"!=typeof e.duration)||(x.error("CallRecord duration error!"),!1):(x.error("CallRecord calltype error!"),!1):(x.error("CallRecord callstate error!"),!1):(x.error("CallRecord starttime error!"),!1):(x.error("CallRecord iscallout error!"),!1)},P=function(e){return!(0,g.isNullOrUndefined)(e.confmembers)&&"string"==typeof e.confmembers||(x.error("ConfRecord confmembers error!"),!1)},D=function(e){return(0,g.isNullOrUndefined)(e.account)||"string"!=typeof e.account?(x.error("LoginInfo account error!"),!1):(0,g.isNullOrUndefined)(e.userpwd)||"string"!=typeof e.userpwd?(x.error("LoginInfo userpwd error!"),!1):(0,g.isNullOrUndefined)(e.userrandom)||"string"!=typeof e.userrandom?(x.error("LoginInfo userrandom error!"),!1):(0,g.isNullOrUndefined)(e.tenantcn)||"string"!=typeof e.tenantcn?(x.error("LoginInfo tenantcn error!"),!1):(0,g.isNullOrUndefined)(e.tenanten)||"string"!=typeof e.tenanten?(x.error("LoginInfo tenanten error!"),!1):(0,g.isNullOrUndefined)(e.thirdaccount)||"string"!=typeof e.thirdaccount?(x.error("LoginInfo thirdaccount error!"),!1):(0,g.isNullOrUndefined)(e.tenantid)||"string"!=typeof e.tenantid?(x.error("LoginInfo tenantid error!"),!1):!(!(0,g.isNullOrUndefined)(e.thirdcertype)&&"boolean"!=typeof e.thirdcertype&&"number"!=typeof e.thirdcertype)||(x.error("LoginInfo thirdcertype error!"),!1)},q=function(e,t){return isNullOrEmpty(e)||"string"!=typeof e?(x.error("key error!"),!1):(isNaN(t)||(t=t.toString()),!(0,g.isNullOrUndefined)(t)&&"string"==typeof t||(x.error("value error!"),!1))},G=function(e){return!(0,g.isNullOrUndefined)(e.content)&&"string"==typeof e.content||(x.error("UserTrack content error!"),!1)},U=t.uninitSQliteDB=function(){var e=(0,m.default)(d.default.mark(function e(){var t;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C=new Array,x.info("resetInitSQLiteFlag"),e.next=4,h.default.getinstance();case 4:return t=e.sent,x.debug("sqliteObj",t),x.debug("window.LOG_PATH",window.LOG_PATH),e.next=9,t.init("","");case 9:x.debug(333333333),x.info("uninitSQliteDB Success");case 11:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),M=(t.releaseSQliteDBHandler=function(){var e=(0,m.default)(d.default.mark(function e(){return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:return e.next=4,v.initPublicDbAtomic.reset();case 4:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.initSQLitePrivateDB=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==C.indexOf(t)){e.next=17;break}return e.next=3,v.initPublicDbAtomic.reset();case 3:return e.next=5,v.initPublicDbAtomic.wait();case 5:return x.info("initSQLitePrivateDB, account : "+handlePhoneNumber(t)),e.next=8,h.default.getinstance();case 8:return r=e.sent,e.next=11,r.init("1",t);case 11:return n=e.sent,x.info("initSQLitePrivateDB success"),C.push(t),e.abrupt("return",n);case 17:x.info("initSQLitePrivateDB success, already inited");case 18:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.saveLoginRecord=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a,u,i;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("saveLoginRecord start"),e.next=3,v.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,ue();case 7:if(!((r=e.sent)&&r.length>0)){e.next=11;break}return e.next=11,F({key:"discserialnumber",value:r});case 11:return 1!==t.isRememberPassWord&&"1"!==t.isRememberPassWord||(t.isRememberPassWord=!0),1!==t.isAutoLogin&&"1"!==t.isAutoLogin||(t.isAutoLogin=!0),e.next=15,h.default.getinstance();case 15:if(n=e.sent,a=b.convertLoginInfo2SQLite(t),D(a)){e.next=19;break}return e.abrupt("return",{});case 19:return e.next=21,n.addlogininfo(a);case 21:if(u=e.sent,isNullOrEmpty(u)){e.next=25;break}return i=(0,f.default)({},t,{id:u.result}),e.abrupt("return",i);case 25:return e.abrupt("return",{});case 26:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryLoginRecord=function(){var e=(0,m.default)(d.default.mark(function e(t){var r;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.initPublicDbAtomic.wait();case 2:return e.next=4,M(t);case 4:if(r=e.sent,0===r.length){e.next=9;break}return e.abrupt("return",r[0]);case 9:return e.abrupt("return",{});case 10:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryLoginRecordList=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a,u,i,c,s,o;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("queryLoginRecordList start"),e.next=3,v.initPublicDbAtomic.wait();case 3:return e.next=5,h.default.getinstance();case 5:if(r=e.sent,n={},!t.hasOwnProperty("all")){e.next=13;break}return e.next=10,r.querylogininfo(O.LOGININFO_TYPE.LOGININFO_ALL,"");case 10:n=e.sent,e.next=28;break;case 13:if(!t.hasOwnProperty("account")){e.next=20;break}return x.info("queryLoginRecordList account, value : ",(0,g.isNullOrUndefined)(t.account)),e.next=17,r.querylogininfo(O.LOGININFO_TYPE.LOGININFO_ACCOUNT,t.account.toString());case 17:n=e.sent,e.next=28;break;case 20:if(!t.hasOwnProperty("display_account")){e.next=27;break}return x.info("queryLoginRecordList display_account, value : ",(0,g.isNullOrUndefined)(t.display_account)),e.next=24,r.querylogininfo(O.LOGININFO_TYPE.LOGININFO_DISPLAYACCOUNT,t.display_account.toString());case 24:n=e.sent,e.next=28;break;case 27:x.error("queryLoginRecordList not support, by  param");case 28:if(!n||!n.param||null===n.param._logininfolist){e.next=44;break}return a=!1,e.next=32,ue();case 32:if(u=e.sent,!(u.length>0)){e.next=41;break}return e.next=36,B({key:"discserialnumber"});case 36:if(i=e.sent,i&&i.value&&i.value.length>0?i.value!==u&&(a=!0):a=!1,!0!==a){e.next=41;break}return e.next=41,F({key:"discserialnumber",value:u});case 41:for(c=new Array,s=0;s<n.param._logininfolist.length;++s)o=n.param._logininfolist[s],c[s]={id:o.id,display_account:o.displayaccount,account:o.account,tenantcn:o.tenantcn||"",tenanten:o.tenanten||"",thirdaccount:o.thirdaccount||"",tenantid:o.tenantid||"",thirdcertype:o.thirdcertype||!1,encryptPassword:o.userpwd,isRememberPassWord:1===o.isrememberpwd,isAutoLogin:1===o.isautologin,strUserRandom:o.userrandom,isMaxhubWorkplace:o.isMaxhubWorkplace,maxhubMiddleEndAddress:o.maxhubMiddleEndAddress,setPasswordToken:o.setPasswordToken||""},!0===a&&(c[s].isAutoLogin=!1,c[s].isRememberPassWord=!1,c[s].encryptPassword="");return e.abrupt("return",c);case 44:return e.abrupt("return",[]);case 45:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()),F=(t.queryAllLoginRecord=function(){var e=(0,m.default)(d.default.mark(function e(){var t,r,n;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.initPublicDbAtomic.wait();case 2:return e.next=4,M({all:""});case 4:return t=e.sent,r=[],n=t.filter(function(e){return r.push(Object.type(e.account)+"_"+Object.type(e.display_account)),!isNullOrEmpty(e.display_account)}),x.info("queryAllLoginRecord result len:"+t.length+" type "+r),e.abrupt("return",n);case 9:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.deleteLoginRecord=function(){var e=(0,m.default)(d.default.mark(function e(t){var r;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("deleteLoginRecord start"),e.next=3,v.initPublicDbAtomic.wait();case 3:return e.next=5,h.default.getinstance();case 5:if(r=e.sent,!t.hasOwnProperty("account")){e.next=12;break}return x.info("deleteLoginRecord, value : ",(0,g.isNullOrUndefined)(t.account)),e.next=10,r.dellogininfo(O.LOGININFO_TYPE.LOGININFO_ACCOUNT,t.account.toString());case 10:e.next=12;break;case 12:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.bulkPutLoginSetting=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.initPublicDbAtomic.wait();case 2:if(!(t&&"Array"===t.constructor.name&&t.length>0)){e.next=11;break}r=0;case 4:if(!(r<t.length)){e.next=11;break}return n=t[r],e.next=8,coreDb.saveLoginSettings({args:n});case 8:++r,e.next=4;break;case 11:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.saveEncryptValue=function(){var e=(0,m.default)(d.default.mark(function e(t){var r;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info(" saveEValue k = "+t.key+"valuelen = ",t.value.length),e.next=3,h.default.getinstance();case 3:if(r=e.sent,x.info("saveEtValue, [key] : ",isNullOrEmpty(desensitive(t.key))," [value] : ",(0,g.isNullOrUndefined)(t.value)),q(t.key,t.value)){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,r.addsysconfig(t.key,t.value);case 9:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryEncryptValue=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info(" queryEValue k = "+t.key),e.next=3,h.default.getinstance();case 3:return r=e.sent,n=null,x.info("queryEValue, [value] : ",(0,g.isNullOrUndefined)(desensitive(t.key))),e.next=8,r.querysysconfig(O.KEYVALUE_TYPE.KEYVALUE_KEY,t.key);case 8:if(!((n=e.sent)&&n.param&&null!==n.param._sysconfiglist&&n.param._sysconfiglist.length>=1)){e.next=12;break}return x.info("queryEValue len = "+n.param._sysconfiglist.length+", k = "+n.param._sysconfiglist[0].strkey+", valuelen = "+n.param._sysconfiglist[0].strvalue.length),e.abrupt("return",n.param._sysconfiglist[0].strvalue);case 12:return e.abrupt("return","");case 13:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.cleanEncryptValue=function(){var e=(0,m.default)(d.default.mark(function e(t){var r;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info(" cleanEValue k = "+t.key),e.next=3,h.default.getinstance();case 3:return r=e.sent,x.info("cleanEValue, [value] : ",(0,g.isNullOrUndefined)(desensitive(t.key))),e.next=7,r.delsysconfig(O.KEYVALUE_TYPE.KEYVALUE_KEY,t.key);case 7:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.saveLoginSetting=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a,u,i;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("saveLoginSetting start"),e.next=3,v.initPublicDbAtomic.wait();case 3:if(!window.CLIENTCONFIG.IS_LINK_IT_SMC_MEETING){e.next=5;break}return e.abrupt("return");case 5:if(!isNullOrEmpty(t)){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,h.default.getinstance();case 9:if(r=e.sent,n=void 0,!(t&&"Array"===t.constructor.name&&t.length>0)){e.next=28;break}a=0;case 13:if(!(a<t.length)){e.next=26;break}if(u=void 0,u=isNullOrEmpty(t[a])?"":isNullOrEmpty(t[a].value)?"":t[a].value.toString(),x.info("saveLoginSetting array, [key] : ",isNullOrEmpty(desensitive(t[a].key))," [value] : ",(0,g.isNullOrUndefined)(u)),q(t[a].key,u)){e.next=19;break}return e.abrupt("return");case 19:return e.next=21,r.addsysconfig(t[a].key,u);case 21:n=e.sent,x.info("saveLoginSetting end array");case 23:++a,e.next=13;break;case 26:e.next=37;break;case 28:if(x.info("saveLoginSetting, [key] : ",isNullOrEmpty(desensitive(t.key))," [value] : ",(0,g.isNullOrUndefined)(t.value.toString())),q(t.key,t.value)){e.next=31;break}return e.abrupt("return");case 31:return e.next=33,r.addsysconfig(t.key,t.value.toString());case 33:return n=e.sent,x.info("saveLoginSetting end"),i=(0,f.default)({},t,{id:n.result}),e.abrupt("return",i);case 37:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()),Y=t.queryLoginSettingList=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a,u,i;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("queryLoginSettingList start"),e.next=3,v.initPublicDbAtomic.wait();case 3:if(!window.CLIENTCONFIG.IS_LINK_IT_SMC_MEETING){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,h.default.getinstance();case 7:if(r=e.sent,n=null,!t.hasOwnProperty("all")){e.next=15;break}return e.next=12,r.querysysconfig(O.KEYVALUE_TYPE.KEYVALUE_ALL,"");case 12:n=e.sent,e.next=23;break;case 15:if(!t.hasOwnProperty("key")){e.next=22;break}return x.info("queryLoginSettingList start, value : ",(0,g.isNullOrUndefined)(t.key)),e.next=19,r.querysysconfig(O.KEYVALUE_TYPE.KEYVALUE_KEY,t.key);case 19:n=e.sent,e.next=23;break;case 22:x.error("queryLoginSettingList not support query ");case 23:if(e.prev=23,!n||!n.param||null===n.param._sysconfiglist){e.next=28;break}for(a=new Array,u=0;u<n.param._sysconfiglist.length;++u)i=n.param._sysconfiglist[u],a[u]={id:i.id,key:i.strkey,value:i.strvalue};return e.abrupt("return",a);case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(23),x.error("queryLoginSettingList error ");case 33:return e.abrupt("return",[]);case 34:case"end":return e.stop()}},e,void 0,[[23,30]])}));return function(t){return e.apply(this,arguments)}}(),B=(t.queryAllLoginSetting=function(){var e=(0,m.default)(d.default.mark(function e(){return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.initPublicDbAtomic.wait();case 2:return e.abrupt("return",Y({all:""}));case 3:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.queryLoginSetting=function(){var e=(0,m.default)(d.default.mark(function e(t){var r;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.initPublicDbAtomic.wait();case 2:return e.next=4,Y(t);case 4:if(!((r=e.sent)&&"Array"===r.constructor.name&&r.length>0)){e.next=9;break}return e.abrupt("return",r[0]);case 9:return e.abrupt("return","{}");case 10:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()),H=(t.queryUserConfig=function(){var e=(0,m.default)(d.default.mark(function e(t){var r;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.initPublicDbAtomic.wait();case 2:return e.next=4,H(t);case 4:if(r=e.sent,!isNullOrEmpty(r)){e.next=7;break}return e.abrupt("return",{});case 7:return e.abrupt("return",r[0]);case 8:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.saveUserConfig=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a,u;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("saveUserConfig start"),e.next=3,v.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,h.default.getinstance();case 7:if(r=e.sent,n=void 0,!(t&&"Array"===t.constructor.name&&t.length>0)){e.next=24;break}a=0;case 11:if(!(a<t.length)){e.next=22;break}if(x.info("saveUserConfig array, [key] : ",isNullOrEmpty(desensitive(t[a].key)),", [value] : ",(0,g.isNullOrUndefined)(t[a].value)),q(t[a].key,t[a].value)){e.next=15;break}return e.abrupt("return");case 15:return e.next=17,r.adduserconfig(t[a]);case 17:n=e.sent,-1===n.result&&x.info("value is crossing!");case 19:++a,e.next=11;break;case 22:e.next=33;break;case 24:if(x.info("saveUserConfig, [key] : ",isNullOrEmpty(desensitive(t.key)),", [value] : ",(0,g.isNullOrUndefined)(t.value)),q(t.key,t.value)){e.next=27;break}return e.abrupt("return");case 27:return e.next=29,r.adduserconfig(t);case 29:return n=e.sent,-1===n.result&&x.info("value is crossing!"),u=(0,f.default)({},t,{id:n.result}),e.abrupt("return",u);case 33:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.saveUserConfigList=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a,u;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("saveUserConfigList start"),e.next=3,v.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,h.default.getinstance();case 7:if(r=e.sent,n=void 0,a=[],!(t&&"Array"===t.constructor.name&&t.length>0)){e.next=20;break}if(t.forEach(function(e){x.info("saveUserConfigList array, [key] : ",isNullOrEmpty(desensitive(e.key)),", [value] : ",(0,g.isNullOrUndefined)(e.value)),q(e.key,e.value)&&a.push(e)}),x.info("length : ",a.length),!a){e.next=18;break}return e.next=16,r.adduserconfiglist(a);case 16:n=e.sent,n.result<=0&&x.info(n.result," value is crossing!");case 18:e.next=29;break;case 20:if(x.info("saveUserConfigList, [key] : ",isNullOrEmpty(desensitive(t.key)),", [value] : ",(0,g.isNullOrUndefined)(t.value)),q(t.key,t.value)){e.next=23;break}return e.abrupt("return");case 23:return e.next=25,r.adduserconfig(t);case 25:return n=e.sent,-1===n.result&&x.info("value is crossing!"),u=(0,f.default)({},t,{id:n.result}),e.abrupt("return",u);case 29:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryUserConfigList=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a,u,i;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("queryUserConfigList start"),e.next=3,v.initPublicDbAtomic.wait();case 3:return e.next=5,h.default.getinstance();case 5:if(r=e.sent,n={},!t.hasOwnProperty("all")){e.next=13;break}return e.next=10,r.queryuserconfig(O.KEYVALUE_TYPE.KEYVALUE_ALL,"");case 10:n=e.sent,e.next=21;break;case 13:if(!t.hasOwnProperty("key")){e.next=20;break}return x.info("queryUserConfigList, value : ",(0,g.isNullOrUndefined)(t.key)),e.next=17,r.queryuserconfig(O.KEYVALUE_TYPE.KEYVALUE_KEY,t.key);case 17:n=e.sent,e.next=21;break;case 20:x.error("queryUserConfigList no support param");case 21:if(!n||!n.param||null===n.param._userconfiglist){e.next=25;break}for(a=new Array,u=0;u<n.param._userconfiglist.length;++u)i=n.param._userconfiglist[u],a[u]={id:i.id,key:i.strkey,value:i.strvalue};return e.abrupt("return",a);case 25:return e.abrupt("return",[]);case 26:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()),V=(t.deleteUserConfig=function(){var e=(0,m.default)(d.default.mark(function e(t){var r;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("deleteUserConfig start"),e.next=3,v.initPublicDbAtomic.wait();case 3:return e.next=5,h.default.getinstance();case 5:if(r=e.sent,!t.hasOwnProperty("key")){e.next=12;break}return x.info("deleteUserConfig, value : ",(0,g.isNullOrUndefined)(t.key)),e.next=10,r.deluserconfig(O.KEYVALUE_TYPE.KEYVALUE_KEY,t.key);case 10:e.next=12;break;case 12:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.bulkPutContactGroup=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("bulkPutContactGroup start"),e.next=3,v.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return x.info("bulkPutContactGroup data is nullOrEmpty"),e.abrupt("return");case 6:return e.next=8,h.default.getinstance();case 8:if(r=e.sent,n=b.convertContactGroupList2SQLite(t),!(a=n.filter(S))){e.next=14;break}return e.next=14,r.addcontactgrouplist(a);case 14:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.saveContactGroup=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("saveContactGroup start"),e.next=3,v.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return x.info("saveContactGroup data is nullOrEmpty"),e.abrupt("return",t);case 6:return e.next=8,h.default.getinstance();case 8:if(r=e.sent,n=b.convertContactGroup2SQLite(t),S(n)){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,r.addcontactgroup(n);case 14:return a=e.sent,e.abrupt("return",(0,f.default)({},t,{id:a.result}));case 16:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryContactGroupList=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("queryContactGroupList start"),e.next=3,v.initPublicDbAtomic.wait();case 3:return e.next=5,h.default.getinstance();case 5:if(r=e.sent,n=null,!t.hasOwnProperty("all")){e.next=11;break}return e.next=10,r.querycontactgroup(O.CONTACTGROUP_TYPE.CONTACTGROUP_ALL,"");case 10:n=e.sent;case 11:if(!n||!n.param||null===n.param._groupinfolist){e.next=14;break}return a=b.convertContactGroup2JsList(n.param._groupinfolist),e.abrupt("return",a);case 14:return e.abrupt("return",[]);case 15:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()),J=(t.queryAllContactGroupList=function(){var e=(0,m.default)(d.default.mark(function e(){return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.initPublicDbAtomic.wait();case 2:return e.next=4,V({all:""});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.deleteContactGroup=function(){var e=(0,m.default)(d.default.mark(function e(t){var r;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("deleteContactGroup start"),e.next=3,v.initPublicDbAtomic.wait();case 3:return e.next=5,h.default.getinstance();case 5:if(r=e.sent,!t.hasOwnProperty("group_id")){e.next=10;break}return x.info("deleteContactGroup, value : ",(0,g.isNullOrUndefined)(t.group_id)),e.next=10,r.delcontactgroup(O.CONTACTGROUP_TYPE.CONTACTGROUP_GROUPID,t.group_id.toString());case 10:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.bulkPutContactMemberGroup=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("bulkPutContactMemberGroup start"),e.next=3,v.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return x.info("bulkPutContactGroup data is nullOrEmpty"),e.abrupt("return");case 6:return e.next=8,h.default.getinstance();case 8:if(r=e.sent,n=b.convertContactGroupMemberList2SQLite(t),!(a=n.filter(A))){e.next=14;break}return e.next=14,r.addcontactgroupmemberlist(a);case 14:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.saveContactMemberGroup=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("saveContactMemberGroup start"),e.next=3,v.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return x.info("saveContactGroup  data is nullOrEmpty"),e.abrupt("return",t);case 6:return e.next=8,h.default.getinstance();case 8:if(r=e.sent,n=b.convertContactGroupMember2SQLite(t),A(n)){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,r.addcontactgroupmember(n);case 14:return a=e.sent,e.abrupt("return",(0,f.default)({},t,{id:a.result}));case 16:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryContactMemberGroupList=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("queryContactMemberGroupList start"),e.next=3,v.initPublicDbAtomic.wait();case 3:return e.next=5,h.default.getinstance();case 5:if(r=e.sent,n=null,!t.hasOwnProperty("all")){e.next=13;break}return e.next=10,r.querycontactgroupmember(O.CONTACTGROUPMEMBER_TYPE.CONTACTGROUPMEM_ALL,"");case 10:n=e.sent,e.next=21;break;case 13:if(!t.hasOwnProperty("group_id")){e.next=20;break}return x.info("queryContactMemberGroupList, value : ",(0,g.isNullOrUndefined)(t.group_id)),e.next=17,r.querycontactgroupmember(O.CONTACTGROUPMEMBER_TYPE.CONTACTGROUPMEM_GROUPID,t.group_id.toString());case 17:n=e.sent,e.next=21;break;case 20:x.error("queryContactMemberGroupList no support param");case 21:if(!n||!n.param||null===n.param._groupmeminfolist){e.next=24;break}return a=b.convertContactGroupMember2JsList(n.param._groupmeminfolist),e.abrupt("return",a);case 24:return e.abrupt("return",[]);case 25:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()),Q=(t.queryAllContactMemberGroupList=function(){var e=(0,m.default)(d.default.mark(function e(){return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.initPublicDbAtomic.wait();case 2:return e.next=4,J({all:""});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.deleteContactMemberGroup=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a,u,i;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("deleteContactMemberGroup start"),e.next=3,v.initPublicDbAtomic.wait();case 3:return e.next=5,h.default.getinstance();case 5:if(r=e.sent,!t.hasOwnProperty("contact_id")||!t.hasOwnProperty("group_id")){e.next=17;break}return n=O.CONTACTGROUPMEMBER_TYPE.CONTACTGROUPMEM_CONTACTID_GROUPID,a=new Array,a[0]={keytype:O.CONTACTGROUPMEMBER_TYPE.CONTACTGROUPMEM_CONTACTID,match_value:t.contact_id.toString()},a[1]={keytype:O.CONTACTGROUPMEMBER_TYPE.CONTACTGROUPMEM_GROUPID,match_value:t.group_id.toString()},x.info("deleteContactMemberGroup contact_id, operationtype : ",(0,g.isNullOrUndefined)(n)," ,datalist.length : ",(0,g.isNullOrUndefined)(a.length)),a.forEach(function(e){x.info("value : ",(0,g.isNullOrUndefined)(e.match_value))}),e.next=15,r.delcontactgroupmember(n,a,a.length);case 15:e.next=25;break;case 17:if(!t.hasOwnProperty("group_id")){e.next=25;break}return u=O.CONTACTGROUPMEMBER_TYPE.CONTACTGROUPMEM_GROUPID,i=new Array,i[0]={keytype:O.CONTACTGROUPMEMBER_TYPE.CONTACTGROUPMEM_GROUPID,match_value:t.group_id.toString()},x.info("deleteContactMemberGroup group_id, operationtype : ",(0,g.isNullOrUndefined)(u)," ,datalist.length : ",(0,g.isNullOrUndefined)(i.length)),i.forEach(function(e){x.info("value : ",(0,g.isNullOrUndefined)(e.match_value))}),e.next=25,r.delcontactgroupmember(u,i,i.length);case 25:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.saveContact=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a,u,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("saveContact start"),e.next=3,v.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return x.debug("saveContact 空数据"),e.abrupt("return",{});case 6:return e.next=8,h.default.getinstance();case 8:r=e.sent,n=b.convertContact2SqLite(t,i),e.next=12;break;case 12:return e.next=14,r.addcontact(n);case 14:return a=e.sent,u=(0,f.default)({},t,{id:a.result}),e.abrupt("return",u);case 17:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.bulkPutContact=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a,u,i,c;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("bulkPutContact start"),e.next=3,v.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return x.debug("bulkPutContact 空数据"),e.abrupt("return");case 6:return r=50,e.next=9,h.default.getinstance();case 9:n=e.sent,a=t.splitByNum(r),u=0;case 12:if(!(u<a.length)){e.next=21;break}if(i=b.convertContact2SqLiteList(a[u]),!(c=i.filter(T))){e.next=18;break}return e.next=18,n.addcontactlist(i);case 18:u++,e.next=12;break;case 21:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryAllContact=function(){var e=(0,m.default)(d.default.mark(function e(){return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.initPublicDbAtomic.wait();case 2:return e.next=4,K({all:""});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.queryContact=function(){var e=(0,m.default)(d.default.mark(function e(t){var r;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.initPublicDbAtomic.wait();case 2:return e.next=4,K(t);case 4:if(r=e.sent,0===r.length){e.next=7;break}return e.abrupt("return",r[0]);case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()),K=(t.queryContactBySearchText=function(){var e=(0,m.default)(d.default.mark(function e(t){return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.initPublicDbAtomic.wait();case 2:return e.next=4,K({searchtext:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryContactByNumber=function(){var e=(0,m.default)(d.default.mark(function e(t){return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.initPublicDbAtomic.wait();case 2:return e.next=4,K({phonenumber:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryContactByContactId=function(){var e=(0,m.default)(d.default.mark(function e(t){return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.initPublicDbAtomic.wait();case 2:return e.next=4,Q({contact_id:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryContactByNumberAccurate=function(){var e=(0,m.default)(d.default.mark(function e(t){return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.initPublicDbAtomic.wait();case 2:return e.next=4,K({phonenumber_accurate:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryContactByPhonenumberAccurate=function(){var e=(0,m.default)(d.default.mark(function e(t){return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q({phonenumber_accurate:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryContactList=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a,u,i,c,s,o,l,f,p;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("queryContactList start"),e.next=3,v.initPublicDbAtomic.wait();case 3:return e.next=5,h.default.getinstance();case 5:if(r=e.sent,n=null,!t.hasOwnProperty("account")){e.next=14;break}return x.info("queryContactList account, value : ",(0,g.isNullOrUndefined)(t.account)),e.next=11,r.querycontact(O.CONTACT_TYPE.CONTACTINFO_ACCOUNT,t.account.toString());case 11:n=e.sent,e.next=87;break;case 14:if(!t.hasOwnProperty("phonenumber")){e.next=21;break}return x.info("queryContactList phonenumber, value : ",(0,g.isNullOrUndefined)(t.phonenumber)),e.next=18,r.querycontact(O.CONTACT_TYPE.CONTACTINFO_PHONENUMBER,t.phonenumber.toString());case 18:n=e.sent,e.next=87;break;case 21:if(!t.hasOwnProperty("all")){e.next=45;break}if(!t.hasOwnProperty("accountlist")){e.next=40;break}x.info("queryContactList accountlist, value : ",(0,g.isNullOrUndefined)(t.accountlist)),a=t.accountlist.split(","),u=a.splitByNum(50),i=[],c=0;case 28:if(!(c<u.length)){e.next=37;break}return s=u[c].join(","),e.next=32,r.querycontact(O.CONTACT_TYPE.CONTACTINFO_ALL,s);case 32:n=e.sent,n&&n.param&&null!==n.param._contactinfolist&&(o=n.param._contactinfolist,l=b.convertContact2JsList(o),i=i.concat(l));case 34:c++,e.next=28;break;case 37:return e.abrupt("return",i);case 40:return e.next=42,r.querycontact(O.CONTACT_TYPE.CONTACTINFO_ALL,"");case 42:n=e.sent;case 43:e.next=87;break;case 45:if(!t.hasOwnProperty("searchtext")){e.next=52;break}return x.info("queryContactList searchtext, value : ",(0,g.isNullOrUndefined)(t.searchtext)),e.next=49,r.querycontact(O.CONTACT_TYPE.CONTACTINFO_SEARCHGLOBAL,t.searchtext.toString());case 49:n=e.sent,e.next=87;break;case 52:if(!t.hasOwnProperty("contact_id")){e.next=59;break}return x.info("queryContactList contact_id, value : ",(0,g.isNullOrUndefined)(t.contact_id)),e.next=56,r.querycontact(O.CONTACT_TYPE.CONTACTINFO_CONTACTID,t.contact_id.toString());case 56:n=e.sent,e.next=87;break;case 59:if(!t.hasOwnProperty("phonenumber_accurate")){e.next=66;break}return x.info("queryContactList phonenumber_accurate, value : ",(0,g.isNullOrUndefined)(t.phonenumber_accurate)),e.next=63,r.querycontact(O.CONTACT_TYPE.CONTACTINFO_PHONENUMBER_ACCURATE,t.phonenumber_accurate.toString());case 63:n=e.sent,e.next=87;break;case 66:if(!t.hasOwnProperty("show_account")){e.next=73;break}return x.info("queryContactList show_account, value : ",(0,g.isNullOrUndefined)(t.show_account)),e.next=70,r.querycontact(O.CONTACT_TYPE.CONTACTINFO_SHOWACCOUNT,t.show_account.toString());case 70:n=e.sent,e.next=87;break;case 73:if(!t.hasOwnProperty("isExternalContact")){e.next=80;break}return x.info("queryContactList isExternalContact, value : ",(0,g.isNullOrUndefined)(t.isExternalContact)),e.next=77,r.querycontact(O.CONTACT_TYPE.CONTACTINFO_ISEXTERNALCONTACT,t.isExternalContact.toString());case 77:n=e.sent,e.next=87;break;case 80:if(!t.hasOwnProperty("all_debug")){e.next=86;break}return e.next=83,r.querycontact(O.CONTACT_TYPE.CONTACTINFO_ALL_DEBUG,"");case 83:n=e.sent,e.next=87;break;case 86:return e.abrupt("return",[]);case 87:if(!n||!n.param||null===n.param._contactinfolist){e.next=91;break}return f=n.param._contactinfolist,p=b.convertContact2JsList(f),e.abrupt("return",p);case 91:return e.abrupt("return",[]);case 92:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()),j=(t.deleteContact=function(){var e=(0,m.default)(d.default.mark(function e(t){var r;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("deleteContact start"),e.next=3,v.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return x.debug("deleteContact data null"),e.abrupt("return",{});case 6:return e.next=8,h.default.getinstance();case 8:if(r=e.sent,!t.hasOwnProperty("all")){e.next=15;break}return e.next=12,r.delcontact(O.CONTACT_TYPE.CONTACTINFO_ALL,"");case 12:return e.abrupt("return",e.sent);case 15:if(!t.hasOwnProperty("id")){e.next=22;break}return x.info("deleteContact id, value : ",(0,g.isNullOrUndefined)(t.id)),e.next=19,r.delcontact(O.CONTACT_TYPE.CONTACTINFO_ID,t.id.toString());case 19:return e.abrupt("return",e.sent);case 22:if(!t.hasOwnProperty("show_account")){e.next=29;break}return x.info("deleteContact show_account, value : ",(0,g.isNullOrUndefined)(t.show_account)),e.next=26,r.delcontact(O.CONTACT_TYPE.CONTACTINFO_SHOWACCOUNT,t.show_account.toString());case 26:return e.abrupt("return",e.sent);case 29:if(!t.hasOwnProperty("isExternalContact")){e.next=34;break}return x.info("deleteContact isExternalContact, value : ",(0,g.isNullOrUndefined)(t.isExternalContact)),e.next=33,r.delcontact(O.CONTACT_TYPE.CONTACTINFO_ISEXTERNALCONTACT,t.isExternalContact.toString());case 33:return e.abrupt("return",e.sent);case 34:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.bulkPutGroup=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a,u,i,c;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("bulkPutGroup start"),e.next=3,v.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return x.debug("bulkPutGroup 空数据"),e.abrupt("return");case 6:return r=50,e.next=9,h.default.getinstance();case 9:n=e.sent,a=t.splitByNum(r),u=0;case 12:if(!(u<a.length)){e.next=21;break}if(i=b.convertGroupList2SQLite(a[u]),!(c=i.filter(N))){e.next=18;break}return e.next=18,n.addgrouplist(c);case 18:u++,e.next=12;break;case 21:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.saveGroup=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a,u;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("saveGroup start"),e.next=3,v.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return x.debug("saveGroup 空数据"),e.abrupt("return");case 6:return e.next=8,h.default.getinstance();case 8:if(r=e.sent,n=b.convertGroup2SQLite(t),N(n)){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,r.addgroup(n);case 14:return a=e.sent,u=(0,f.default)({},t,{id:a.result}),e.abrupt("return",u);case 17:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.deleteGroup=function(){var e=(0,m.default)(d.default.mark(function e(t){var r;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("deleteGroup start"),e.next=3,v.initPublicDbAtomic.wait();case 3:return e.next=5,h.default.getinstance();case 5:if(r=e.sent,!t.hasOwnProperty("group_id")){e.next=11;break}return x.info("deleteGroup, value : ",(0,g.isNullOrUndefined)(t.group_id)),e.next=10,r.delgroup(O.GROUP_TYPE.GROUPINFO_GROUPID,t.group_id.toString());case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryGroupListByIdList=function(){var e=(0,m.default)(d.default.mark(function e(t){return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.initPublicDbAtomic.wait();case 2:if(!isNullOrEmpty(t)){e.next=4;break}return e.abrupt("return",[]);case 4:return e.abrupt("return",j({all:"",groupidlist:t}));case 5:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryGroup=function(){var e=(0,m.default)(d.default.mark(function e(t){var r;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.initPublicDbAtomic.wait();case 2:return e.next=4,j(t);case 4:if(r=e.sent,0===r.length){e.next=7;break}return e.abrupt("return",r[0]);case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryGroupListBySearchTextContactUnion=function(){var e=(0,m.default)(d.default.mark(function e(t){var r;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("queryGroupListBySearchTextUnion start"),e.next=3,v.initPublicDbAtomic.wait();case 3:if(isNullOrEmpty(t)){e.next=9;break}return e.next=6,j({searchtext_contact_union:t.toString()});case 6:if(r=e.sent,0===r.length){e.next=9;break}return e.abrupt("return",r);case 9:return e.abrupt("return",[]);case 10:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryGroupList=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a,u;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("queryGroupList start"),e.next=3,v.initPublicDbAtomic.wait();case 3:return e.next=5,h.default.getinstance();case 5:if(r=e.sent,n=null,!t.hasOwnProperty("group_id")){e.next=14;break}return x.info("queryGroupList group_id, value : ",(0,g.isNullOrUndefined)(t.group_id)),e.next=11,r.querygroup(O.GROUP_TYPE.GROUPINFO_GROUPID,isNullOrEmpty(t.group_id)?"":t.group_id.toString());case 11:n=e.sent,e.next=42;break;case 14:if(!t.hasOwnProperty("searchtext")){e.next=21;break}return x.info("queryGroupList searchtext, value : ",(0,g.isNullOrUndefined)(t.searchtext)),e.next=18,r.querygroup(O.GROUP_TYPE.GROUPINFO_SEARCHGLOBAL,t.searchtext.toString());case 18:n=e.sent,e.next=42;break;case 21:if(!t.hasOwnProperty("searchtext_contact_union")){e.next=28;break}return x.info("queryGroupList searchtext_contact_union, value : ",(0,g.isNullOrUndefined)(t.searchtext_contact_union)),e.next=25,r.querygroup(O.GROUP_TYPE.GROUPINFO_SEARCHGLOBAL_CONTACT_UNION,t.searchtext_contact_union);case 25:n=e.sent,e.next=42;break;case 28:if(!t.hasOwnProperty("all")){e.next=41;break}if(!t.hasOwnProperty("groupidlist")){e.next=36;break}return x.info("queryGroupList groupidlist, value : ",(0,g.isNullOrUndefined)(t.groupidlist)),e.next=33,r.querygroup(O.GROUP_TYPE.GROUPINFO_ALL,t.groupidlist.toString());case 33:n=e.sent,e.next=39;break;case 36:return e.next=38,r.querygroup(O.GROUP_TYPE.GROUPINFO_ALL,"");case 38:n=e.sent;case 39:e.next=42;break;case 41:return e.abrupt("return",[]);case 42:if(!n||!n.param||null===n.param._groupinfolist){e.next=46;break}return a=n.param._groupinfolist,u=b.convertGroupInfo2JsList(a),e.abrupt("return",u);case 46:return e.abrupt("return",[]);case 47:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()),z=(t.updateGroup=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("updateGroup start, datalen = ",t.datalist.length),e.next=3,v.initPublicDbAtomic.wait();case 3:return e.next=5,h.default.getinstance();case 5:if(r=e.sent,n=null,isNullOrEmpty(t)||isNullOrEmpty(t.condition_value)||isNullOrEmpty(t.datalist)){e.next=11;break}return e.next=10,r.updategroup(t);case 10:n=e.sent;case 11:return x.info("updateGroup end, result = ",JSON.parse((0,o.default)(n))),e.abrupt("return",n);case 13:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.bulkPutGroupMember=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a,u,i,c;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("bulkPutGroupMember start"),e.next=3,v.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return x.debug("bulkPutGroupMember empty"),e.abrupt("return");case 6:return e.next=8,h.default.getinstance();case 8:r=e.sent,n=t.splitByNum(50),a=0;case 11:if(!(a<n.length)){e.next=22;break}if(u=b.convertGroupMemberList2SQLite(n[a]),!(i=u.filter(w))){e.next=19;break}return e.next=17,r.addgroupmemberlist(i);case 17:c=e.sent,c.result<=0&&x.error(c.result," membername value is crossing!");case 19:a++,e.next=11;break;case 22:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.deleteGroupMember=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a,u,i,c,s;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,x.info("deleteGroupMember start"),e.next=4,v.initPublicDbAtomic.wait();case 4:return e.next=6,h.default.getinstance();case 6:if(r=e.sent,!t.hasOwnProperty("group_id")||!t.hasOwnProperty("account")){e.next=18;break}return n=O.GROUPMEMBER_TYPE.GROUPMEMBER_ACCOUNT,a=new Array,a[0]={keytype:O.GROUPMEMBER_TYPE.GROUPMEMBER_GROUPID,match_value:t.group_id.toString()},a[1]={keytype:O.GROUPMEMBER_TYPE.GROUPMEMBER_ACCOUNT,match_value:t.account.toString()},x.info("deleteGroupMember account, operationtype : ",(0,g.isNullOrUndefined)(n)," ,datalist.length : ",(0,g.isNullOrUndefined)(a.length)),a.forEach(function(e){x.info("value : ",(0,g.isNullOrUndefined)(e.match_value))}),e.next=16,r.delgroupmember(n,a,a.length);case 16:e.next=37;break;case 18:if(!t.hasOwnProperty("group_id")||!t.hasOwnProperty("show_account")){e.next=29;break}return u=O.GROUPMEMBER_TYPE.GROUPMEMBER_SHOWACCOUNT,i=new Array,i[0]={keytype:O.GROUPMEMBER_TYPE.GROUPMEMBER_GROUPID,match_value:t.group_id.toString()},i[1]={keytype:O.GROUPMEMBER_TYPE.GROUPMEMBER_SHOWACCOUNT,match_value:t.show_account.toString()},x.info("deleteGroupMember show_account, operationtype : ",(0,g.isNullOrUndefined)(u)," ,datalist.length : ",(0,g.isNullOrUndefined)(i.length)),i.forEach(function(e){x.info("value : ",(0,g.isNullOrUndefined)(e.match_value))}),e.next=27,r.delgroupmember(u,i,i.length);case 27:e.next=37;break;case 29:if(!t.hasOwnProperty("group_id")){e.next=37;break}return c=O.GROUPMEMBER_TYPE.GROUPMEMBER_GROUPID,s=new Array,s[0]={keytype:O.GROUPMEMBER_TYPE.GROUPMEMBER_GROUPID,match_value:t.group_id.toString()},x.info("deleteGroupMember group_id, operationtype : ",(0,g.isNullOrUndefined)(c)," ,datalist.length : ",(0,g.isNullOrUndefined)(s.length)),s.forEach(function(e){x.info("value : ",(0,g.isNullOrUndefined)(e.match_value))}),e.next=37,r.delgroupmember(c,s,s.length);case 37:e.next=42;break;case 39:e.prev=39,e.t0=e.catch(0),x.error("deleteGroupMember",e.t0.toString());case 42:case"end":return e.stop()}},e,void 0,[[0,39]])}));return function(t){return e.apply(this,arguments)}}(),t.queryGroupMemberList=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a,u,i;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("queryGroupMemberList start"),e.next=3,v.initPublicDbAtomic.wait();case 3:return e.next=5,h.default.getinstance();case 5:if(r=e.sent,n=null,a=new Array,u=void 0,!t.hasOwnProperty("group_id")){e.next=13;break}u=O.GROUPMEMBER_TYPE.GROUPMEMBER_GROUPID,a.unshift({keytype:u,match_value:t.group_id.toString()}),e.next=29;break;case 13:if(!t.hasOwnProperty("account")){e.next=18;break}u=O.GROUPMEMBER_TYPE.GROUPMEMBER_ACCOUNT,a.unshift({keytype:u,match_value:t.account.toString()}),e.next=29;break;case 18:if(!t.hasOwnProperty("searchtext")){e.next=23;break}u=O.GROUPMEMBER_TYPE.GROUPMEMBER_SEARCHTEXT,a.unshift({keytype:u,match_value:t.searchtext}),e.next=29;break;case 23:if(!t.hasOwnProperty("show_account")){e.next=28;break}u=O.GROUPMEMBER_TYPE.GROUPMEMBER_SHOWACCOUNT,a.unshift({keytype:u,match_value:t.show_account.toString()}),e.next=29;break;case 28:return e.abrupt("return",[]);case 29:return x.info("queryGroupMemberList, operationtype : ",(0,g.isNullOrUndefined)(u)," ,datalist.length : ",(0,g.isNullOrUndefined)(a.length)),a.forEach(function(e){x.info("value : ",(0,g.isNullOrUndefined)(e.match_value))}),e.next=33,r.querygroupmember(u,a,a.length);case 33:if(!(n=e.sent)||!n.param||null===n.param._memberinfolist){e.next=37;break}return i=n.param._memberinfolist,e.abrupt("return",b.convertGroupMember2JsList(i,t.owner));case 37:return e.abrupt("return",[]);case 38:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.bulkPutGroupType=function(){var e=(0,m.default)(d.default.mark(function e(t,r){return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.initPublicDbAtomic.wait();case 2:if(!isNullOrEmpty(t)){e.next=5;break}return x.debug("bulkPutGroupType 空数据"),e.abrupt("return");case 5:return e.next=7,z(t,r);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,void 0)}));return function(t,r){return e.apply(this,arguments)}}(),t.bulkPutGroupTypeList=function(){var e=(0,m.default)(d.default.mark(function e(t,r){var n,a,u;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.initPublicDbAtomic.wait();case 2:if(!isNullOrEmpty(t)){e.next=5;break}return x.debug("bulkPutGroupTypeList 空数据"),e.abrupt("return");case 5:return e.next=7,h.default.getinstance();case 7:if(n=e.sent,a=void 0,!(t&&"Array"===t.constructor.name&&t.length>0)){e.next=15;break}return e.next=12,n.addgroupcollectionlist(t);case 12:a=e.sent,e.next=20;break;case 15:return e.next=17,n.addgroupcollection(t);case 17:return a=e.sent,u=(0,f.default)({},info,{id:a.result}),e.abrupt("return",u);case 20:case"end":return e.stop()}},e,void 0)}));return function(t,r){return e.apply(this,arguments)}}()),W=t.queryGroupTypeList=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a,u,i,c;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.initPublicDbAtomic.wait();case 2:return e.next=4,h.default.getinstance();case 4:if(r=e.sent,n=null,!t.hasOwnProperty("all")){e.next=10;break}return e.next=9,r.querygroupcollection(O.GROUPCOLLECTION_TYPE.GROUPCOLLECTIONMEM_ALL,"");case 9:n=e.sent;case 10:if(!n||!n.param||null===n.param._groupcollectinfolist){e.next=23;break}a=new Array,u=n.param._groupcollectinfolist,i=0;case 14:if(!(i<u.length)){e.next=21;break}return c=u[i],a[i]={id:c.id,type_id:c.collectionid,name:c.name,state:c.state},e.abrupt("return",a);case 18:++i,e.next=14;break;case 21:e.next=24;break;case 23:return e.abrupt("return",[]);case 24:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),Z=(t.queryAllGroupTypeList=function(){var e=(0,m.default)(d.default.mark(function e(){return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.initPublicDbAtomic.wait();case 2:return e.next=4,W({all:""});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.bulkPutGroupTypeMember=function(){var e=(0,m.default)(d.default.mark(function e(t,r){return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.initPublicDbAtomic.wait();case 2:if(!isNullOrEmpty(t)){e.next=5;break}return x.debug("bulkPutGroupTypeMember 空数据"),e.abrupt("return");case 5:return e.next=7,Z(t,r);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,void 0)}));return function(t,r){return e.apply(this,arguments)}}(),t.bulkPutGroupTypeMemberList=function(){var e=(0,m.default)(d.default.mark(function e(t,r){var n,a,u;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.initPublicDbAtomic.wait();case 2:if(!isNullOrEmpty(t)){e.next=5;break}return x.debug("bulkPutGroupTypeMemberList 空数据"),e.abrupt("return");case 5:return e.next=7,h.default.getinstance();case 7:if(n=e.sent,a=void 0,!(t&&"Array"===t.constructor.name&&t.length>0)){e.next=15;break}return e.next=12,n.addgroupcollectionmemlist(t);case 12:a=e.sent,e.next=20;break;case 15:return e.next=17,n.addgroupcollectionmem(t);case 17:return a=e.sent,u=(0,f.default)({},t,{id:a.result}),e.abrupt("return",u);case 20:case"end":return e.stop()}},e,void 0)}));return function(t,r){return e.apply(this,arguments)}}()),X=t.queryGroupTypeMemberList=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a,u,i,c;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.initPublicDbAtomic.wait();case 2:return e.next=4,h.default.getinstance();case 4:if(r=e.sent,n=null,!t.hasOwnProperty("all")){e.next=10;break}return e.next=9,r.querygroupcollectionmem(O.GROUPCOLLECTIONMEM_TYPE.GROUPCOLLECTION_ALL,"");case 9:n=e.sent;case 10:if(!n||!n.param||null===n.param._groupcollectmeminfolist){e.next=23;break}a=new Array,u=n.param._groupcollectmeminfolist,i=0;case 14:if(!(i<u.length)){e.next=21;break}return c=u[i],a[i]={id:c.id,type_id:c.collectionid,group_id:c.groupid},e.abrupt("return",a);case 18:++i,e.next=14;break;case 21:e.next=24;break;case 23:return e.abrupt("return",[]);case 24:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),$=(t.queryAllGroupTypeMemberList=function(){var e=(0,m.default)(d.default.mark(function e(){return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.initPublicDbAtomic.wait();case 2:return e.next=4,X({all:""});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.saveFile=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("saveFile start"),e.next=3,v.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return x.debug("saveFile 空数据"),e.abrupt("return");case 6:return e.next=8,h.default.getinstance();case 8:if(r=e.sent,n=b.convertFile2SqLite(t),L(n)){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,r.addfile(n);case 14:return a=e.sent,e.abrupt("return",(0,f.default)({},t,{id:a.result}));case 16:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.bulkPutFile=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a,u,i;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("bulkPutFile start"),e.next=3,v.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return x.debug("bulkPutFile 空数据"),e.abrupt("return");case 6:return e.next=8,h.default.getinstance();case 8:r=e.sent,n=t.splitByNum(30),a=0;case 11:if(!(a<n.length)){e.next=20;break}if(u=b.convertFile2SqLiteList(n[a]),!(i=u.filter(L))){e.next=17;break}return e.next=17,r.addfilelist(u);case 17:a++,e.next=11;break;case 20:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.deleteFile=function(){var e=(0,m.default)(d.default.mark(function e(t){var r;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("deleteFile start"),e.next=3,v.initPublicDbAtomic.wait();case 3:return e.next=5,h.default.getinstance();case 5:if(r=e.sent,isNullOrEmpty(t)){e.next=18;break}if(!t.hasOwnProperty("message_server_chat_id_str")){e.next=14;break}return x.info("deleteFile, value : ",(0,g.isNullOrUndefined)(t.message_server_chat_id_str)),e.next=11,r.delfile(O.FILERECORD_TYPE.FILERECORD_MESSAGEID,t.message_server_chat_id_str.toString());case 11:return e.abrupt("return",e.sent);case 14:if(!t.hasOwnProperty("all")){e.next=18;break}return e.next=17,r.delfile(O.FILERECORD_TYPE.FILERECORD_ALL,"");case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryFile=function(){var e=(0,m.default)(d.default.mark(function e(t){var r;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("queryFile start"),e.next=3,v.initPublicDbAtomic.wait();case 3:return e.next=5,$(t);case 5:if(r=e.sent,isNullOrEmpty(r)){e.next=10;break}return e.abrupt("return",r[0]);case 10:return e.abrupt("return",{});case 11:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryFileBySearchText=function(){var e=(0,m.default)(d.default.mark(function e(t){return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("queryFileBySearchText start"),e.next=3,v.initPublicDbAtomic.wait();case 3:return e.next=5,$({searchtext:t});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.limitImageFileListByRecent=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a,u,i,c,s,o,l;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("limitFileListByRecent start"),e.next=3,v.initPublicDbAtomic.wait();case 3:return r=t.opts,n=t.pageSize||constant.LAZY_LOAD_IMG_PAGE_SIZE,e.next=7,h.default.getinstance();case 7:if(a=e.sent,u=null,i=void 0,c=new Array,isNullOrEmpty(r)){e.next=25;break}if(r.hasOwnProperty("recent_owner")&&(i=O.FILERECORD_TYPE.FILERECORD_IMAGE,c[0]={keytype:O.FILERECORD_TYPE.FILERECORD_CONVID,match_value:r.recent_owner.toString()}),s=1,n<=0&&(n=window.CLIENTCONFIG.ISMOBILE?window.CLIENTCONFIG.MOBILE_MESSAGE_LIST_PAGE_SIZE:window.CLIENTCONFIG.MESSAGE_LIST_PAGE_SIZE),c[s++]={keytype:O.FILERECORD_TYPE.FILERECORD_PAGELIMIT,match_value:n.toString()},o="9999999999999",r.hasOwnProperty("utc_stamp")&&(o=r.utc_stamp.toString()),c[s++]={keytype:O.FILERECORD_TYPE.FILERECORD_TIMESTAMP,match_value:o},!(c.length>0)){e.next=25;break}return x.info("limitFileListByRecent, operationtype : ",(0,g.isNullOrUndefined)(i)," ,datalist.length : ",(0,g.isNullOrUndefined)(c.length)),c.forEach(function(e){x.info("value : ",(0,g.isNullOrUndefined)(e.match_value))}),e.next=24,a.queryfile(i,c,c.length);case 24:u=e.sent;case 25:if(isNullOrEmpty(u)||isNullOrEmpty(u.param)||isNullOrEmpty(u.param._filerecordlist)){e.next=30;break}return l=u.param._filerecordlist,e.abrupt("return",b.convertFile2JsList(l));case 30:return e.abrupt("return",[]);case 31:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryFileList=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a,u,i,c;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("queryFileList start"),e.next=3,v.initPublicDbAtomic.wait();case 3:return e.next=5,h.default.getinstance();case 5:if(r=e.sent,n=null,a=void 0,u=new Array,!t.hasOwnProperty("file_handle")){e.next=14;break}a=O.FILERECORD_TYPE.FILERECORD_FILEHANDLE,u[0]={keytype:a,match_value:t.file_handle},e.next=37;break;case 14:if(!t.hasOwnProperty("recent_id")&&!t.hasOwnProperty("recent_owner")){e.next=21;break}t.hasOwnProperty("recent_id")&&(a=O.FILERECORD_TYPE.FILERECORD_CONVAUTOID,u[0]={keytype:a,match_value:t.recent_id.toString()}),t.hasOwnProperty("recent_owner")&&(a=O.FILERECORD_TYPE.FILERECORD_CONVID,u[0]={keytype:a,match_value:t.recent_owner.toString()}),i=1,t.hasOwnProperty("utc_stamp")&&t.hasOwnProperty("searchtext")&&t.hasOwnProperty("limitcount")&&(u[i++]={keytype:O.FILERECORD_TYPE.FILERECORD_TIMESTAMP,match_value:t.utc_stamp.toString()},u[i++]={keytype:O.FILERECORD_TYPE.FILERECORD_SEARCHGLOBAL,match_value:t.searchtext},u[i++]={keytype:O.FILERECORD_TYPE.FILERECORD_PAGELIMIT,match_value:t.limitcount.toString()}),e.next=37;break;case 21:if(!t.hasOwnProperty("searchtext")){e.next=26;break}a=O.FILERECORD_TYPE.FILERECORD_SEARCHGLOBAL,u[0]={keytype:a,match_value:t.searchtext},e.next=37;break;case 26:if(!t.hasOwnProperty("message_id")){e.next=31;break}a=O.FILERECORD_TYPE.FILERECORD_MESSAGEID,u[0]={keytype:a,match_value:t.message_id.toString()},e.next=37;break;case 31:if(!t.hasOwnProperty("message_server_chat_id_str")){e.next=36;break}a=O.FILERECORD_TYPE.FILERECORD_SERVERMESSAGEID,u[0]={keytype:a,match_value:t.message_server_chat_id_str},e.next=37;break;case 36:return e.abrupt("return",[]);case 37:if(!(u.length>0)){e.next=43;break}return x.info("queryFileList, operationtype : ",(0,g.isNullOrUndefined)(a)," ,datalist.length : ",(0,g.isNullOrUndefined)(u.length)),u.forEach(function(e){x.info("value : ",(0,g.isNullOrUndefined)(e.match_value))}),e.next=42,r.queryfile(a,u,u.length);case 42:n=e.sent;case 43:if(isNullOrEmpty(n)||isNullOrEmpty(n.param)||isNullOrEmpty(n.param._filerecordlist)){e.next=48;break}return c=n.param._filerecordlist,e.abrupt("return",b.convertFile2JsList(c));case 48:return e.abrupt("return",[]);case 49:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()),ee=(t.saveScreenShot=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("saveScreenShot start"),e.next=3,v.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return x.debug("saveScreenShot 空数据"),e.abrupt("return");case 6:return e.next=8,h.default.getinstance();case 8:return r=e.sent,n=b.convertScreenShot2SqLite(t),e.next=12,r.addscreenshot(n);case 12:return a=e.sent,e.abrupt("return",(0,f.default)({},t,{id:a.result}));case 14:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.bulkPutScreenShot=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a,u;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("bulkPutScreenShot start"),e.next=3,v.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return x.debug("bulkPutScreenShot 空数据"),e.abrupt("return");case 6:return e.next=8,h.default.getinstance();case 8:r=e.sent,n=t.splitByNum(30),a=0;case 11:if(!(a<n.length)){e.next=18;break}return u=b.convertScreenShot2SqLiteList(n[a]),e.next=15,r.addscreenshotlist(u);case 15:a++,e.next=11;break;case 18:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.deleteScreenShot=function(){var e=(0,m.default)(d.default.mark(function e(t){var r;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("deleteScreenShot start"),e.next=3,v.initPublicDbAtomic.wait();case 3:return e.next=5,h.default.getinstance();case 5:if(r=e.sent,isNullOrEmpty(t)){e.next=18;break}if(!t.hasOwnProperty("message_server_chat_id_str")){e.next=14;break}return x.info("deleteScreenShot, value : ",(0,g.isNullOrUndefined)(t.message_server_chat_id_str)),e.next=11,r.delscreenshot(O.SCREENFILE_TYPE.SCREENSHOT_MESSAGEID,t.message_server_chat_id_str.toString());case 11:return e.abrupt("return",e.sent);case 14:if(!t.hasOwnProperty("all")){e.next=18;break}return e.next=17,r.delfile(O.SCREENFILE_TYPE.SCREENSHOT_ALL,"");case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryScreenShot=function(){var e=(0,m.default)(d.default.mark(function e(t){var r;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.initPublicDbAtomic.wait();case 2:return e.next=4,ee(t);case 4:if(r=e.sent,isNullOrEmpty(r)){e.next=9;break}return e.abrupt("return",r[0]);case 9:return e.abrupt("return",{});case 10:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.limitScreenShotListByRecent=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a,u,i,c,s,o,l;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("limitScreenShotListByRecent start"),e.next=3,v.initPublicDbAtomic.wait();case 3:return r=t.opts,n=t.pageSize||constant.LAZY_LOAD_IMG_PAGE_SIZE,e.next=7,h.default.getinstance();case 7:if(a=e.sent,u=null,i=void 0,c=new Array,isNullOrEmpty(r)){e.next=25;break}if(r.hasOwnProperty("recent_owner")&&(i=O.SCREENFILE_TYPE.SCREENSHOT_CONVID,c[0]={keytype:i,match_value:r.recent_owner.toString()}),s=1,n<=0&&(n=window.CLIENTCONFIG.ISMOBILE?window.CLIENTCONFIG.MOBILE_MESSAGE_LIST_PAGE_SIZE:window.CLIENTCONFIG.MESSAGE_LIST_PAGE_SIZE),c[s++]={keytype:O.SCREENFILE_TYPE.SCREENSHOT_PAGELIMIT,match_value:n.toString()},o="9999999999999",r.hasOwnProperty("utc_stamp")&&(o=r.utc_stamp.toString()),c[s++]={keytype:O.SCREENFILE_TYPE.SCREENSHOT_TIMESTAMP,match_value:o},!(c.length>0)){e.next=25;break}return x.info("limitScreenShotListByRecent, operationtype : ",(0,g.isNullOrUndefined)(i)," ,datalist.length : ",(0,g.isNullOrUndefined)(c.length)),c.forEach(function(e){x.info("value : ",(0,g.isNullOrUndefined)(e.match_value))}),e.next=24,a.queryscreenshot(i,c,c.length);case 24:u=e.sent;case 25:if(isNullOrEmpty(u)||isNullOrEmpty(u.param)||isNullOrEmpty(u.param._screenfileinfolist)){e.next=30;break}return l=u.param._screenfileinfolist,e.abrupt("return",b.convertScreenShot2JsList(l));case 30:return e.abrupt("return",[]);case 31:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryScreenShotList=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a,u,i;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("queryScreenShotList start"),e.next=3,v.initPublicDbAtomic.wait();case 3:return e.next=5,h.default.getinstance();case 5:if(r=e.sent,n=null,a=void 0,u=new Array,!t.hasOwnProperty("um_url")){e.next=14;break}a=O.SCREENFILE_TYPE.SCREENSHOT_UM_URL,u[0]={keytype:a,match_value:t.um_url},e.next=45;break;case 14:if(!t.hasOwnProperty("file_handle")){e.next=19;break}a=O.SCREENFILE_TYPE.SCREENSHOT_FILEHANDLE,u[0]={keytype:a,match_value:t.file_handle},e.next=45;break;case 19:if(!t.hasOwnProperty("message_id")){e.next=24;break}a=O.SCREENFILE_TYPE.SCREENSHOT_MESSAGEID,u[0]={keytype:a,match_value:t.message_id.toString()},e.next=45;break;case 24:if(!t.hasOwnProperty("server_message_id")){e.next=29;break}a=O.SCREENFILE_TYPE.SCREENSHOT_SERVERMESSAGEID,u[0]={keytype:a,match_value:t.server_message_id},e.next=45;break;case 29:if(!t.hasOwnProperty("recent_id")){e.next=34;break}a=O.SCREENFILE_TYPE.SCREENSHOT_CONVAUTOID,u[0]={keytype:a,match_value:t.recent_id.toString()},e.next=45;break;case 34:if(!t.hasOwnProperty("message_server_chat_id_str")){e.next=39;break}a=O.SCREENFILE_TYPE.SCREENSHOT_SERVERMESSAGEID,u[0]={keytype:a,match_value:t.message_server_chat_id_str},e.next=45;break;case 39:if(!t.hasOwnProperty("recent_owner")){e.next=44;break}a=O.SCREENFILE_TYPE.SCREENSHOT_CONVID,u[0]={keytype:a,match_value:t.recent_owner.toString()},e.next=45;break;case 44:return e.abrupt("return",[]);case 45:if(!(u.length>0)){e.next=49;break}return e.next=48,r.queryscreenshot(a,u,u.length);case 48:n=e.sent;case 49:if(isNullOrEmpty(n)||isNullOrEmpty(n.param)||isNullOrEmpty(n.param._screenfileinfolist)){e.next=54;break}return i=n.param._screenfileinfolist,e.abrupt("return",b.convertScreenShot2JsList(i));case 54:return e.abrupt("return",[]);case 55:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()),te=(t.saveRecent=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("saveRecent start"),e.next=3,v.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return x.debug("saveRecent 空数据"),e.abrupt("return");case 6:return e.next=8,h.default.getinstance();case 8:if(r=e.sent,n=b.convertRecent2SqLite(t),k(n)){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,r.addconversation(n);case 14:return a=e.sent,e.abrupt("return",(0,f.default)({},t,{id:a.result}));case 16:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.bulkPutRecent=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a,u,i;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("bulkPutRecent start"),e.next=3,v.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,h.default.getinstance();case 7:r=e.sent,n=t.splitByNum(30),a=0;case 10:if(!(a<n.length)){e.next=19;break}if(u=b.convertRecent2SqLiteList(n[a]),!(i=u.filter(k))){e.next=16;break}return e.next=16,r.addconversationlist(u);case 16:a++,e.next=10;break;case 19:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.deleteRecent=function(){var e=(0,m.default)(d.default.mark(function e(t){var r;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("deleteRecent start"),e.next=3,v.initPublicDbAtomic.wait();case 3:return e.next=5,h.default.getinstance();case 5:if(r=e.sent,!t.hasOwnProperty("id")){e.next=11;break}return x.info("deleteRecent, value : ",(0,g.isNullOrUndefined)(t.id)),e.next=10,r.delconversation(O.CONVERSATION_TYPE.CONV_AUTOID,t.id.toString());case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryAllRecent=function(){var e=(0,m.default)(d.default.mark(function e(){var t;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te({all:""});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.queryRecent=function(){var e=(0,m.default)(d.default.mark(function e(t){var r;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te(t);case 2:if(r=e.sent,isNullOrEmpty(r)){e.next=7;break}return e.abrupt("return",r[0]);case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryRecentList=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("queryRecentList start"),e.next=3,v.initPublicDbAtomic.wait();case 3:return e.next=5,h.default.getinstance();case 5:if(r=e.sent,showDealTime("queryRecentList 查询会话信息"),n=null,!isNullOrEmpty(t)){e.next=10;break}return e.abrupt("return",[]);case 10:if(!t.hasOwnProperty("all")){e.next=16;break}return e.next=13,r.queryconversation(O.CONVERSATION_TYPE.CONV_ALL,"");case 13:n=e.sent,e.next=24;break;case 16:if(!t.hasOwnProperty("owner")||isNullOrEmpty(t.owner)){e.next=23;break}return x.info("queryRecentList, value : ",(0,g.isNullOrUndefined)(t.owner)),e.next=20,r.queryconversation(O.CONVERSATION_TYPE.CONV_CONVID,t.owner.toString());case 20:n=e.sent,e.next=24;break;case 23:return e.abrupt("return",[]);case 24:if(null===n||void 0===n.param||void 0===n.param._cvsinfolist||null===n.param._cvsinfolist){e.next=27;break}return showDealTime("queryRecentList 处理会话信息"),e.abrupt("return",b.convertRecent2JsList(n.param._cvsinfolist));case 27:return e.abrupt("return",[]);case 28:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()),re=(t.saveMessage=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("saveMessage start"),e.next=3,v.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return x.debug("saveMessage 空数据"),e.abrupt("return");case 6:return e.next=8,h.default.getinstance();case 8:if(r=e.sent,n=b.convertMessage2SqLite(t),R(n)){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,r.addhistoryrecord(n);case 14:return a=e.sent,x.debug("saveMessage 到db"),e.abrupt("return",(0,f.default)({},t,{id:a.result}));case 17:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.bulkPutMessage=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a,u,i;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("bulkPutMessage start"),e.next=3,v.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return x.debug("bulkPutMessage 空数据"),e.abrupt("return");case 6:return e.next=8,h.default.getinstance();case 8:r=e.sent,n=t.splitByNum(30),a=0;case 11:if(!(a<n.length)){e.next=20;break}if(u=b.convertMessage2SqLiteList(n[a]),!(i=u.filter(R))){e.next=17;break}return e.next=17,r.addhistoryrecordlist(u);case 17:a++,e.next=11;break;case 20:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryMessage=function(){var e=(0,m.default)(d.default.mark(function e(t){var r;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(t);case 2:if(r=e.sent,isNullOrEmpty(r)){e.next=9;break}if(!t.bulk){e.next=6;break}return e.abrupt("return",r);case 6:return e.abrupt("return",r[0]);case 9:return e.abrupt("return",{});case 10:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryMessageBySearchText=function(){var e=(0,m.default)(d.default.mark(function e(t){var r;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne({searchtext:t});case 2:return r=e.sent,r.filter(function(e){return 0===e.is_quote}),e.abrupt("return",r);case 5:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.deleteMessage=function(){var e=(0,m.default)(d.default.mark(function e(t){var r;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("deleteMessage start"),e.next=3,v.initPublicDbAtomic.wait();case 3:return x.debug("deleteMessage from db"),e.next=6,h.default.getinstance();case 6:if(r=e.sent,!t.hasOwnProperty("id")){e.next=12;break}return x.info("deleteMessage, value : ",(0,g.isNullOrUndefined)(t.id)),e.next=11,r.deletehistoryrecord(O.HISTORYRECORD_TYPE.HISTORYRECORD_RECORDID,t.id.toString());case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),function(){var e=(0,m.default)(d.default.mark(function e(t,r){var n,a,u,i,c,s;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("queryMessageListByRecent start"),n=new Array,a=void 0,u=!0,t.hasOwnProperty("recent_id")&&(a=O.HISTORYRECORD_TYPE.HISTORYRECORD_CONVAUTOID,n[0]={keytype:O.HISTORYRECORD_TYPE.HISTORYRECORD_CONVAUTOID,match_value:t.recent_id.toString()}),t.hasOwnProperty("recent_owner")&&(a=O.HISTORYRECORD_TYPE.HISTORYRECORD_CONVID,n[0]={keytype:O.HISTORYRECORD_TYPE.HISTORYRECORD_CONVID,match_value:t.recent_owner.toString()}),i=1,t.hasOwnProperty("is_read")&&(n[i++]={keytype:O.HISTORYRECORD_TYPE.HISTORYRECORD_ISREAD,match_value:t.is_read.toString()}),t.hasOwnProperty("utc_stamp")&&(n[i++]={keytype:O.HISTORYRECORD_TYPE.HISTORYRECORD_UTCSTAMP,match_value:t.utc_stamp.toString()}),t.hasOwnProperty("timedirection")?(n[i++]={keytype:O.HISTORYRECORD_TYPE.HISTORYRECORD_RESERVERINT1,match_value:t.timedirection.toString()},"1"===t.timedirection&&(u=!1)):n[i++]={keytype:O.HISTORYRECORD_TYPE.HISTORYRECORD_RESERVERINT1,match_value:"0"},c=window.CLIENTCONFIG.ISMOBILE?window.CLIENTCONFIG.MOBILE_MESSAGE_LIST_PAGE_SIZE:window.CLIENTCONFIG.MESSAGE_LIST_PAGE_SIZE,t.hasOwnProperty("limitcount")&&(c=t.limitcount),n[i++]={keytype:O.HISTORYRECORD_TYPE.HISTORYRECORD_LIMIT,match_value:c.toString()},x.info("queryMessageListByRecent, operationtype : ",(0,g.isNullOrUndefined)(a)," ,datalist.length : ",(0,g.isNullOrUndefined)(n.length)),n.forEach(function(e){x.info("value : ",(0,g.isNullOrUndefined)(e.match_value))}),e.next=17,r.queryhistoryrecord(a,n,n.length);case 17:return s=e.sent,e.abrupt("return",{content:s,isReverse:u});case 19:case"end":return e.stop()}},e,void 0)}));return function(t,r){return e.apply(this,arguments)}}()),ne=t.queryMessageList=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a,u,i,c,s,o,l,f,p,_,m,y;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("queryMessageList start"),e.next=3,v.initPublicDbAtomic.wait();case 3:return e.next=5,h.default.getinstance();case 5:if(r=e.sent,n=null,a=!0,!t.hasOwnProperty("id")){e.next=18;break}return u=O.HISTORYRECORD_TYPE.HISTORYRECORD_RECORDID,i=new Array,i[0]={keytype:O.HISTORYRECORD_TYPE.HISTORYRECORD_RECORDID,match_value:t.id.toString()},x.info("queryMessageList id, value : ",(0,g.isNullOrUndefined)(t.id)),e.next=15,r.queryhistoryrecord(u,i,i.length);case 15:n=e.sent,e.next=66;break;case 18:if(!t.hasOwnProperty("searchtext")){e.next=30;break}return c=O.HISTORYRECORD_TYPE.HISTORYRECORD_SHOWTEXT,s=new Array,s[0]={keytype:O.HISTORYRECORD_TYPE.HISTORYRECORD_SHOWTEXT,match_value:t.searchtext.toString()},t.hasOwnProperty("recent_id")?s[1]={keytype:O.HISTORYRECORD_TYPE.HISTORYRECORD_CONVAUTOID,match_value:t.recent_id.toString()}:t.hasOwnProperty("recent_owner")&&(s[1]={keytype:O.HISTORYRECORD_TYPE.HISTORYRECORD_CONVID,match_value:t.recent_owner.toString()}),x.info("queryMessageList searchtext, operationtype : ",(0,g.isNullOrUndefined)(c)," ,datalist.length : ",(0,g.isNullOrUndefined)(s.length)),s.forEach(function(e){x.info("value : ",(0,g.isNullOrUndefined)(e.match_value))}),e.next=27,r.queryhistoryrecord(c,s,s.length);case 27:n=e.sent,e.next=66;break;case 30:if(!t.hasOwnProperty("recent_id")&&!t.hasOwnProperty("recent_owner")){e.next=38;break}return e.next=33,re(t,r);case 33:o=e.sent,n=o.content,a=o.isReverse,e.next=66;break;case 38:if(!t.hasOwnProperty("client_chat_id")){e.next=48;break}return l=O.HISTORYRECORD_TYPE.HISTORYRECORD_CLIENTMESSAGEID,f=new Array,f[0]={keytype:O.HISTORYRECORD_TYPE.HISTORYRECORD_CLIENTMESSAGEID,match_value:t.client_chat_id.toString()},x.info("queryMessageList client_chat_id, value : ",(0,g.isNullOrUndefined)(t.client_chat_id)),e.next=45,r.queryhistoryrecord(l,f,f.length);case 45:n=e.sent,e.next=66;break;case 48:if(!t.hasOwnProperty("server_chat_id_str")){e.next=58;break}return p=O.HISTORYRECORD_TYPE.HISTORYRECORD_MESSAGEID,_=new Array,_[0]={keytype:p,match_value:t.server_chat_id_str||""},x.info("queryMessageList server_chat_id_str, value : ",(0,g.isNullOrUndefined)(t.server_chat_id_str)),e.next=55,r.queryhistoryrecord(p,_,_.length);case 55:n=e.sent,e.next=66;break;case 58:if(!t.hasOwnProperty("all")){e.next=65;break}return m=new Array,e.next=62,r.queryhistoryrecord(O.HISTORYRECORD_TYPE.HISTORYRECORD_ALL,m,m.length);case 62:n=e.sent,e.next=66;break;case 65:return e.abrupt("return",[]);case 66:if(!n||!n.param||null===n.param._historyrecordlist){e.next=74;break}return e.next=69,b.convertMessage2JsList(n.param._historyrecordlist);case 69:return y=e.sent,a&&y.reverse(),e.abrupt("return",y);case 74:return e.abrupt("return",[]);case 75:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),ae=(t.limitMessageList=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a=t.recent_owner,u=t.utc_stamp,i=t.isPre,c=void 0===i||i,s=t.pageCount,o=void 0===s?window.CLIENTCONFIG.MESSAGE_LIST_PAGE_SIZE:s;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r={recent_owner:a,utc_stamp:u},x.debug("limitMessageList",r,c),n=o,!c){e.next=10;break}return e.next=7,ne((0,f.default)({},r,{limitcount:n,timedirection:"0"}));case 7:return e.abrupt("return",e.sent);case 10:return e.next=12,ne((0,f.default)({},r,{limitcount:n,timedirection:"1"}));case 12:return e.abrupt("return",e.sent);case 13:e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(0),x.error("limitMessageList",{e:e.t0.toJSON()}),e.abrupt("return",[]);case 19:case"end":return e.stop()}},e,void 0,[[0,15]])}));return function(t){return e.apply(this,arguments)}}(),t.limitMessageListByNum=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n=t.recent_owner,a=t.utc_stamp,u=t.isPre,i=void 0===u||u,c=t.pageSize,s=void 0===c?0:c;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.initPublicDbAtomic.wait();case 2:if(e.prev=2,x.debug("limitMessageListByNum"),r={recent_owner:n,utc_stamp:a},0===s&&(s=window.CLIENTCONFIG.ISMOBILE?window.CLIENTCONFIG.MOBILE_MESSAGE_LIST_PAGE_SIZE:window.CLIENTCONFIG.MESSAGE_LIST_PAGE_SIZE),!i){e.next=12;break}return e.next=9,ne((0,f.default)({},r,{limitcount:s,timedirection:"0"}));case 9:return e.abrupt("return",e.sent);case 12:return e.next=14,ne((0,f.default)({},r,{limitcount:s,timedirection:"1"}));case 14:return e.abrupt("return",e.sent);case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(2),x.error("limitMessageListByNum",{e:e.t0.toJSON()}),e.abrupt("return",[]);case 21:case"end":return e.stop()}},e,void 0,[[2,17]])}));return function(t){return e.apply(this,arguments)}}(),t.saveUserTrack=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a,i,s,o,l,p,_,m,y,O,E,b;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("saveUserTrack start"),e.next=3,v.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return x.debug("saveUserTrack param empty"),e.abrupt("return");case 6:return e.next=8,h.default.getinstance();case 8:if(r=e.sent,n=void 0,!(t&&"Array"===t.constructor.name&&t.length>0)){e.next=43;break}if(t=[].concat((0,c.default)(t)),a=50,!(t.length>a)){e.next=37;break}i=Math.floor(t.length/a),x.debug("write usertrack count "+t.length),s=0;case 17:if(!(s<i)){e.next=26;break}if(o=t.slice(s*a,s*a+a-1),!(l=o.filter(G))){e.next=23;break}return e.next=23,r.addusertracklist(l);case 23:++s,e.next=17;break;case 26:if(!((p=t.length%a)>0)){e.next=35;break}if(_=i*a,m=i*a+p-1,y=t.slice(_,m),!(O=y.filter(G))){e.next=35;break}return e.next=35,r.addusertracklist(O);case 35:e.next=41;break;case 37:if(!(E=t.filter(G))){e.next=41;break}return e.next=41,r.addusertracklist(E);case 41:e.next=51;break;case 43:if(t=(0,u.default)({},t),G(t)){e.next=46;break}return e.abrupt("return");case 46:return e.next=48,r.addusertrack(t);case 48:return n=e.sent,b=(0,f.default)({},t,{id:n.result}),e.abrupt("return",b);case 51:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryUserTrackList=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a,u,i,c;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("queryUserTrackList start"),e.next=3,v.initPublicDbAtomic.wait();case 3:return e.next=5,h.default.getinstance();case 5:if(r=e.sent,n={},!isNullOrEmpty(t)){e.next=13;break}return e.next=10,r.queryusertrack(O.USERTRACK_TYPE.USERTRACK_ALL,"");case 10:n=e.sent,e.next=40;break;case 13:if(!t.hasOwnProperty("all")){e.next=19;break}return e.next=16,r.queryusertrack(O.USERTRACK_TYPE.USERTRACK_ALL,"");case 16:n=e.sent,e.next=40;break;case 19:if(!t.hasOwnProperty("alllength")){e.next=25;break}return e.next=22,r.queryusertrack(O.USERTRACK_TYPE.USERTRACK_ALLLENGTH,"");case 22:n=e.sent,e.next=40;break;case 25:if(!t.hasOwnProperty("id")){e.next=32;break}return x.info("queryUserTrackList id, value : ",(0,g.isNullOrUndefined)(t.id)),e.next=29,r.queryusertrack(O.USERTRACK_TYPE.USERTRACK_ID,t.id.toString());case 29:n=e.sent,e.next=40;break;case 32:if(!t.hasOwnProperty("limitcount")){e.next=39;break}return x.info("queryUserTrackList limitcount, value : ",(0,g.isNullOrUndefined)(t.limitcount)),e.next=36,r.queryusertrack(O.USERTRACK_TYPE.USERTRACK_LIMITCOUNT,t.limitcount.toString());case 36:n=e.sent,e.next=40;break;case 39:x.error("queryUserTrackList no support param");case 40:if(!n||!n.param||isNullOrEmpty(n.param._usertrackinfolist)){e.next=46;break}for(a=new Array,u=0;u<n.param._usertrackinfolist.length;++u)i=n.param._usertrackinfolist[u],a[u]={id:i.id,content:i.content,retrycount:i.retrycount};return e.abrupt("return",a);case 46:if(!n.param||!n.param._retlen||isNullOrEmpty(t)||!t.hasOwnProperty("alllength")){e.next=51;break}return c=n.param._retlen,e.abrupt("return",c);case 51:return e.abrupt("return",[]);case 52:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.deleteusertrack=function(){var e=(0,m.default)(d.default.mark(function e(t){var r;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("deleteusertrack start"),e.next=3,v.initPublicDbAtomic.wait();case 3:return e.next=5,h.default.getinstance();case 5:if(r=e.sent,!t.hasOwnProperty("id")){e.next=12;break}return x.info("deleteusertrack id, value : ",(0,g.isNullOrUndefined)(t.id)),e.next=10,r.delusertrack(O.USERTRACK_TYPE.USERTRACK_ID,t.id.toString());case 10:e.next=31;break;case 12:if(!t.hasOwnProperty("all")){e.next=23;break}if(!t.hasOwnProperty("idlist")){e.next=19;break}return x.info("deleteusertrack idlist, value : ",(0,g.isNullOrUndefined)(t.idlist)),e.next=17,r.delusertrack(O.USERTRACK_TYPE.USERTRACK_ALL,t.idlist.toString());case 17:e.next=21;break;case 19:return e.next=21,r.delusertrack(O.USERTRACK_TYPE.USERTRACK_ALL,"");case 21:e.next=31;break;case 23:if(!t.hasOwnProperty("limitcount")){e.next=30;break}if(!(parseInt(t.limitcount)>0)){e.next=28;break}return x.info("deleteusertrack limitcount, value : ",(0,g.isNullOrUndefined)(t.limitcount)),e.next=28,r.delusertrack(O.USERTRACK_TYPE.USERTRACK_LIMITCOUNT,t.limitcount.toString());case 28:e.next=31;break;case 30:x.debug(" deleteusertrack not support, by param : "+t);case 31:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.saveAvatarTag=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("saveAvatarTag start"),e.next=3,v.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return x.debug("saveAvatarTag empty"),e.abrupt("return");case 6:return e.next=8,h.default.getinstance();case 8:return r=e.sent,n=b.convertAvatarTag2Data(t),e.next=12,r.addavatartag(n);case 12:return a=e.sent,e.abrupt("return",(0,f.default)({},n,{id:a.result}));case 14:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.deleteAvatarTag=function(){var e=(0,m.default)(d.default.mark(function e(t){var r;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("deleteAvatarTag start"),e.next=3,v.initPublicDbAtomic.wait();case 3:return e.next=5,h.default.getinstance();case 5:if(r=e.sent,!t.hasOwnProperty("id")){e.next=12;break}return x.info("deleteAvatarTag id, value : ",(0,g.isNullOrUndefined)(t.id)),e.next=10,r.delavatartag(O.AVATARTAG_TYPE.AVATARTAG_ID,t.id.toString());case 10:e.next=24;break;case 12:if(!t.hasOwnProperty("account")){e.next=18;break}return x.info("deleteAvatarTag account, value : ",(0,g.isNullOrUndefined)(t.account)),e.next=16,r.delavatartag(O.AVATARTAG_TYPE.AVATARTAG_ACCOUNT,t.account.toString());case 16:e.next=24;break;case 18:if(!t.hasOwnProperty("all")){e.next=23;break}return e.next=21,r.delavatartag(O.AVATARTAG_TYPE.AVATARTAG_ALL,"");case 21:e.next=24;break;case 23:x.debug(" deleteAvatarTag not support, by param : "+t);case 24:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryAvatarTagList=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a,u,i;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("queryAvatarTagList start"),e.next=3,v.initPublicDbAtomic.wait();case 3:return e.next=5,h.default.getinstance();case 5:if(r=e.sent,n={},!isNullOrEmpty(t)){e.next=13;break}return e.next=10,r.queryavatartag(O.AVATARTAG_TYPE.AVATARTAG_ALL,"");case 10:n=e.sent,e.next=34;break;case 13:if(!t.hasOwnProperty("all")){e.next=19;break}return e.next=16,r.queryavatartag(O.AVATARTAG_TYPE.AVATARTAG_ALL,"");case 16:n=e.sent,e.next=34;break;case 19:if(!t.hasOwnProperty("id")){e.next=26;break}return x.info("queryAvatarTagList id, value : ",(0,g.isNullOrUndefined)(t.id)),e.next=23,r.queryavatartag(O.AVATARTAG_TYPE.AVATARTAG_ID,t.id.toString());case 23:n=e.sent,e.next=34;break;case 26:if(!t.hasOwnProperty("account")){e.next=33;break}return x.info("queryAvatarTagList account, value : ",(0,g.isNullOrUndefined)(t.account)),e.next=30,r.queryavatartag(O.AVATARTAG_TYPE.AVATARTAG_ACCOUNT,t.account.toString());case 30:n=e.sent,e.next=34;break;case 33:x.error("queryAvatarTagList no support param");case 34:if(!n||!n.param||isNullOrEmpty(n.param._avatartaglist)){e.next=40;break}for(a=new Array,u=0;u<n.param._avatartaglist.length;++u)i=n.param._avatartaglist[u],a[u]={id:i.id,account:i.account,etag_small:i.etag_small,etag_medium:i.etag_medium,etag_large:i.etag_large};return e.abrupt("return",a);case 40:return e.abrupt("return",[]);case 41:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.saveOfficialAccountsDetail=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("saveOfficialAccountsDetail start"),e.next=3,v.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return x.debug("saveOfficialAccountsDetail empty"),e.abrupt("return");case 6:return e.next=8,h.default.getinstance();case 8:return r=e.sent,n=b.convertOfficialAccountsDetail2SQLite(t),e.next=12,r.addofficialaccountsdetail(n);case 12:return a=e.sent,e.abrupt("return",(0,f.default)({},n,{id:a.result}));case 14:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.bulkSaveOfficialAccountsDetail=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a,u,i;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("bulkSaveOfficialAccountsDetail start, arrlen = ",t.length),e.next=3,v.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return x.debug("bulkSaveOfficialAccountsDetail empty"),e.abrupt("return");case 6:return r=50,e.next=9,h.default.getinstance();case 9:n=e.sent,a=t.splitByNum(r),u=0;case 12:if(!(u<a.length)){e.next=19;break}return i=b.convertOfficialAccountsDetailList2SQLite(a[u]),e.next=16,n.addofficialaccountsdetaillist(i);case 16:u++,e.next=12;break;case 19:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.deleteOfficialAccountsDetail=function(){var e=(0,m.default)(d.default.mark(function e(t){var r;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("deleteOfficialAccountsDetail start"),e.next=3,v.initPublicDbAtomic.wait();case 3:return e.next=5,h.default.getinstance();case 5:if(r=e.sent,!t.hasOwnProperty("id")){e.next=12;break}return x.info("deleteOfficialAccountsDetail id, value : ",(0,g.isNullOrUndefined)(t.id)),e.next=10,r.delofficialaccountsdetail(O.OFFICIALACCOUNTSDETAIL_TYPE.OFFICIALACCOUNTSDETAIL_ID,t.id.toString());case 10:e.next=24;break;case 12:if(!t.hasOwnProperty("nodeID")){e.next=18;break}return x.info("deleteOfficialAccountsDetail nodeID, value : ",(0,g.isNullOrUndefined)(t.nodeID)),e.next=16,r.delofficialaccountsdetail(O.OFFICIALACCOUNTSDETAIL_TYPE.OFFICIALACCOUNTSDETAIL_NODEID,t.nodeID.toString());case 16:e.next=24;break;case 18:if(!t.hasOwnProperty("all")){e.next=23;break}return e.next=21,r.delofficialaccountsdetail(O.OFFICIALACCOUNTSDETAIL_TYPE.OFFICIALACCOUNTSDETAIL_ALL,"");case 21:e.next=24;break;case 23:x.debug(" deleteOfficialAccountsDetail not support, by param : "+t);case 24:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryOfficialAccountsDetailList=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("queryOfficialAccountsDetailList start"),e.next=3,v.initPublicDbAtomic.wait();case 3:return e.next=5,h.default.getinstance();case 5:if(r=e.sent,n={},!isNullOrEmpty(t)){e.next=13;break}return e.next=10,r.queryofficialaccountsdetail(O.OFFICIALACCOUNTSDETAIL_TYPE.OFFICIALACCOUNTSDETAIL_ALL,"");case 10:n=e.sent,e.next=34;break;case 13:if(!t.hasOwnProperty("all")){e.next=19;break}return e.next=16,r.queryofficialaccountsdetail(O.OFFICIALACCOUNTSDETAIL_TYPE.OFFICIALACCOUNTSDETAIL_ALL,"");case 16:n=e.sent,e.next=34;break;case 19:if(!t.hasOwnProperty("id")){e.next=26;break}return x.info("queryOfficialAccountsDetailList id, value : ",(0,g.isNullOrUndefined)(t.id)),e.next=23,r.queryofficialaccountsdetail(O.OFFICIALACCOUNTSDETAIL_TYPE.OFFICIALACCOUNTSDETAIL_ID,t.id.toString());case 23:n=e.sent,e.next=34;break;case 26:if(!t.hasOwnProperty("nodeID")){e.next=33;break}return x.info("queryOfficialAccountsDetailList nodeID, value : ",(0,g.isNullOrUndefined)(t.nodeID)),e.next=30,r.queryofficialaccountsdetail(O.OFFICIALACCOUNTSDETAIL_TYPE.OFFICIALACCOUNTSDETAIL_NODEID,t.nodeID.toString());case 30:n=e.sent,e.next=34;break;case 33:x.error("queryAvatarTagList no support param");case 34:if(!n||!n.param||isNullOrEmpty(n.param._officialaccountsdetaillist)){e.next=39;break}return a=b.convertOfficialAccountsDetail2JsList(n.param._officialaccountsdetaillist),e.abrupt("return",a);case 39:return e.abrupt("return",[]);case 40:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.saveCallRecord=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("saveCallRecord start"),e.next=3,v.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return x.debug("saveCallRecord empty"),e.abrupt("return");case 6:return e.next=8,h.default.getinstance();case 8:if(r=e.sent,n=b.convertCallRecord2Data(t),I(n)){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,r.addcallrecord(n);case 14:return a=e.sent,e.abrupt("return",(0,f.default)({},n,{id:a.result}));case 16:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.saveConfRecord=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("saveConfRecord start"),e.next=3,v.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return x.debug("saveConfRecord empty"),e.abrupt("return");case 6:return e.next=8,h.default.getinstance();case 8:if(r=e.sent,n=b.convertConfRecord2Data(t),P(n)){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,r.addcallrecord(n);case 14:return a=e.sent,e.abrupt("return",(0,f.default)({},n,{id:a.result}));case 16:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.bulkPutCallRecord=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a,u,i;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("bulkPutCallRecord start"),e.next=3,v.initPublicDbAtomic.wait();case 3:if(!isNullOrEmpty(t)){e.next=6;break}return x.debug("bulkPutCallRecord empty"),e.abrupt("return");case 6:return r=50,e.next=9,h.default.getinstance();case 9:if(n=e.sent,a=t.splitByNum(r),u=b.convertCallRecordList2Data(a),!(i=u.filter(I))){e.next=16;break}return e.next=16,n.addcallrecordlist(u);case 16:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.delcallrecord=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("delcallrecord start"),e.next=3,v.initPublicDbAtomic.wait();case 3:return x.debug("delcallrecord"),e.next=6,h.default.getinstance();case 6:if(r=e.sent,n=void 0,a=void 0,!t.hasOwnProperty("peeraccount")){e.next=14;break}n=O.CALLRECORD_TYPE.CALLRECORD_PEERACCOUNT,a=t.peeraccount.toString(),e.next=25;break;case 14:if(!t.hasOwnProperty("autoid")){e.next=19;break}n=O.CALLRECORD_TYPE.CALLRECORD_ID,a=t.groupid.toString(),e.next=25;break;case 19:if(!t.hasOwnProperty("confid")){e.next=24;break}n=O.CALLRECORD_TYPE.CALLRECORD_CONFID,a=t.confid.toString(),e.next=25;break;case 24:return e.abrupt("return",[]);case 25:return e.next=27,r.delcallrecord(n,a);case 27:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryCallRecord=function(){var e=(0,m.default)(d.default.mark(function e(t){var r;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.initPublicDbAtomic.wait();case 2:return x.debug("queryCallRecord"),e.next=5,ae(t);case 5:if(r=e.sent,isNullOrEmpty(r)){e.next=11;break}return x.debug("queryCallRecord result"),e.abrupt("return",r[0]);case 11:return e.abrupt("return",{});case 12:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryAllConfRecord=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.initPublicDbAtomic.wait();case 2:return r=(0,f.default)({},t,{allconf:"allconf"}),e.next=5,ae(r);case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryAllCallRecord=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.initPublicDbAtomic.wait();case 2:return r=(0,f.default)({},t,{allcall:"allcall"}),e.next=5,ae(r);case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryCallRecordList=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a,u,i,c;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.info("queryCallRecordList start"),e.next=3,v.initPublicDbAtomic.wait();case 3:return e.next=5,h.default.getinstance();case 5:if(r=e.sent,n=null,a=void 0,u=new Array,!(t.hasOwnProperty("peeraccount")&&t.hasOwnProperty("starttime")&&t.hasOwnProperty("limitcount"))){e.next=17;break}a=O.CALLRECORD_TYPE.CALLRECORD_PEERACCOUNT,u[0]={keytype:a,match_value:t.peeraccount.toString()},u[1]={keytype:O.CALLRECORD_TYPE.CALLRECORD_STARTTIME,match_value:t.starttime.toString()},u[2]={keytype:O.CALLRECORD_TYPE.CALLRECORD_LIMITCOUNT,match_value:t.limitcount.toString()},x.debug("queryCallRecord by peeraccount"),e.next=55;break;case 17:if(!(t.hasOwnProperty("groupid")&&t.hasOwnProperty("starttime")&&t.hasOwnProperty("limitcount"))){e.next=25;break}a=O.CALLRECORD_TYPE.CALLRECORD_GROUPID,u[0]={keytype:a,match_value:t.groupid.toString()},u[1]={keytype:O.CALLRECORD_TYPE.CALLRECORD_STARTTIME,match_value:t.starttime.toString()},u[2]={keytype:O.CALLRECORD_TYPE.CALLRECORD_LIMITCOUNT,match_value:t.limitcount.toString()},x.debug("queryCallRecord by groupid"),e.next=55;break;case 25:if(!(t.hasOwnProperty("confid")&&t.hasOwnProperty("starttime")&&t.hasOwnProperty("limitcount"))){e.next=33;break}a=O.CALLRECORD_TYPE.CALLRECORD_CONFID,u[0]={keytype:a,match_value:t.confid.toString()},u[1]={keytype:O.CALLRECORD_TYPE.CALLRECORD_STARTTIME,match_value:t.starttime.toString()},u[2]={keytype:O.CALLRECORD_TYPE.CALLRECORD_LIMITCOUNT,match_value:t.limitcount.toString()},x.debug("queryCallRecord by confid"),e.next=55;break;case 33:if(!(t.hasOwnProperty("allconf")&&t.hasOwnProperty("starttime")&&t.hasOwnProperty("limitcount"))){e.next=40;break}a=O.CALLRECORD_TYPE.CALLRECORD_ALLCONF,u[0]={keytype:O.CALLRECORD_TYPE.CALLRECORD_STARTTIME,match_value:t.starttime.toString()},u[1]={keytype:O.CALLRECORD_TYPE.CALLRECORD_LIMITCOUNT,match_value:t.limitcount.toString()},x.debug("queryCallRecord  allconf"),e.next=55;break;case 40:if(!(t.hasOwnProperty("allcall")&&t.hasOwnProperty("starttime")&&t.hasOwnProperty("limitcount"))){e.next=47;break}a=O.CALLRECORD_TYPE.CALLRECORD_ALLCALL,u[0]={keytype:O.CALLRECORD_TYPE.CALLRECORD_STARTTIME,match_value:t.starttime.toString()},u[1]={keytype:O.CALLRECORD_TYPE.CALLRECORD_LIMITCOUNT,match_value:t.limitcount.toString()},x.debug("queryCallRecord  allcall"),e.next=55;break;case 47:if(!t.hasOwnProperty("starttime")||!t.hasOwnProperty("limitcount")){e.next=54;break}a=O.CALLRECORD_TYPE.CALLRECORD_ALL,u[0]={keytype:O.CALLRECORD_TYPE.CALLRECORD_STARTTIME,match_value:t.starttime.toString()},u[1]={keytype:O.CALLRECORD_TYPE.CALLRECORD_LIMITCOUNT,match_value:t.limitcount.toString()},x.debug("queryCallRecord  all"),e.next=55;break;case 54:return e.abrupt("return",[]);case 55:if(!(u.length>0)){e.next=61;break}return x.info("queryCallRecordList, operationtype : ",(0,g.isNullOrUndefined)(a)," ,datalist.length : ",(0,g.isNullOrUndefined)(u.length)),u.forEach(function(e){x.info("value : ",(0,g.isNullOrUndefined)(e.match_value))}),e.next=60,r.querycallrecord(a,u,u.length);case 60:n=e.sent;case 61:if(!n||!n.param||null===n.param._callrecordlist){e.next=68;break}return i=n.param._callrecordlist,c=b.convertCallRecord2JsList(i),x.debug("queryCallRecord  all",c),e.abrupt("return",c);case 68:return e.abrupt("return",[]);case 69:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()),ue=t.queryDiscSerialNumber=function(){var e=(0,m.default)(d.default.mark(function e(){var t,r;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.initPublicDbAtomic.wait();case 2:return e.next=4,h.default.getinstance();case 4:return t=e.sent,e.next=7,t.querydiscnumber();case 7:return r=e.sent,e.abrupt("return",r.param.discserialnumber);case 9:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}();t.examineEncryptFile=function(){var e=(0,m.default)(d.default.mark(function e(t){var r;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.initPublicDbAtomic.wait();case 2:return e.next=4,h.default.getinstance();case 4:return r=e.sent,e.next=7,r.examineEncryptFile();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.queryDBKeySalt=function(){var e=(0,m.default)(d.default.mark(function e(){var t,r;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.default.getinstance();case 2:return t=e.sent,e.next=5,t.getdbsaltkey();case 5:return r=e.sent,e.abrupt("return",r.param.secvalue);case 7:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.initDBPath=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.default.getinstance();case 2:return r=e.sent,e.next=5,r.initdbpath(t,a);case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.saveDBKeySalt=function(){var e=(0,m.default)(d.default.mark(function e(t,r,n){var a,u;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.default.getinstance();case 2:return a=e.sent,e.next=5,a.setdbsaltkey(t,r,n);case 5:u=e.sent;case 6:case"end":return e.stop()}},e,void 0)}));return function(t,r,n){return e.apply(this,arguments)}}(),t.initSQLitePublicDB=function(){var e=(0,m.default)(d.default.mark(function e(t){var r,n;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(x.info("initSQLitePublicDB, syspath : "+t),!window.CLIENTCONFIG.IS_LINK_IT_SMC_MEETING){e.next=4;break}return x.info("has initSQLitePublicDB"),e.abrupt("return","");case 4:return e.next=6,h.default.getinstance();case 6:return r=e.sent,e.next=9,r.init(t,"public");case 9:return n=e.sent,x.info("initSQLitePublicDB Success"),e.abrupt("return",n);case 12:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()}});