webpackJsonp([26],{114:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.HwHttpSdk=void 0;var a=r(135),u=n(a),o=r(4),s=n(o),i=r(1908);e.HwHttpSdk=function t(){(0,s.default)(this,t),(0,u.default)(this,(0,i.getHttpApiList)())}},131:function(t,e,r){t.exports={default:r(151),__esModule:!0}},132:function(t,e,r){t.exports=r(0)(45)},133:function(t,e,r){t.exports=r(0)(47)},135:function(t,e,r){t.exports=r(0)(562)},141:function(t,e,r){t.exports=r(0)(238)},146:function(t,e,r){var n=r(10),a=r(8),u=r(148);t.exports=function(t,e){var r=(a.Object||{})[t]||Object[t],o={};o[t]=e(r),n(n.S+n.F*u(function(){r(1)}),"Object",o)}},147:function(t,e,r){t.exports={default:r(178),__esModule:!0}},148:function(t,e,r){t.exports=r(0)(59)},151:function(t,e,r){r(152),t.exports=r(8).Object.getPrototypeOf},152:function(t,e,r){var n=r(141),a=r(153);r(146)("getPrototypeOf",function(){return function(t){return a(n(t))}})},153:function(t,e,r){t.exports=r(0)(585)},164:function(t,e,r){t.exports=r(0)(80)},178:function(t,e,r){r(179),t.exports=r(8).Object.keys},179:function(t,e,r){var n=r(141),a=r(164);r(146)("keys",function(){return function(t){return a(n(t))}})},1908:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.getHttpApiList=void 0;var a=r(1),u=n(a),o=r(2),s=n(o),i=r(131),p=n(i),c=r(4),l=n(c),f=r(132),d=n(f),h=r(133),_=n(h),y=r(1909),m=n(y),v=r(1910),x=n(v),w=coreLogger.getLogger("logic")("HttpImpl"),g=function(t){function e(){var t=this;(0,l.default)(this,e);var r=(0,d.default)(this,(e.__proto__||(0,p.default)(e)).call(this));return r.initHttpTrans=(0,s.default)(u.default.mark(function e(){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",r._getTupHttpInstance().then(function(t){return t.setNotifyFunc(1376289,r._resultNotify),t.setNotifyFunc(1376290,r._progressNotify),coreCommon.ATOMIC_ACTION_RESULT.SUCCESS}));case 1:case"end":return t.stop()}},e,t)})),r.initHttpAtomic=new coreCommon.AtomicAction("initHttpAtomic",r.initHttpTrans),r.sendSyncRequest=function(){var e=(0,s.default)(u.default.mark(function e(n){var a,o,s,i=n.url,p=n.type,c=n.header,l=void 0===c?{}:c,f=n.body,d=void 0===f?"":f,h=n.filePath,_=void 0===h?"":h,y=n.cipherlist,m=void 0===y?[]:y;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.initHttpAtomic.wait();case 2:return t.next=4,r._getTupHttpInstance();case 4:return a=t.sent,t.next=7,r._getProxyInfo();case 7:return o=t.sent,t.next=10,r._getTlsInfo();case 10:return s=t.sent,t.abrupt("return",a.sendSyncRequest({url:i,type:p,header:l,body:d,filePath:_,proxyInfo:o,tlsParam:s,cipherlist:m}));case 12:case"end":return t.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}(),r.sendAsyncRequest=function(){var e=(0,s.default)(u.default.mark(function e(n){var a,o,s,i,p=n.url,c=n.type,l=n.header,f=void 0===l?{}:l,d=n.body,h=void 0===d?"":d,_=n.filePath,y=void 0===_?"":_,m=n.cipherlist,v=void 0===m?[]:m,x=n.resultCallback;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.initHttpAtomic.wait();case 2:return t.next=4,r._getTupHttpInstance();case 4:return a=t.sent,t.next=7,r._getProxyInfo();case 7:return o=t.sent,t.next=10,r._getTlsInfo();case 10:return s=t.sent,t.next=13,a.sendAsyncRequest({url:p,type:c,header:f,body:h,filePath:y,proxyInfo:o,tlsParam:s,cipherlist:v});case 13:return i=t.sent,i&&0===i.result&&i.handle?x&&(r.resultMap[i.handle]=x):w.info("sendAsyncRequest interface failed: "+i.result),t.abrupt("return",i);case 16:case"end":return t.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}(),r.downloadFile=function(){var e=(0,s.default)(u.default.mark(function e(n){var a,o,s=n.params,i=n.progressCallback,p=n.resultCallback;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.initHttpAtomic.wait();case 2:return t.next=4,r._getTupHttpInstance();case 4:return a=t.sent,t.next=7,r._getProxyInfo();case 7:return s.proxyInfo=t.sent,t.next=10,a.httpDownloadFile(s);case 10:return o=t.sent,o&&0===o.result&&o.param&&o.param.handle?(i&&(r.progressMap[o.param.handle]=i),p&&(r.resultMap[o.param.handle]=p)):w.info("httpDownloadFile interface failed: "+o.result),t.abrupt("return",o);case 13:case"end":return t.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}(),r.uploadFile=function(){var e=(0,s.default)(u.default.mark(function e(n){var a,o,s=n.params,i=n.useProxy,p=void 0===i||i,c=n.progressCallback,l=n.resultCallback;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.initHttpAtomic.wait();case 2:return t.next=4,r._getTupHttpInstance();case 4:return a=t.sent,t.next=7,r._getProxyInfo(p);case 7:return s.proxyInfo=t.sent,t.next=10,a.httpUploadFile(s);case 10:return o=t.sent,o&&0===o.result&&o.handle?(c&&(r.progressMap[o.handle]=c),l&&(r.resultMap[o.handle]=l)):w.info("httpUploadFile interface failed: "+o.result),t.abrupt("return",o);case 13:case"end":return t.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}(),r.stopMission=function(){var e=(0,s.default)(u.default.mark(function e(n){var a,o;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.initHttpAtomic.wait();case 2:return a=n.handle,w.info("stopMission ",a),delete r.progressMap[a],delete r.resultMap[a],t.next=8,r._getTupHttpInstance();case 8:return o=t.sent,t.abrupt("return",o.httpReleaseHandle(a));case 10:case"end":return t.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}(),r._getProxyInfo=function(){var e=(0,s.default)(u.default.mark(function e(){var r,n,a,o,s,i,p,c=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,coreAccount.getLoginModel();case 2:return r=t.sent,n=r.proxyAddress,a=r.proxyPort,o=r.proxyAccount,s=r.isSupportProxy,t.next=9,coreSecurity.getPasswordManager();case 9:return i=t.sent,t.next=12,i.getPassword("proxyPassword");case 12:return p=t.sent,s&&0!==parseInt(c)||(n="",a="0",o="",p=""),t.abrupt("return",{proxyAddress:n,proxyPort:a,proxyAccount:o,proxyPassword:p});case 15:case"end":return t.stop()}},e,t)}));return function(){return e.apply(this,arguments)}}(),r._getTlsInfo=(0,s.default)(u.default.mark(function e(){var r,n;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,coreAccount.getLoginModel();case 2:return r=t.sent,n=r.isSupportCACertCheck,t.abrupt("return",{caCertPath:window.EXEC_PATH,tlsMode:n?1:0});case 5:case"end":return t.stop()}},e,t)})),r._getTupHttpInstance=(0,s.default)(u.default.mark(function e(){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return!coreCommon.isMac()&&r.tupHttpInstance||(r.tupHttpInstance=new x.default),t.abrupt("return",r.tupHttpInstance);case 2:case"end":return t.stop()}},e,t)})),r._resultNotify=function(t){var e=t&&t.param&&t.param.handle;if(e){var n=r.resultMap[e];n&&n(t),delete r.progressMap[e],delete r.resultMap[e]}},r._progressNotify=function(t){var e=t&&t.param&&t.param.handle;if(e){var n=r.progressMap[e];n&&n(t)}},r.progressMap={},r.resultMap={},r}return(0,_.default)(e,t),e}(m.default),P=void 0;e.getHttpApiList=function(){return isNullOrEmpty(P)&&(P=new g),P.getApiList()}},1909:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(1),u=n(a),o=r(2),s=n(o),i=r(131),p=n(i),c=r(4),l=n(c),f=r(132),d=n(f),h=r(133),_=n(h),y=function(t){function e(){var t,r,n,a,o=this;(0,l.default)(this,e);for(var i=arguments.length,c=Array(i),f=0;f<i;f++)c[f]=arguments[f];return r=n=(0,d.default)(this,(t=e.__proto__||(0,p.default)(e)).call.apply(t,[this].concat(c))),n.initHttpTrans=(0,s.default)(u.default.mark(function t(){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,o)})),n.sendSyncRequest=function(){var t=(0,s.default)(u.default.mark(function t(e){e.url,e.type,e.header,e.body,e.filePath,e.cipherlist;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,o)}));return function(e){return t.apply(this,arguments)}}(),n.sendAsyncRequest=function(){var t=(0,s.default)(u.default.mark(function t(e){e.url,e.type,e.header,e.body,e.filePath,e.cipherlist,e.resultCallback;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,o)}));return function(e){return t.apply(this,arguments)}}(),n.downloadFile=function(){var t=(0,s.default)(u.default.mark(function t(e){e.params,e.progressCallback,e.resultCallback;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,o)}));return function(e){return t.apply(this,arguments)}}(),n.uploadFile=function(){var t=(0,s.default)(u.default.mark(function t(e){e.params,e.useProxy,e.progressCallback,e.resultCallback;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,o)}));return function(e){return t.apply(this,arguments)}}(),n.stopMission=function(){var t=(0,s.default)(u.default.mark(function t(e){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,o)}));return function(e){return t.apply(this,arguments)}}(),a=r,(0,d.default)(n,a)}return(0,_.default)(e,t),e}(coreCommon.Interface);e.default=y},1910:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(147),u=n(a),o=r(69),s=n(o),i=r(1),p=n(i),c=r(135),l=n(c),f=r(2),d=n(f),h=r(3),_=n(h),y=r(4),m=n(y),v=r(5),x=n(v),w=coreLogger.getLogger("tup")("httptrans"),g=coreCommon.getTupProtocolClass(),P=null,k=function(){function t(e){var r=this;return(0,m.default)(this,t),new _.default(function(){var t=(0,d.default)(p.default.mark(function t(n,a){var u;return p.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u={key:constant.TupModuleKey.httptrans,moduleName:"tup_httptrans_service_protocol",webSocketUri:""},(0,l.default)(u,e),t.next=4,new g(u);case 4:r.tupProtocol=t.sent,n(r);case 6:case"end":return t.stop()}},t,r)}));return function(e,r){return t.apply(this,arguments)}}())}return(0,x.default)(t,null,[{key:"getinstance",value:function(){return!coreCommon.isMac()&&P||(P=new t),P}}]),(0,x.default)(t,[{key:"sendMessage",value:function(t){var e=this,r=Sno();return(0,l.default)(t,{sno:r}),new _.default(function(r,n){var a={resolve:r,data:t,timeoutTime:3e4};e.tupProtocol.setRspFuncsAndSendMessage(a)})}},{key:"setNotifyFunc",value:function(t,e){this.tupProtocol.setNotifyFunc(t,e)}},{key:"httpReleaseHandle",value:function(t){w.info("start tup_http_release_handle");var e={description:"tup_http_release_handle",cmd:1376261,param:{handle:t}};return this.sendMessage(e)}},{key:"httpForceUninit",value:function(t){w.info("start tup_http_forced_uninit");var e={description:"tup_http_forced_uninit",cmd:1376264};return this.sendMessage(e)}},{key:"httpUploadFile",value:function(t){var e=t.url,r=t.username,n=void 0===r?"":r,a=t.password,u=void 0===a?"":a,o=t.header,i=void 0===o?{}:o,p=t.tlsParam,c=void 0===p?{}:p,l=t.filePath,f=t.content,d=t.proxyInfo,h=t.auth_mode,_=void 0===h?0:h,y=t.req_type,m=void 0===y?0:y,v=t.is_cwmp,x=void 0===v?0:v;w.info("start tup_http_upload_file");var g={description:"tup_http_upload_file",cmd:1376260,param:{url:e,header:i,req_type:m,config_param:{proxy_param:{ip:d.proxyAddress,port:parseInt(d.proxyPort),auth_info:{username:d.proxyAccount,password:d.proxyPassword}},tcp_timeout:30,req_timeout:100},file_path:l}};isNullOrEmpty(c)||(g.param.tls_param=c),1===_&&(g.param.auth_info={mode:_,username:n,password:u},x&&(g.param.mult_part={key:"Account",content:(0,s.default)(f)}));var P=$getState().myInfo.account;return-1!==l.indexOf(P)&&(l=l.replace(P,"***")),w.info("tup_http_upload_file_params, url=",e),w.info("tup_http_upload_file_params, filePath=",l),this.sendMessage(g)}},{key:"sendSyncRequest",value:function(t){var e=t.url,r=t.type,n=t.body,a=t.filePath,u=t.header,o=void 0===u?{}:u,s=t.proxyInfo,i=t.tlsParam,p=t.cipherlist;return this.sendRequest({url:e,type:r,body:n,file_path:a,header:o,proxyInfo:s,tlsParam:i,cipherlist:p,sync:!0})}},{key:"sendAsyncRequest",value:function(t){var e=t.url,r=t.type,n=t.body,a=t.filePath,u=t.header,o=void 0===u?{}:u,s=t.proxyInfo,i=t.tlsParam,p=t.cipherlist;return this.sendRequest({url:e,type:r,body:n,file_path:a,header:o,proxyInfo:s,tlsParam:i,cipherlist:p,sync:!1})}},{key:"sendRequest",value:function(t){var e=t.url,r=t.type,n=t.file_path,a=t.body,o=t.header,s=void 0===o?{}:o,i=t.proxyInfo,p=t.tlsParam,c=t.cipherlist,l=t.sync,f=void 0!==l&&l,d={description:f?"tup_http_syn_send":"tup_http_asyn_send",cmd:f?1376263:1376259,param:{req_param:{url:e,type:r,body:a,header:(0,u.default)(s).map(function(t){return{name:t,value:s[t]}}),auth_info:{mode:0,username:"",password:""}},config_param:{proxy_param:{ip:i.proxyAddress,port:parseInt(i.proxyPort)||0,auth_info:{username:i.proxyAccount,password:i.proxyPassword}},tls_param:{ca_cert_path:p.caCertPath,client_cert_path:"",client_key_path:"",tls_mode:p.tlsMode,vertfy_server_mode:0},cipherlist:c,tcp_timeout:5,req_timeout:30}}};return n&&(d.param.req_param.file_path=n),this.sendMessage(d)}},{key:"httpDownloadFile",value:function(t){var e=t.url,r=t.filePath,n=t.body,a=t.header,o=t.auth_mode,s=void 0===o?1:o,i=t.userName,p=t.password,c=t.proxyInfo;w.info("start tup_http_download_file");var l={description:"tup_http_download_file",cmd:1376265,param:{url:e,body:n,header:(0,u.default)(a).map(function(t){return{name:t,value:a[t]}}),config_param:{proxy_param:{ip:c.proxyAddress,port:parseInt(c.proxyPort),auth_info:{username:c.proxyAccount,password:c.proxyPassword}},tls_param:{ca_cert_path:"",client_cert_path:"",client_key_path:"",tls_mode:0,vertfy_server_mode:0},cipherlist:[50331695,50331701,50331708,50331709],tcp_timeout:5,req_timeout:5},keep_download:2,file_path:r}};return 1===s&&(l.param.auth_info={mode:s,username:i,password:p}),this.sendMessage(l)}}]),t}();e.default=k},69:function(t,e,r){t.exports={default:r(70),__esModule:!0}},70:function(t,e,r){var n=r(8),a=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(t){return a.stringify.apply(a,arguments)}}});