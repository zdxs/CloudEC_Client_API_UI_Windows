webpackJsonp([25],{120:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HwTupSdk=void 0;var r=n(1),i=a(r),o=n(2),s=a(o),c=n(4),u=a(c),d=n(2149),_=a(d),p=n(2150),l=a(p),f=n(2151),m=a(f),v=n(2156),g=a(v),h=n(2157),y=a(h),k=n(2158),M=a(k),w=n(2159),S=a(w),C=n(2160),T=a(C),I=n(2161),b=a(I),N=n(2162),A=a(N),E=n(2163),P=a(E),x=n(2164),D=a(x);t.HwTupSdk=function e(){var t=this;(0,u.default)(this,e),this.getEUAInstance=(0,s.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!coreCommon.isMac()&&t.euaInstance){e.next=4;break}return e.next=3,new _.default;case 3:t.euaInstance=e.sent;case 4:return e.abrupt("return",t.euaInstance);case 5:case"end":return e.stop()}},e,t)})),this.getNativeWindowInstance=(0,s.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!coreCommon.isMac()&&t.nativeWndInstance){e.next=4;break}return e.next=3,new l.default;case 3:t.nativeWndInstance=e.sent;case 4:return e.abrupt("return",t.nativeWndInstance);case 5:case"end":return e.stop()}},e,t)})),this.getCallInstance=(0,s.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!coreCommon.isMac()&&t.callInstance){e.next=4;break}return e.next=3,new m.default;case 3:t.callInstance=e.sent;case 4:return e.abrupt("return",t.callInstance);case 5:case"end":return e.stop()}},e,t)})),this.getCmptInstance=(0,s.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!coreCommon.isMac()&&t.cmptInstance){e.next=4;break}return e.next=3,new g.default;case 3:t.cmptInstance=e.sent;case 4:return e.abrupt("return",t.cmptInstance);case 5:case"end":return e.stop()}},e,t)})),this.getConfCtrlInstance=(0,s.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!coreCommon.isMac()&&t.confCtrlInstance){e.next=4;break}return e.next=3,new y.default;case 3:t.confCtrlInstance=e.sent;case 4:return e.abrupt("return",t.confCtrlInstance);case 5:case"end":return e.stop()}},e,t)})),this.getCtdInstance=(0,s.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!coreCommon.isMac()&&t.ctdInstance){e.next=4;break}return e.next=3,new M.default;case 3:t.ctdInstance=e.sent;case 4:return e.abrupt("return",t.ctdInstance);case 5:case"end":return e.stop()}},e,t)})),this.getdataConfInstance=(0,s.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!coreCommon.isMac()&&t.dataConfInstance){e.next=4;break}return e.next=3,new S.default;case 3:t.dataConfInstance=e.sent;case 4:return e.abrupt("return",t.dataConfInstance);case 5:case"end":return e.stop()}},e,t)})),this.getIMInstance=(0,s.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!coreCommon.isMac()&&t.imInstance){e.next=4;break}return e.next=3,new T.default;case 3:t.imInstance=e.sent;case 4:return e.abrupt("return",t.imInstance);case 5:case"end":return e.stop()}},e,t)})),this.getOfflineFileInstance=(0,s.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!coreCommon.isMac()&&t.offlineFileInstance){e.next=4;break}return e.next=3,new b.default;case 3:t.offlineFileInstance=e.sent;case 4:return e.abrupt("return",t.offlineFileInstance);case 5:case"end":return e.stop()}},e,t)})),this.getToolInstance=(0,s.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!coreCommon.isMac()&&t.toolInstance){e.next=4;break}return e.next=3,new A.default;case 3:t.toolInstance=e.sent;case 4:return e.abrupt("return",t.toolInstance);case 5:case"end":return e.stop()}},e,t)})),this.getUportalInstance=(0,s.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!coreCommon.isMac()&&t.uportalInstance){e.next=6;break}return e.next=3,new P.default;case 3:return t.uportalInstance=e.sent,e.next=6,t.uportalInstance.uPortalErrorHandleCallBack();case 6:return e.abrupt("return",t.uportalInstance);case 7:case"end":return e.stop()}},e,t)})),this.getDnsInstance=(0,s.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!coreCommon.isMac()&&t.dnsInstance){e.next=4;break}return e.next=3,new D.default;case 3:t.dnsInstance=e.sent;case 4:return e.abrupt("return",t.dnsInstance);case 5:case"end":return e.stop()}},e,t)}))}},135:function(e,t,n){e.exports=n(0)(562)},2149:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return[196610,196611,196619,196620].includes(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(1),o=a(i),s=n(135),c=a(s),u=n(2),d=a(u),_=n(3),p=a(_),l=n(4),f=a(l),m=n(5),v=a(m),g=coreLogger.getLogger("tup")("eaddr"),h=coreCommon.getTupProtocolClass(),y=function(){function e(t){var n=this;return(0,f.default)(this,e),new p.default(function(){var e=(0,d.default)(o.default.mark(function e(a,r){var i;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i={key:constant.TupModuleKey.eadd4,moduleName:"tup_eaddr_service_protocol",webSocketUri:""},(0,c.default)(i,t),e.next=4,new h(i);case 4:n.tupProtocol=e.sent,a(n);case 6:case"end":return e.stop()}},e,n)}));return function(t,n){return e.apply(this,arguments)}}())}return(0,v.default)(e,[{key:"sendMessage",value:function(e){var t=this;return new p.default(function(n,a){var i=Sno();r(e.cmd)&&(e.param.SeqNo=i),g.debug("sendMessage",e);var o={resolve:n,data:e,timeoutTime:2e4};t.tupProtocol.setRspFuncsAndSendMessage(o)})}},{key:"eaddrConfig",value:function(e){window.log("start eaddr config");var t={cmd:196609,description:"tup_support_eaddr_Config",param:e};return this.sendMessage(t)}},{key:"eaddrSearchAvatar",value:function(e){var t={cmd:196611,description:"tup_support_eaddr_SearchAvatar",param:e};return this.sendMessage(t)}},{key:"eaddrSearchAvatarList",value:function(e){var t={cmd:196620,description:"tup_eaddr_search_avatars",param:e};return this.sendMessage(t)}},{key:"eaddrSetAvatar",value:function(e){var t={cmd:196613,description:"tup_eaddr_set_icon",param:e};return this.sendMessage(t)}},{key:"eaddrSearchInfo",value:function(e){
//! 返回值做过字段名转换
var t={cmd:196610,description:"tup_support_eaddr_SearchInfo",param:e};return this.sendMessage(t)}},{key:"eaddrSearchUserList",value:function(e){g.info("search user list from eaddr");var t={cmd:196619,description:"tup_eaddr_search_users",param:e};return this.sendMessage(t)}},{key:"setEaddrBaseEvent",value:function(e){e&&"function"==typeof e.upLoadAvatarAck&&this.tupProtocol.setNotifyFunc(196613,e.upLoadAvatarAck),e&&"function"==typeof e.searchAvatarListAck&&this.tupProtocol.setNotifyFunc(196616,e.searchAvatarListAck)}},{key:"setNotifies",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t in e)if(e.hasOwnProperty(t)){var n=e[t],a={key:t,callback:n};this.tupProtocol.addCallBack(a)}}}]),e}();t.default=y},2150:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(69),i=a(r),o=n(1),s=a(o),c=n(135),u=a(c),d=n(2),_=a(d),p=n(3),l=a(p),f=n(4),m=a(f),v=n(5),g=a(v),h=coreLogger.getLogger("service")("hwNativeWndSdk"),y=coreCommon.getTupProtocolClass(),k={INIT:3,UNINIT:4,CREATE_WINDOW:5,DESTROY_WINDOW:6,SET_WINDOW_TEXT:7,HIGHTLIGHT_WINDOW:8,UPDATA_WINDOW:9,SET_LAYOUT_MODE:10,SET_PAGE_NUM:12,GET_FRAME_HWND:13,CREATE_DATAFRAME_HWND:14,CLOSE_DATAFRAME_HWND:15,HIGHTLIGHT_SHAREWND:16,GET_DATAFRAME_HWND:17,SET_LOGPATH:18,SET_REMOTE_CONTROL_STATUS:19,CHANGE_LANGCODE:20,GET_HWND_RECT:21,DATA_SET_SHOWRECT:22,DESTROY_NATIVE_WIN:23,SHOW_MESSAGE_BOX:24,SET_AVAILABLE_LAYOUT:25,SET_PARAM:26,REPORT_CHAIRMAN_STU:27,REPORT_QOS:28,DATA_SHOW_DATACONTROL:29,DATA_SHOW_REMOTECONTROL:30,LEAVE_CONF:31,GET_TRANSPARENT_WND:32,DATA_SET_INITSHOW_RECT:33,GET_WINDOW_ICON:34,CHANGE_AUDIENT_STATUS:35,CHANGE_ACTIVE_BIDIRECTION_STATUS:36,CHANGE_PASSIVE_BIDIRECTION_STATUS:37,DATA_SET_PARAM:38,GET_WINDOW_FONTS:39,GET_SYSTEM_INFO:40,DATA_RECV_FIRST_FRAME:41,DATA_CONTROL_WHITEBOARD:42,UPDATE_COMPONENT_STATUS:43,SET_DS_CURRENT_PAGE:44,GET_NET_INFO:45,INIT_TIMER:46,CUSTOM_MENU:47,SHOW_SHARE_SELECT_WND:48},M=function(){function e(t){var n=this;return(0,m.default)(this,e),new l.default(function(){var e=(0,_.default)(s.default.mark(function e(a,r){var i;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i={key:constant.TupModuleKey.Native,moduleName:"tup_plugin_service_protocol",webSocketUri:"/nativewnd_plugin"},(0,u.default)(i,t),e.next=4,new y(i);case 4:n.tupProtocol=e.sent,a(n);case 6:case"end":return e.stop()}},e,n)}));return function(t,n){return e.apply(this,arguments)}}())}return(0,g.default)(e,[{key:"sendMessage",value:function(e){var t=this;if(window.CLIENTCONFIG.ISBIGWIN||window.CLIENTCONFIG.ISWIN){var n=Sno();return(0,u.default)(e,{sno:n}),new l.default(function(n){var a={resolve:n,data:e};t.tupProtocol.setRspFuncsAndSendMessage(a)})}}},{key:"setNotifyFunc",value:function(e,t){this.tupProtocol.setNotifyFunc(e,t)}},{key:"initNativeScreen",value:function(e,t,n,a,r,o,s){h.info("tup_native_init");var c={description:"tup_native_init",cmd:k.INIT,param:{browserHwnd:win.getNativeWindowHandle().readUInt32LE(0),layout:e,version:t,langCode:n,isMaxHub:a,isbfcp:r,appName:o,sipLoginOnly:s}};return h.info("tup_native_init, data = "+(0,i.default)(c)),this.sendMessage(c)}},{key:"uninitNativeScreen",value:function(e,t){h.info("tup_native_uninit");var n={description:"tup_native_uninit",cmd:k.UNINIT,param:{frameHwnd:e,isbfcp:t}};return h.info("tup_native_uninit,data = "+(0,i.default)(n)),this.sendMessage(n)}},{key:"initTimer",value:function(e,t){h.info("tup_native_inittimer");var n={description:"tup_native_inittimer",cmd:k.INIT_TIMER,param:{isStartTimer:e,timeInterval:t}};return h.info("tup_native_inittimer,data = "+(0,i.default)(n)),this.sendMessage(n)}},{key:"createWindows",value:function(e,t,n,a){h.info("tup_native_create_window");var r={description:"tup_native_create_window",cmd:k.CREATE_WINDOW,param:{frameHwnd:e,count:t,insertBeforeHwnd:n,propList:a}};return h.info("tup_native_create_window,data = "+(0,i.default)(r)),this.sendMessage(r)}},{key:"destoryWindows",value:function(e,t){h.info("tup_native_destroy_window");var n={description:"tup_native_destroy_window",cmd:k.DESTROY_WINDOW,param:{frameHwnd:e,hwndList:t}};return h.info("tup_native_destroy_window, data = "+(0,i.default)(n)),this.sendMessage(n)}},{key:"setWindowsName",value:function(e,t){h.info("tup_native_set_window_text");var n={description:"tup_native_set_window_text",cmd:k.SET_WINDOW_TEXT,param:{frameHwnd:e,confInfo:t}};return this.sendMessage(n)}},{key:"setWindowHighlight",value:function(e,t){h.info("tup_native_highlight_window");var n={description:"tup_native_highlight_window",cmd:k.HIGHTLIGHT_WINDOW,param:{frameHwnd:e,hwnd:t}};return h.info("tup_native_highlight_window, data = "+(0,i.default)(n)),this.sendMessage(n)}},{key:"updateWindows",value:function(e,t,n){var a={description:"tup_native_update_window_pos",cmd:k.UPDATA_WINDOW,param:{frameHwnd:e,deleteHwnd:t,create:n}};return h.info("tup_native_update_window_pos,data = "+(0,i.default)(a)),this.sendMessage(a)}},{key:"setViewMode",value:function(e,t){var n={description:"tup_native_set_layout_mode",cmd:k.SET_LAYOUT_MODE,param:{frameHwnd:e,layout:t}};return h.info("tup_native_set_layout_mode,data = "+(0,i.default)(n)),this.sendMessage(n)}},{key:"setPageNum",value:function(e,t,n){var a={description:"tup_native_set_page_num",cmd:k.SET_PAGE_NUM,param:{frameHwnd:e,pos:t,count:n}};return h.info("tup_native_set_page_num,data = "+(0,i.default)(a)),this.sendMessage(a)}},{key:"getFrameHwnd",value:function(){h.info("tup_native_get_frame_hwnd");var e={cmd:k.GET_FRAME_HWND,description:"tup_native_get_frame_hwnd",param:{}};return h.info("tup_native_get_frame_hwnd, data = "+(0,i.default)(e)),this.sendMessage(e)}},{key:"createDataConfFrameWnd",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],n=arguments[2],a=arguments[3],r=arguments[4],i=arguments[5],o=arguments[6],s=arguments[7],c=arguments[8],u=arguments[9],d=arguments[10],_=arguments[11],p=arguments[12],l=arguments[13],f=arguments[14],m=arguments[15],v=arguments[16],g=arguments[17],y=arguments[18],M=arguments[19],w=arguments[20],S=arguments[21],C=arguments[22];h.info("[BOM]tup_native_create_dataframe start isAnnoForbidden = "+w+", isControlForbidden = "+S+", isShowShareNameTips = "+C);var T={cmd:k.CREATE_DATAFRAME_HWND,description:"tup_native_create_dataframe",param:{browserHwnd:win.getNativeWindowHandle().readUInt32LE(0),conf_title:e,conf_id:t,memCount:n,conf_handle:a,shareOwnerName:r,originWidth:i,originHeight:o,isChairman:s,langCode:c,isBigWin:u,deviceList:d,general_pwd:_,userid:p,selfAccount:l,componentid:f,docid:m,pageid:v,isDsSender:g,isAppShare:y,appName:M,isAnnoForbidden:w,isControlForbidden:S,isShowShareNameTips:C}};return this.sendMessage(T)}},{key:"DestroyDataConfFrameWnd",value:function(){h.info("tup_native_close_dataframe_wnd");var e={cmd:k.CLOSE_DATAFRAME_HWND,description:"tup_native_close_dataframe_wnd",param:{}};return h.info("tup_native_close_dataframe_wnd, data = "+(0,i.default)(e)),this.sendMessage(e)}},{key:"setHightlightShareWnd",value:function(e,t){var n={cmd:k.HIGHTLIGHT_SHAREWND,description:"tup_native_data_highlight_sharedwnd",param:{hwnd:e,show:t}};return h.info("tup_native_data_highlight_sharedwnd, data = "+(0,i.default)(n)),this.sendMessage(n)}},{key:"getTransparentWindow",value:function(e){h.info("tup_native_get_transparent_window");var t={cmd:k.GET_TRANSPARENT_WND,description:"tup_native_get_transparent_window",param:{hwnd:e}};return h.info("tup_native_get_transparent_window, data = "+(0,i.default)(t)),this.sendMessage(t)}},{key:"getDataConfFrameWnd",value:function(){h.info("tup_native_data_get_framewnd");var e={cmd:k.GET_DATAFRAME_HWND,description:"tup_native_data_get_framewnd",param:{}};return h.info("tup_native_data_get_framewnd, data = "+(0,i.default)(e)),this.sendMessage(e)}},{key:"setDataConfRemoteControlStatus",value:function(e){h.info("tup_native_data_set_remotecontrol_status");var t={cmd:k.SET_REMOTE_CONTROL_STATUS,description:"tup_native_data_set_remotecontrol_status",param:{status:e}};return h.info("tup_native_data_set_remotecontrol_status, data = "+(0,i.default)(t)),this.sendMessage(t)}},{key:"setDataConfParams",value:function(e){var t={cmd:k.DATA_SET_PARAM,description:"tup_native_dataconf_set_param",param:e};return h.info("tup_native_dataconf_set_param,data = "),this.sendMessage(t)}},{key:"setAvailableLayout",value:function(e,t,n){var a={cmd:k.SET_AVAILABLE_LAYOUT,description:"tup_native_set_available_layout",param:{frameHwnd:e,count:t,layouts:n}};return h.info("tup_native_set_available_layout,data = "+(0,i.default)(a)),this.sendMessage(a)}},{key:"reportChairmanStu",value:function(e){h.info("tup_native_video_report_chairman_stu");var t={cmd:k.REPORT_CHAIRMAN_STU,description:"tup_native_video_report_chairman_stu",param:e};return this.sendMessage(t)}},{key:"setParam",value:function(e){var t={cmd:k.SET_PARAM,description:"tup_native_video_set_param",param:e};return h.info("tup_native_video_set_param,data = "),this.sendMessage(t)}},{key:"reportQos",value:function(e){var t={cmd:k.REPORT_QOS,description:"tup_native_video_report_qos",param:e};return this.sendMessage(t)}},{key:"changeNativeLangCode",value:function(e){h.info("tup_native_change_langcode");var t={cmd:k.CHANGE_LANGCODE,description:"tup_native_change_langcode",param:{langCode:e}};return h.info("tup_native_change_langcode, data = "+(0,i.default)(t)),this.sendMessage(t)}},{key:"getWndRect",value:function(e){h.info(" getWndRect start");var t={cmd:k.GET_HWND_RECT,description:"tup_native_get_hwnd_rect",param:{winHWND:e}};return h.info("tup_native_get_hwnd_rect, data = "+(0,i.default)(t)),this.sendMessage(t)}},{key:"setBigwinOriginShowRect",value:function(e,t){h.info(" setBigwinOriginShowRect start");var n={cmd:k.DATA_SET_SHOWRECT,description:"tup_native_set_bigwinorigin_showrect",param:{width:e,height:t}};return h.info("tup_native_set_bigwinorigin_showrect, data = "+(0,i.default)(n)),this.sendMessage(n)}},{key:"setBigconfDataInitRect",value:function(e,t){var n={cmd:k.DATA_SET_INITSHOW_RECT,description:"tup_native_set_data_initshowrect",param:{width:e,height:t}};return h.info("tup_native_set_data_initshowrect,data = "+(0,i.default)(n)),this.sendMessage(n)}},{key:"showNativeDataControl",value:function(e,t,n,a,r,i,o,s,c,u,d,_,p){h.info(" showNativeDataControl start");var l={cmd:k.DATA_SHOW_DATACONTROL,description:"tup_native_show_datacontrol",param:{confHandle:e,isShow:t,confId:n,langCode:a,isAppShare:r,isChairman:i,isInitTop:o,memCount:s,userId:c,selfAccount:u,componentid:d,docid:_,pageid:p}};return this.sendMessage(l)}},{key:"showNativeRemoteControl",value:function(e){var t={cmd:k.DATA_SHOW_REMOTECONTROL,description:"tup_native_show_remotecontrol",param:{meminfo:e,len:e.length}};return h.info("tup_native_show_remotecontrol"),this.sendMessage(t)}},{key:"notifyLeaveConf",value:function(){var e={cmd:k.LEAVE_CONF,description:"tup_native_leave_conf",param:{}};return h.info(" tup_native_leave_conf start ",e),this.sendMessage(e)}},{key:"getWindowIcon",value:function(e){var t={cmd:k.GET_WINDOW_ICON,description:"tup_native_get_window_icon",param:{hwnd:e}};return h.info(" tup_native_get_window_icon",t),this.sendMessage(t)}},{key:"reportUserInfo",value:function(e){var t={cmd:k.REPORT_CHAIRMAN_STU,description:"tup_native_report_userinfo",param:e};return this.sendMessage(t)}},{key:"notifyLockConfResult",value:function(e){var t={cmd:k.REPORT_CHAIRMAN_STU,description:"tup_native_report_lock_conf_result",param:e};return h.info(" tup_native_report_lock_conf_result start ",t),this.sendMessage(t)}},{key:"notifyLockConfState",value:function(e){var t={cmd:k.REPORT_CHAIRMAN_STU,description:"tup_native_report_lock_conf_state",param:e};return h.info(" tup_native_report_lock_conf_state start ",t),this.sendMessage(t)}},{key:"notifyPutHandup",value:function(e){var t={cmd:k.REPORT_CHAIRMAN_STU,description:"tup_native_report_hand_up_result",param:e};return h.info(" tup_native_report_hand_up start ",t),this.sendMessage(t)}},{key:"showMessageBox",value:function(e){var t={cmd:k.SHOW_MESSAGE_BOX,description:"tup_native_show_messagebox",param:e};return this.sendMessage(t)}},{key:"destroyNativeWin",value:function(){var e={cmd:k.DESTROY_NATIVE_WIN,description:"tup_native_destroy_native_win",param:{}};return h.info(" tup_native_destroy_native_win ",e),this.sendMessage(e)}},{key:"updateComponentStatus",value:function(e,t){var n={cmd:k.UPDATE_COMPONENT_STATUS,description:"tup_native_update_component_status",param:{component:e,status:t}};return h.info(" tup_native_update_component_status start ",n),this.sendMessage(n)}},{key:"setDsCurrentPage",value:function(e,t,n){var a={cmd:k.SET_DS_CURRENT_PAGE,description:"tup_native_set_ds_current_page",param:{confHandle:e,docid:t,pageid:n}};return h.info(" tup_native_set_ds_current_page start ",a),this.sendMessage(a)}},{key:"notifyChangeAudientStatus",value:function(e){var t={cmd:k.CHANGE_AUDIENT_STATUS,description:"tup_confctrl_switch_audit_sites_dir",param:e.param};return h.info(" CHANGE_AUDIENT_STATUS start ",t),this.sendMessage(t)}},{key:"notifyChangeActiveBidirectionStatus",value:function(e){var t={cmd:k.CHANGE_ACTIVE_BIDIRECTION_STATUS,description:"CONFCTRL_E_EVT_REQUEST_AUDIT_SITE_SWITCH_RESULT",param:e.param};return h.info(" CHANGE_ACTIVE_BIDIRECTION_STATUS start ",t),this.sendMessage(t)}},{key:"notifyChangePassiveBidirectionStatus",value:function(e){var t={cmd:k.CHANGE_PASSIVE_BIDIRECTION_STATUS,description:"CALL_E_EVT_AUDIT_DIR",param:e.param};return this.sendMessage(t)}},{key:"notifyGetWinSystemFonts",value:function(){var e={cmd:k.GET_WINDOW_FONTS,description:"native_get_window_fonts",param:{}};return this.sendMessage(e)}},{key:"notifyGetSystemInfo",value:function(){var e={cmd:k.GET_SYSTEM_INFO,description:"native_get_system_info",param:{}};return this.sendMessage(e)}},{key:"notifyGetNetInfo",value:function(e){var t={cmd:k.GET_NET_INFO,description:"native_get_net_info",param:{localIp:e}};return this.sendMessage(t)}},{key:"notifyDataRecvFirstFrame",value:function(){var e={cmd:k.DATA_RECV_FIRST_FRAME,description:"native_data_recv_first_frame",param:{}};return this.sendMessage(e)}},{key:"controlWhiteBoard",value:function(e){var t={cmd:k.DATA_CONTROL_WHITEBOARD,description:"tup_native_data_control_whiteboard",param:e};return this.sendMessage(t)}},{key:"setCustomMenu",value:function(e){var t={cmd:k.CUSTOM_MENU,descritpion:"tup_native_custom_menu",param:{customMenuList:e}};return h.info("setCustomMenu, data = "+(0,i.default)(t)),this.sendMessage(t)}},{key:"showNativeShareSelectWnd",value:function(){var e={cmd:k.SHOW_SHARE_SELECT_WND,descritpion:"tup_native_show_share_selectwnd",param:{}};return h.info("showNativeShareSelectWnd data"),this.sendMessage(e)}}]),e}();t.default=M},2151:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(69),i=a(r),o=n(2152),s=a(o),c=n(1),u=a(c),d=n(135),_=a(d),p=n(2),l=a(p),f=n(3),m=a(f),v=n(4),g=a(v),h=n(5),y=a(h),k=coreLogger.getLogger("service")("tup/hwTupCallSdk"),M=coreCommon.getTupProtocolClass(),w=function(){function e(t){var n=this;return(0,g.default)(this,e),new m.default(function(){var e=(0,l.default)(u.default.mark(function e(a,r){var i;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i={key:constant.TupModuleKey.call,moduleName:"tup_call_service_protocol",webSocketUri:""},(0,_.default)(i,t),e.next=4,new M(i);case 4:n.tupProtocol=e.sent,a(n);case 6:case"end":return e.stop()}},e,n)}));return function(t,n){return e.apply(this,arguments)}}())}return(0,y.default)(e,[{key:"sendMessage",value:function(e){var t=this;if(window.CLIENTCONFIG.IS_LINK_IT_SMC_MEETING)return new m.default(function(n,a){var r={resolve:n,data:e};t.tupProtocol.setRspFuncsAndSendMessage(r)});var n=Sno();return(0,_.default)(e,{sno:n}),new m.default(function(n){var a={resolve:n,data:e};t.tupProtocol.setRspFuncsAndSendMessage(a)})}},{key:"config",value:function(e){k.info("start call config");var t={cmd:65537,description:"tup_call_config",param:e};return window.CLIENTCONFIG.IS_LINK_IT_SMC_MEETING&&(t.param.accountid=0),this.sendMessage(t)}},{key:"setCapRotateCtrlMode",value:function(e){if(!(0,s.default)(e))return void k.error("setCapRotateCtrlMode param error");var t={cap_rotate_ctrl_mode:e};this.configTUPCallCfg(t)}},{key:"configBFCPTLSParam",value:function(e){this.configTUPCallCfg(e)}},{key:"configCallHardCodeParam",value:function(e){this.configTUPCallCfg(e)}},{key:"configSvcEncodeParam",value:function(e){this.configTUPCallCfg(e)}},{key:"setTUPCallCfg",value:function(e){var t={description:"tup_call_set_cfg",cmd:1,param:e};return this.sendMessage(t)}},{key:"configTUPCallCfg",value:function(e){var t={description:"tup_call_set_cfg",cmd:1,param:{media:e,conf:{voice_forward:1}}};return this.sendMessage(t)}},{key:"setBeautyFunc",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1],n={description:"tup_call_set_beauty_level",cmd:65968,param:{call_id:e,enable_beauty:t}};return this.sendMessage(n)}},{key:"setBfcpIsBigWnd",value:function(e,t){var n=!t;k.info("setBfcpIsBigWnd isVideoPriority : "+n);var a={description:"tup_call_set_rx_tmmbr_priority",cmd:65967,param:{call_id:e,is_video_priority:n}};return this.sendMessage(a)}},{key:"configTUPCallCfgAccountName",value:function(e){var t={description:"tup_call_set_cfg",cmd:1,param:{account:{account_label_name:e}}};return this.sendMessage(t)}},{key:"configToTupBfcp",value:function(e,t){var n={description:"tup_call_set_cfg",cmd:1,param:{key:t}};return this.sendMessage(n)}},{key:"switchSipMsgSendThread",value:function(e){k.info("switchSipMsgSendThread isClose",e);var t={description:"SwitchSipMsgSendThread",cmd:65960,param:{stop:e}};return this.sendMessage(t)}},{key:"mediaGetHdaccelerate",value:function(e){k.info("get mobile support Hdaccelerate or not");var t={cmd:65784,description:"tup_call_media_get_hdaccelerate",param:e};return window.CLIENTCONFIG.IS_LINK_IT_SMC_MEETING&&(t.cmd=65898,t.description="tup_call_media_get_hdaccelerate_for_account",t.param.accountid=0),this.sendMessage(t)}},{key:"getCallMediaParams",value:function(e){var t={cmd:65553,description:"tup_call_get_callstatics",param:e};return this.sendMessage(t)}},{key:"getBasicCallInfo",value:function(e){k.info("tup_call_get_call_info");var t={cmd:65840,description:"tup_call_get_call_info",param:e};return this.sendMessage(t)}},{key:"register",value:function(e,t,n){k.info("start call register");var a={cmd:65538,description:"tup_call_register",param:{name:t,number:e,pwd:n}};return this.sendMessage(a)}},{key:"registerForAccount",value:function(e){k.info("start register for account");var t={cmd:65647,description:"tup_call_register_for_account",param:{account_id:e}};return this.sendMessage(t)}},{key:"setCallCapability",value:function(e){k.info("tup_call_set_call_capability");var t={description:"tup_call_set_call_capability",cmd:65850,param:e};return this.sendMessage(t)}},{key:"setCallReinvite",value:function(e){k.info("call tup_call_reinvite");var t={description:"tup_call_reinvite",cmd:65666,param:{callid:e}};return this.sendMessage(t)}},{key:"startRefreshRegister",value:function(e){k.info("start reftrsh register",e);var t={description:"tup_call_start_refreshregister",cmd:65823,param:{number:e}};return this.sendMessage(t)}},{key:"refreshRegisterForAccount",value:function(e){k.info("refreshregister for account");var t={cmd:65649,description:"tup_call_start_refreshregister_for_account",param:{account_id:e}};return this.sendMessage(t)}},{key:"stopRefreshRegister",value:function(e){k.info("stop reftrsh register",e);var t={description:"tup_call_stop_refreshregister",cmd:65822,param:{number:e}};return this.sendMessage(t)}},{key:"stopReForAccount",value:function(e){k.info("stop refreshregister for account");var t={cmd:65650,description:"tup_call_stop_refreshregister_for_account",param:{account_id:e}};return this.sendMessage(t)}},{key:"setHMELog",value:function(e){if(!window.hmeLogSizeMb)return m.default.resolve();k.info("start set hme log");var t={cmd:65876,description:"tup_call_set_hme_log_params",param:{audio_log_level:e.audio_log_level,audio_max_size:e.audio_max_size,video_log_level:e.video_log_level,video_max_size:e.video_max_size}};return this.sendMessage(t)}},{key:"startCall",value:function(e,t){k.info("tup_call_start_call callNum: "+handlePhoneNumber(e)+" isVideo: "+t);var n={cmd:65540,description:"tup_call_start_call",param:{callee_num:e,call_type:t||0}};return this.sendMessage(n)}},{key:"startVipCall",value:function(e,t,n){k.info("start vip call");var a={description:"tup_call_start_access_call",cmd:65944,param:{call_type:1,accessPoint:{callee_num:e,addr_vip:n,access_type:"ASBC"}}};return k.info("start vip call data = ",a),this.sendMessage(a)}},{key:"acceptCall",value:function(e,t){k.info("tup_call_accept_call callid: "+e);var n={cmd:65541,description:"tup_call_accept_call",param:{call_id:e,is_video:t||0}};return this.sendMessage(n)}},{key:"endCall",value:function(e){k.info("tup_call_end_call callid: "+e);var t={cmd:65542,description:"tup_call_end_call",param:{call_id:e}};return this.sendMessage(t)}},{key:"deRegister",value:function(e){var t={cmd:65539,description:"tup_call_deregister",param:{number:e}};return this.sendMessage(t)}},{key:"deRegisterForAccount",value:function(e){k.info("deRegister for account");var t={cmd:65648,description:"tup_call_deregister_for_account",param:{account_id:e}};return this.sendMessage(t)}},{key:"setMicVol",value:function(e){var t={cmd:65582,description:"tup_call_media_set_audio_ingain",param:{in_gain:e}};return this.sendMessage(t)}},{key:"getMicVol",value:function(){var e={cmd:65583,description:"tup_call_media_get_audio_ingain"};return this.sendMessage(e)}},{key:"setSpkVol",value:function(e){var t={cmd:65584,description:"tup_call_media_set_audio_outgain",param:{out_gain:e}};return this.sendMessage(t)}},{key:"getSpkVol",value:function(){var e={cmd:65585,description:"tup_call_media_get_audio_outgain"};return this.sendMessage(e)}},{key:"startPlayMediaFile",value:function(e,t){var n={cmd:65573,description:"tup_call_media_startplay",param:{play_file:e,loops:t||0}};return window.CLIENTCONFIG.IS_LINK_IT_SMC_MEETING&&(n.cmd=65904,n.description="tup_call_media_startplay_ex_for_account_id",n.param.accountid=0),this.sendMessage(n)}},{key:"stopPlayMediaFile",value:function(e){k.info("tup_call_media_stopplay play_handle: "+e);var t={cmd:65575,description:"tup_call_media_stopplay",param:{play_handle:e}};return this.sendMessage(t)}},{key:"holdCall",value:function(e){k.info("tup_call_hold_call callid: "+e);var t={cmd:65554,description:"tup_call_hold_call",param:{call_id:e}};return this.sendMessage(t)}},{key:"unHoldCall",value:function(e){k.info("tup_call_unhold_call callid: "+e);var t={cmd:65555,description:"tup_call_unhold_call",param:{call_id:e}};return this.sendMessage(t)}},{key:"divertCall",value:function(e,t){k.info("tup_call_divert_call callid: "+e);var n={cmd:65556,description:"tup_call_divert_call",param:{call_id:e,divert_number:t}};return this.sendMessage(n)}},{key:"blindTransfer",value:function(e,t){k.info("tup_call_blind_transfer callid: "+e);var n={cmd:65557,description:"tup_call_blind_transfer",param:{call_id:e,transto_number:t}};return this.sendMessage(n)}},{key:"consultTransfer",value:function(e,t){k.info("tup_call_consult_transfer callid: "+e+" transtoCallId: "+t);var n={cmd:65558,description:"tup_call_consult_transfer",param:{call_id:e,transto_callid:t}};return this.sendMessage(n)}},{key:"addVideo",value:function(e){var t={cmd:65563,description:"tup_call_add_video",param:{call_id:e}};return this.sendMessage(t)}},{key:"setHandsFree",value:function(e){var t={description:"tup_call_set_mobile_audio_route",cmd:65545,param:{device:Number(e)}};return window.CLIENTCONFIG.IS_LINK_IT_SMC_MEETING&&(t.cmd=65917,t.description="tup_call_set_account_mobile_audio_route",t.param.accountid=0,t.param.route=Number(e)),this.sendMessage(t)}},{key:"getMediaDevices",value:function(e){var t={cmd:65586,description:"tup_call_media_get_devices",param:{device_type:e}};return window.CLIENTCONFIG.IS_LINK_IT_SMC_MEETING&&(t.cmd=65892,t.description="tup_call_media_get_account_devices",t.param.accountid=0,t.param.devicetype=e),this.sendMessage(t)}},{key:"getMicDeviceVol",value:function(){var e={cmd:65546,description:"tup_call_media_get_mic_volume"};return this.sendMessage(e)}},{key:"setMicDeviceVol",value:function(e,t){var n={cmd:65547,description:"tup_call_media_set_mic_volume",param:{device:e,volume:t}};return this.sendMessage(n)}},{key:"getSpkDeviceVol",value:function(){var e={cmd:65548,description:"tup_call_media_get_speak_volume"};return this.sendMessage(e)}},{key:"setSpkDeviceVol",value:function(e,t){var n={cmd:65549,description:"tup_call_media_set_speak_volume",param:{device:e,volume:t}};return this.sendMessage(n)}},{key:"getMicIndex",value:function(){var e={cmd:65579,description:"tup_call_media_get_mic_index"};return window.CLIENTCONFIG.IS_LINK_IT_SMC_MEETING&&(e.cmd=65893,e.description="tup_call_media_get_account_mic_index",e.param.accountid=0),this.sendMessage(e)}},{key:"setMicIndex",value:function(e){var t={cmd:65576,description:"tup_call_media_set_mic_index",param:{index:JSON.parse(e)}};return window.CLIENTCONFIG.IS_LINK_IT_SMC_MEETING&&(t.cmd=65900,t.description="tup_call_media_set_account_mic_index",t.param.accountid=0),this.sendMessage(t)}},{key:"getSpkIndex",value:function(){var e={cmd:65580,description:"tup_call_media_get_speak_index"};return window.CLIENTCONFIG.IS_LINK_IT_SMC_MEETING&&(e.cmd=65894,e.description="tup_call_media_get_account_speak_index",e.param.accountid=0),this.sendMessage(e)}},{key:"setSpkIndex",value:function(e){var t={cmd:65577,description:"tup_call_media_set_speak_index",param:{index:JSON.parse(e)}};return window.CLIENTCONFIG.IS_LINK_IT_SMC_MEETING&&(t.cmd=65901,t.description="tup_call_media_set_account_speak_index",t.param.accountid=0),this.sendMessage(t)}},{key:"getVideoIndex",value:function(){var e={cmd:65581,description:"tup_call_media_get_video_index"};return window.CLIENTCONFIG.IS_LINK_IT_SMC_MEETING&&(e.cmd=65895,e.description="tup_call_media_get_account_video_index",e.param.accountid=0),this.sendMessage(e)}},{key:"setVideoIndex",value:function(e){var t={cmd:65578,description:"tup_call_media_set_video_index",param:{index:JSON.parse(e)}};return window.CLIENTCONFIG.IS_LINK_IT_SMC_MEETING&&(t.cmd=65902,t.description="tup_call_media_set_account_video_index",t.param.accountid=0),this.sendMessage(t)}},{key:"setCaptureFile",value:function(e,t){var n={cmd:65628,description:"tup_call_set_video_capture_file",param:{call_id:e,file_name:t}};return this.sendMessage(n)}},{key:"operateMic",value:function(e,t){var n={cmd:65544,description:"tup_call_media_mute_mic",param:{call_id:e,is_on:t}};return this.sendMessage(n)}},{key:"getSysSpkMute",value:function(){var e={cmd:65782,description:"tup_call_media_get_sys_spk_mute",param:{}};return this.sendMessage(e)}},{key:"setSysSpkMute",value:function(e){var t={cmd:65637,description:"tup_call_set_spkdev_mute",param:{is_mute:e}};return this.sendMessage(t)}},{key:"operateSpk",value:function(e,t){var n={cmd:65569,description:"tup_call_media_mute_speak",param:{call_id:e,is_on:t}};return this.sendMessage(n)}},{key:"switchAudioChannel",value:function(e,t){var n={cmd:65931,description:"tup_call_switch_channel",param:{callid:e,stop:t,mediatype:0}};return this.sendMessage(n)}},{key:"replyAddVideo",value:function(e,t){var n={cmd:65562,description:"tup_call_reply_add_video",param:{call_id:e,is_accept:t}};return this.sendMessage(n)}},{key:"setCaptureRotation",value:function(e,t,n){var a={cmd:65626,description:"tup_call_set_capture_rotation",param:{call_id:e,capture_index:t,capture_rotation:n}};return this.sendMessage(a)}},{key:"setDisplayRotation",value:function(e,t,n){var a={cmd:65627,description:"tup_call_set_display_rotation",param:{call_id:e,render_type:t,rotation:n}};return this.sendMessage(a)}},{key:"setVideoCollectMode",value:function(e,t){var n={cmd:65870,description:"tup_call_set_video_collect_mode",param:{call_id:e,collect_mode:t}};return this.sendMessage(n)}},{key:"setVideoRender",value:function(e,t,n,a,r){k.info("tup_call_set_video_render.call_id: "+e+" isMirror: "+t+" render_type: "+n+" display_type: "+a+" devide_orientation: "+r);var i={cmd:65625,description:"tup_call_set_video_render",param:{call_id:e,render_type:n,display_type:a,mirror_type:t?2:0,devide_orientation:r}};return this.sendMessage(i)}},{key:"delVideo",value:function(e){var t={cmd:65564,description:"tup_call_del_video",param:{call_id:e}};return this.sendMessage(t)}},{key:"transferConfEx",value:function(e,t){var n={cmd:65868,description:"tup_call_serverconf_transferto_conf_ex",param:{conf_call_id:e,call_id:t}};return this.sendMessage(n)}},{key:"setNotifyFunc",value:function(e,t){this.tupProtocol.setNotifyFunc(e,t)}},{key:"setMultiNotifyFunc",value:function(e,t){this.tupProtocol.setMultiNotifyFunc(e,t)}},{key:"dtmf",value:function(e,t){var n=void 0;isNaN(t)?("*"===t&&(n=10),"#"===t&&(n=11)):n=Number(t);var a={cmd:65543,description:"tup_call_dtmf",param:{call_id:e,dtmf_tone:n}};return this.sendMessage(a)}},{key:"stopLocalServer",value:function(){var e={cmd:65869,description:"tup_call_stop_local_server"};return this.sendMessage(e)}},{key:"oneKeyEnterConf",value:function(e){k.info("tup_call_serverconf_access_reservedconf_ex,confid = "+e.pstconfparam.confid+",access = "+handlePhoneNumber(e.pstconfparam.access_code)+",call_type = "+e.call_type);var t={description:"tup_call_serverconf_access_reservedconf_ex",cmd:65645,param:e};return this.sendMessage(t)}},{key:"openAudioPreview",value:function(){var e={cmd:65749,description:"tup_call_open_audio_preview",param:{}};return this.sendMessage(e)}},{key:"closeAudioPreview",value:function(){var e={cmd:65750,description:"tup_call_close_audio_preview",param:{}};return this.sendMessage(e)}},{key:"startData",value:function(e){k.info("tup_call_start_data");var t={description:"tup_call_start_data",cmd:65622,param:{call_id:e}};return this.sendMessage(t)}},{key:"stopData",value:function(e){k.info("tup_call_stop_data");var t={description:"tup_call_stop_data",cmd:65623,param:{call_id:e}};return this.sendMessage(t)}},{key:"addSvcVideoWindow",value:function(e,t,n,a,r,i){k.info("画面tup_call_add_svc_video_window CI"+e+", windowHandle"+t+", ssrc="+n+", W="+a+", H"+r+",bSharpness="+i);var o={description:"tup_call_add_svc_video_window",cmd:65878,param:{callid:e,svcwindow:{render:t,ssrc_id:n,width:a,height:r,bSharpness:i}}};return this.sendMessage(o)}},{key:"updateSvcVideoWindow",value:function(e,t,n,a,r,i){k.info("tup_call_update_svc_video_window CI"+e+", windowHandle"+t+", ssrc="+n+", W="+a+", H"+r+",bSharpness="+i);var o={description:"tup_call_update_svc_video_window",cmd:65933,param:{callid:e,svcwindow:{render:t,ssrc_id:n,width:a,height:r,bSharpness:i}}};return this.sendMessage(o)}},{key:"removeSvcVideoWindow",value:function(e,t,n,a){k.info("tup_call_remove_svc_video_window CI"+e+", windowHandle"+t+", ssrc="+n+", is_synsend="+a);var r={description:"tup_call_remove_svc_video_window",cmd:65911,param:{callid:e,svcwindow:{render:t,ssrc_id:n,is_synsend:a}}};return this.sendMessage(r)}},{key:"setAllSvcVideoWindows",value:function(e,t,n){var a={description:"tup_call_set_all_svc_video_windows",cmd:65936,param:{count:e,callid:t,window_array:n}};return this.sendMessage(a)}},{key:"setVideoWindow",value:function(e,t,n){k.info("tup_call_set_video_window, count="+e+", callid="+t+", windowArray="+(0,i.default)(n));var a={description:"tup_call_set_video_window",cmd:65866,param:{count:e,win:n,callid:t}};return this.sendMessage(a)}},{key:"resetBFCStatus",value:function(e,t){k.info("resetBFCStatus tup_call_svc_control_recv_aux "+e+"-"+t);var n={description:"tup_call_svc_control_recv_aux",cmd:65935,param:{call_id:e,start_recv:t}};return this.sendMessage(n)}},{key:"svcRedistributeVideoTmmbr",value:function(e){k.info("tup_call_svc_redistribute_video_tmmbr");var t={description:"tup_call_svc_redistribute_video_tmmbr",cmd:65939,param:{callid:e}};return this.sendMessage(t)}},{key:"setStgTunnel",value:function(e,t){k.info("tup_call_set_stg_tunnel_for_dataconf, action = ",t);var n={description:"tup_call_set_stg_tunnel_for_dataconf",cmd:65943,param:{call_id:e,action:t}};return this.sendMessage(n)}},{key:"makePair",value:function(e,t,n,a,r){var i={cmd:65945,description:"tup_call_make_pair",param:{pair_key:t,cle_public_key:n,sip_number:a,display_name:e,is_force:r}};return k.info("begin make pair, cle public file=",n+", isForce=",r),this.sendMessage(i)}},{key:"cancelPair",value:function(e,t){k.info("begin cancel pair");var n={cmd:65946,description:"tup_call_cancel_pair",param:{reason:e,id:t}};return k.info("end cancel pair, data=",n),this.sendMessage(n)}},{key:"pairSubscribe",value:function(e,t){var n={cmd:65947,description:"tup_call_pair_subscribe",param:{id:e,is_on:t}};return k.info("begin pairSubscribe, data=",n),this.sendMessage(n)}},{key:"pairLinkage",value:function(e,t,n){var a={cmd:65948,description:"tup_call_pair_conf_linkage",param:{id:e,is_on:t,conf_id:n}};return k.info("begin tup_call_pair_conf_linkage, data=",a),this.sendMessage(a)}},{key:"pairLinkageLeave",value:function(e,t){var n={cmd:65949,description:"tup_call_pair_conf_linkage_leave",param:{id:e,conf_id:t}};return k.info("begin tup_call_pair_conf_linkage_leave, data=",n),this.sendMessage(n)}},{key:"pairLinkageEnd",value:function(e,t){var n={cmd:65950,description:"tup_call_pair_conf_linkage_end",param:{id:e,conf_id:t}};return k.info("begin tup_call_pair_conf_linkage_end, data=",n),this.sendMessage(n)}},{key:"pairEnable",value:function(e,t){var n={cmd:65952,description:"tup_call_pair_feature",param:{enable:1,pair_cfg_param:{is_pairer:e,max_pair_num:t}}};return k.info("begin tup_call_pair_feature, data=",n),this.sendMessage(n)}},{key:"pairPermit",value:function(e,t,n,a,r,i,o,s){var c={cmd:65953,description:"tup_call_permit_pairing",param:{id:e,is_permit:t,reason:n,pair_result:{ip:a,sip_number:r,device_name:i,heartbeat_interval:o,support_force:s}}};return k.info("begin pairPermit, is_permit=",t),this.sendMessage(c)}},{key:"initForMultiuser",value:function(){k.info("init for multiuser");var e={cmd:65888,description:"tup_call_init_for_multiuser",param:{}};return this.sendMessage(e)}},{key:"setEnableMutiUsed",value:function(e){k.info("set enable muti used");var t={cmd:65920,description:"tup_call_set_enable_muti_used",param:{enable:e}};return this.sendMessage(t)}},{key:"registerProcessNotifyForAccount",value:function(e){k.info("register process notify for account");var t={description:"tup_call_register_process_notifiy_for_account",cmd:65909,param:{sip_account_id:e}};return this.sendMessage(t)}},{key:"setAccountIdEnable",value:function(e){k.info("setAccountIdEnable");var t={description:"tup_call_set_account_id_enable",cmd:65958,param:{protocol:0,accountid:e}};return this.sendMessage(t)}},{key:"setTupCallLogParams",value:function(e,t,n,a){k.info("setTupCallLogParams");var r={description:"tup_call_set_log_params",cmd:65875,param:{log_level:e,max_size:t,file_count:n,log_path:a}};return this.sendMessage(r)}},{key:"callJointStartLinkage",value:function(){var e={cmd:65591,description:"tup_call_joint_start"};return k.info("begin tup_call_joint_start, data=",e),this.sendMessage(e)}},{key:"callJointStopLinkage",value:function(){var e={cmd:65592,description:"tup_call_joint_stop"};return k.info("begin tup_call_joint_stop, data=",e),this.sendMessage(e)}},{key:"setBandWidth",value:function(e,t){var n={cmd:65962,description:"tup_call_svc_set_video_sendbandwidth",param:{callid:e,bandwidth:t}};return k.info("begin tup_call_svc_set_video_sendbandwidth, data=",n),this.sendMessage(n)}},{key:"setEncoderMaxCap",value:function(e,t,n,a,r){var i={cmd:65964,description:"tup_call_set_encoder_max_cap",param:{callid:e,width:t,height:n,framerate:a,bitrate:r}};return k.info("begin tup_call_set_encoder_max_cap, data=",i),this.sendMessage(i)}},{key:"sendUniversalInfo",value:function(e,t){var n={cmd:65961,description:"tup_call_pair_send_universal_info",param:{id:e,info:(0,i.default)(t)}};return k.info("begin tup_call_pair_send_universal_info, id=",e),this.sendMessage(n)}},{key:"setDataBandwidth",value:function(e,t,n){var a={cmd:65966,description:"tup_call_set_data_bandwidth",param:{call_id:e,option_type:t,bandwidth:n}};return k.info("begin tup_call_set_data_bandwidth"),this.sendMessage(a)}},{key:"createCallId",value:function(e,t,n){var a={cmd:65881,description:"tup_call_create_callid",param:{account_id:e,line_type:t,line_id:n}};return k.info("begin tup_call_create_callid, data="),this.sendMessage(a)}},{key:"pointPickupEx",value:function(e,t,n,a){var r={description:"tup_call_point_pickup_ex",cmd:65906,param:{callid:e,calltype:t,point_packup_info:{caller_number:n,ring_number:a}}};return k.info("begin tup_call_point_pickup_ex, data="),this.sendMessage(r)}},{key:"groupPickupEx",value:function(e,t,n,a){var r={description:"tup_call_group_pickup_ex",cmd:65887,param:{callid:e,call_type:t,group_packup_info:{caller_number:n,ring_number:a}}};return k.info("begin tup_call_group_pickup_ex, data="),this.sendMessage(r)}},{key:"startRecord",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a={description:"tup_call_media_startrecord",cmd:65571,param:{call_id:t,is_video:n,file_name:e}};return this.sendMessage(a)}},{key:"stopRecord",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t={description:"tup_call_media_stoprecord",cmd:65572,param:{call_id:e}};return this.sendMessage(t)}},{key:"getMicLevel",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],{description:"tup_call_media_get_mic_level",cmd:65781,param:{}});return this.sendMessage(e)}}]),e}();t.default=w},2152:function(e,t,n){e.exports={default:n(2153),__esModule:!0}},2153:function(e,t,n){n(2154),e.exports=n(8).Number.isInteger},2154:function(e,t,n){var a=n(10);a(a.S,"Number",{isInteger:n(2155)})},2155:function(e,t,n){var a=n(15),r=Math.floor;e.exports=function(e){return!a(e)&&isFinite(e)&&r(e)===e}},2156:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(1),i=a(r),o=n(135),s=a(o),c=n(2),u=a(c),d=n(3),_=a(d),p=n(4),l=a(p),f=n(5),m=a(f),v=coreLogger.getLogger("conf")("service"),g=coreCommon.getTupProtocolClass(),h=function(){function e(t){var n=this;return(0,l.default)(this,e),new _.default(function(){var e=(0,u.default)(i.default.mark(function e(a,r){var o;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={key:constant.TupModuleKey.cmpt,moduleName:"tup_cmpt_service_protocol",webSocketUri:""},(0,s.default)(o,t),e.next=4,new g(o);case 4:n.tupProtocol=e.sent,a(n);case 6:case"end":return e.stop()}},e,n)}));return function(t,n){return e.apply(this,arguments)}}())}return(0,m.default)(e,[{key:"sendMessage",value:function(e){var t=this;return new _.default(function(n,a){var r={resolve:n,data:e};t.tupProtocol.setRspFuncsAndSendMessage(r)})}},{key:"setNotifyFunc",value:function(e,t){this.tupProtocol.setNotifyFunc(e,t)}},{key:"verifyCertificate",value:function(e){v.info("tup_cmpt_verify_certificate");var t={description:"tup_cmpt_verify_certificate",cmd:1179655,param:{certfile_path:e,verify_info:{acCertIssuerName:null,bVerifySignAlg:1,bVerifyPubKeyLen:1}}};return this.sendMessage(t)}},{key:"checkCertificateOverdue",value:function(e){v.info("tup_cmpt_check_certificate_overdue");var t={description:"tup_cmpt_check_certificate_overdue",cmd:1179654,param:{certfile_path:e}};return this.sendMessage(t)}},{key:"detectInit",value:function(){v.info("tup_detect_init");var e={cmd:1179659,description:"tup_detect_init"};return this.sendMessage(e)}},{key:"detectUnInit",value:function(){v.info("tup_detect_uninit");var e={cmd:1179660,description:"tup_detect_uninit"};return this.sendMessage(e)}},{key:"detectStartClient",value:function(e){v.info("tup_detect_start_client");var t={cmd:1179661,description:"tup_detect_start_client",param:e};return this.sendMessage(t)}},{key:"detectStopClient",value:function(){v.info("tup_detect_stop_client");var e={cmd:1179663,description:"tup_detect_stop_client"};return this.sendMessage(e)}},{key:"detectStartClientContinue",value:function(e){v.info("tup_detect_start_client_continue");var t={cmd:1179665,description:"tup_detect_start_client_continue",param:e};return this.sendMessage(t)}},{key:"detectStopClientContinue",value:function(){v.info("tup_detect_stop_client_continue");var e={cmd:1179666,description:"tup_detect_stop_client_continue "};return this.sendMessage(e)}},{key:"detectStartServer",value:function(e){v.info("tup_detect_start_server");var t={cmd:1179662,description:"tup_detect_start_server",param:e};return this.sendMessage(t)}},{key:"detectStopServer",value:function(){v.info("tup_detect_stop_server");var e={cmd:1179664,description:"tup_detect_stop_server"};return this.sendMessage(e)}},{key:"setCmptEvent",value:function(e){e&&"function"==typeof e.OnDetectDataNotify&&this.setNotifyFunc(77826,e.OnDetectDataNotify)}}]),e}();t.default=h},2157:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(1),i=a(r),o=n(135),s=a(o),c=n(2),u=a(c),d=n(3),_=a(d),p=n(4),l=a(p),f=n(5),m=a(f),v=coreLogger.getLogger("service")("tup/hwTupConfCtrlSdk"),g=coreCommon.getTupProtocolClass(),h=function(){function e(t){var n=this;return(0,l.default)(this,e),new _.default(function(){var e=(0,u.default)(i.default.mark(function e(a,r){var o;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={key:constant.TupModuleKey.confctrl,moduleName:"tup_confctrl_service_protocol",webSocketUri:""},(0,s.default)(o,t),e.next=4,new g(o);case 4:n.tupProtocol=e.sent,a(n);case 6:case"end":return e.stop()}},e,n)}));return function(t,n){return e.apply(this,arguments)}}())}return(0,m.default)(e,[{key:"sendMessage",value:function(e){var t=this;return new _.default(function(n,a){var r=Sno();(0,s.default)(e,{sno:r});var i={resolve:n,data:e,timeoutTime:1e4};t.tupProtocol.setRspFuncsAndSendMessage(i)})}},{key:"setNotifyFunc",value:function(e,t){this.tupProtocol.setNotifyFunc(e,t)}},{key:"setMultiNotifyFunc",value:function(e,t){this.tupProtocol.setMultiNotifyFunc(e,t)}},{key:"getNotifyFunc",value:function(e){return this.tupProtocol.getNotifyFunc(e)}},{key:"getNotifyCallbacks",value:function(e){return this.tupProtocol.getNotifyCallbacks(e)}},{key:"confCtrlInit",value:function(e){v.info("tup_confctrl_init,save_participant_list = "+e.init_param.save_participant_list);var t={description:"tup_confctrl_init",cmd:458753,param:e};return this.sendMessage(t)}},{key:"confCtrlSetProxy",value:function(e){v.info(",tup_confctrl_set_proxy,uri = "+e.uri+",port = "+e.port+",username = "+e.user_name+",len of pas = "+e.password.length);var t={description:"tup_confctrl_set_proxy",cmd:458795,param:{proxy_param:e}};return this.sendMessage(t)}},{key:"setServerParams",value:function(e,t,n){v.info(",tup_confctrl_set_server_params_ex,confmanageIp = "+e+",confctrlIp = "+t+",serverPort = "+n);var a=n;"string"==typeof a&&(a=parseInt(n));var r={description:"tup_confctrl_set_server_params_ex",cmd:458774,param:{server_para:{server_addr:e,port:a},conf_ctrl_server:{server_addr:t,port:a}}};return this.sendMessage(r)}},{key:"getVRMList",value:function(e,t){var n={cmd:458793,description:"tup_confctrl_get_vmr_list",param:{get_vmr_server:{server_addr:e,port:t}}};return this.sendMessage(n)}},{key:"setConfEnvType",value:function(e){v.info(",tup_confctrl_set_conf_env_type,conf_type = "+e);var t={description:"tup_confctrl_set_conf_env_type",cmd:458775,param:{conf_type:e}};return this.sendMessage(t)}},{key:"createConf",value:function(e){for(var t=e.create_conf_info,n=t.attendee,a=[],r=[],i=0;i<n.length;i++)isNullOrEmpty(n[i].name)||a.push(n[i].name.substr(0,1)+"**"+n[i].name.substr(-1)),isNullOrEmpty(n[i].number)||r.push(handlePhoneNumber(n[i].number));v.info(",tup_confctrl_create_conf,len of subject = "+t.subject.length+",group_uri = "+t.group_uri+",multi_stream_flag = "+t.multi_stream_flag+",media_type = "+t.media_type+",language = "+t.language+",conf_encrypt_mode = "+t.conf_encrypt_mode+",user_type = "+t.user_type+",num_of_attendee = "+t.num_of_attendee+",time_zone = "+t.time_zone+", nopassword="+t.nopassword+",record_type="+t.record_type+",attendee_name="+a+",attendee_num = "+r);var o={description:"tup_confctrl_create_conf",cmd:458754,param:e};return this.sendMessage(o)}},{key:"endConf",value:function(e){v.info("tup_confctrl_end_conf");var t={description:"tup_confctrl_end_conf",cmd:458760,param:{conf_handle:e}};return this.sendMessage(t)}},{key:"setSpeakerReport",value:function(e){v.info(",tup_confctrl_set_speaker_report,conf_handle = "+e+",is_enable = 1");var t={description:"tup_confctrl_set_speaker_report",cmd:458804,param:{conf_handle:e,is_enable:1}};return this.sendMessage(t)}},{key:"muteAttendee",value:function(e,t,n){v.info(",tup_confctrl_mute_attendee,confHandle = "+e+",isMute = "+t+",attendee = "+handlePhoneNumber(n));var a={description:"tup_confctrl_mute_attendee",cmd:458762,param:{conf_handle:e,to_mute:t,attendee:n}};return this.sendMessage(a)}},{key:"muteConf",value:function(e,t,n){v.info(",tup_confctrl_mute_conf,confHandle = "+e+",isMute = "+t+",isAllowUnmute = "+n);var a={description:"tup_confctrl_mute_conf",cmd:458761,param:{conf_handle:e,mute_info:{to_mute:t,allow_unmute:n}}};return this.sendMessage(a)}},{key:"allowUnmuteConf",value:function(e,t){v.info(",tup_confctrl_allow_unmute_conf,confHandle = "+e+",isAllowUnmute = "+t);var n={description:"tup_confctrl_modify_unmute",cmd:458836,param:{conf_handle:e,allow_unmute:t}};return this.sendMessage(n)}},{key:"lockConf",value:function(e,t){v.info(",tup_confctrl_lockconf,confHandle = "+e+",isLock = "+t);var n={description:"tup_confctrl_lockconf",cmd:458768,param:{conf_handle:e,to_lock:t}};return this.sendMessage(n)}},{key:"inviteAttendee",value:function(e,t){v.info(",tup_confctrl_add_attendee,confHandle = "+e+",num_of_attendee = "+t.num_of_attendee);var n={description:"tup_confctrl_add_attendee",cmd:458755,param:{conf_handle:e,add_attendee_info:t}};return this.sendMessage(n)}},{key:"hangupAttendee",value:function(e,t){v.info(",tup_confctrl_hang_up_attendee,confHandle = "+e+",attendeeNumber = "+handlePhoneNumber(t));var n={description:"tup_confctrl_hang_up_attendee",cmd:458763,param:{conf_handle:e,attendee:t}};return this.sendMessage(n)}},{key:"handupAttendee",value:function(e,t,n){v.info(",tup_confctrl_handup,confHandle = "+e+",attendeeNumber = "+handlePhoneNumber(t));var a={description:"tup_confctrl_handup",cmd:458769,param:{conf_handle:e,to_handup:n,attendee:t}};return this.sendMessage(a)}},{key:"callAttendee",value:function(e,t){v.info("tup_confctrl_call_attendee,confHandle = "+e+",attendeeNumber = "+handlePhoneNumber(t));var n={description:"tup_confctrl_call_attendee",cmd:458764,param:{conf_handle:e,attendee:t}};return this.sendMessage(n)}},{key:"releaseChairman",value:function(e,t){v.info("tup_confctrl_release_chairman");var n={description:"tup_confctrl_release_chairman",cmd:458767,param:{conf_handle:e,number:t}};return this.sendMessage(n)}},{key:"requestChairman",value:function(e,t,n){v.info("tup_confctrl_request_chairman");var a={description:"tup_confctrl_request_chairman",cmd:458766,param:{conf_handle:e,password:t,number:n}};return this.sendMessage(a)}},{key:"changeNickName",value:function(e,t,n){v.info("changeNickName  tup_confctrl_rename_site");var a={description:"tup_confctrl_rename_site",cmd:458835,param:{conf_handle:e,number:n,new_name:t}};return this.sendMessage(a)}},{key:"removeAttendee",value:function(e,t){v.info("tup_confctrl_remove_attendee");var n={description:"tup_confctrl_remove_attendee",cmd:458756,param:{conf_handle:e,number:t}};return this.sendMessage(n)}},{key:"rejectConf",value:function(e){v.info("tup_confctrl_reject_conf");var t={description:"tup_confctrl_reject_conf",cmd:458758,param:{conf_handle:e}};return this.sendMessage(t)}},{key:"acceptConf",value:function(e,t){v.info("tup_confctrl_accept_conf");var n={description:"tup_confctrl_accept_conf",cmd:458757,param:{conf_handle:e,join_video_conf:t}};return this.sendMessage(n)}},{key:"leaveConf",value:function(e){v.info("tup_confctrl_leave_conf");var t={description:"tup_confctrl_leave_conf",cmd:458759,param:{conf_handle:e}};return this.sendMessage(t)}},{key:"bookConf",value:function(e){v.info("tup_confctrl_book_conf");var t={cmd:458778,description:"tup_confctrl_book_conf",param:e};return this.sendMessage(t)}},{key:"p2pTransferConf",value:function(e){v.info("tup_confctrl_p2p_transfer_to_conf");var t={description:"tup_confctrl_p2p_transfer_to_conf",cmd:458771,param:e};return this.sendMessage(t)}},{key:"upgradeConf",value:function(e){v.info("tup_confctrl_upgrade_conf");var t={description:"tup_confctrl_upgrade_conf",cmd:458790,param:e};return this.sendMessage(t)}},{key:"getConfList",value:function(e){v.info("tup_confctrl_get_conf_list, get_conf_list = ",e);var t={description:"tup_confctrl_get_conf_list",cmd:458792,param:{get_conf_list:e}};return this.sendMessage(t)}},{key:"subscribeConfList",value:function(){v.info("tup_confctrl_subscribe_conf_list");var e={description:"tup_confctrl_subscribe_conf_list",cmd:458829};return this.sendMessage(e)}},{key:"unSubscribeConfList",value:function(){v.info("tup_confctrl_unsubscribe_conf_list");var e={description:"tup_confctrl_unsubscribe_conf_list",cmd:458834};return this.sendMessage(e)}},{key:"cancelConf",value:function(e){v.info("tup_confctrl_delete_conf");var t={description:"tup_confctrl_delete_conf",cmd:458833,param:{id:e}};return this.sendMessage(t)}},{key:"confCertificateCheck",value:function(e){v.info("tup_confctrl_set_tls_param");var t={description:"tup_confctrl_set_tls_param",cmd:458824,param:e};return this.sendMessage(t)}},{key:"getConfInfo",value:function(e){v.info(",tup_confctrl_get_conf_info,page_index = "+e.page_index+",page_size = "+e.page_size+",sub_conf_id = "+e.sub_conf_id+",conf_id = "+e.conf_id);var t={description:"tup_confctrl_get_conf_info",cmd:458791,param:{get_conf_info:e}};return this.sendMessage(t)}},{key:"transferChairman",value:function(e,t){v.info("tup_confctrl_transfer_chairman");var n={description:"tup_confctrl_transfer_chairman",cmd:458828,param:{conf_handle:e,attendee:t}};return this.sendMessage(n)}},{key:"requestConfCtrlRight",value:function(e,t,n,a){v.info("tup_confctrl_request_confctrl_right");var r={description:"tup_confctrl_request_confctrl_right",cmd:458798,param:{conf_handle:e,number:t,password:n,tmp_token:a}};return this.sendMessage(r)}},{key:"getDataConfBigParam",value:function(e){var t={description:"tup_confctrl_get_dataconf_params_syn",cmd:458772,param:{conf_params:e}};return this.sendMessage(t)}},{key:"getDataConfResource",value:function(e){var t={description:"tup_confctrl_get_conf_resource",cmd:458823,param:{conf_params:e}};return this.sendMessage(t)}},{key:"getConfAuthInfo",value:function(e){var t={description:"tup_confctrl_get_conf_authinfo",cmd:458825,param:{conf_id:e}};return this.sendMessage(t)}},{key:"sendWatchSvcRequest",value:function(e){v.info("tup_confctrl_watch_svc_attendees ,user_num = "+handlePhoneNumber(e.user_num)+",conf_handle = "+e.conf_handle+",count = "+e.svc_watch_attendee.count);var t={description:"tup_confctrl_watch_svc_attendees",cmd:458802,param:e};return this.sendMessage(t)}},{key:"broadcastAttendee",value:function(e,t,n){v.info(",tup_confctrl_broadcast_attendee ,confHandle = "+e+",isBroadcast = "+t+",number = "+handlePhoneNumber(n));var a={description:"tup_confctrl_broadcast_attendee",cmd:458782,param:{conf_handle:e,to_broadcast:t,number:n}};return this.sendMessage(a)}},{key:"postponeConfTup",value:function(e,t){v.info("tup_confctrl_postpone_conf",e,t);var n={description:"tup_confctrl_postpone_conf",cmd:458765,param:{conf_handle:e,time:t}};return this.sendMessage(n)}},{key:"setLocalConfName",value:function(e){v.info("tup_confctrl_set_local_confname");var t={description:"tup_confctrl_set_local_confname",cmd:458826,param:{conf_name:e}};return this.sendMessage(t)}},{key:"confctrlWatchAttendee",value:function(e,t){v.info(",tup_confctrl_watch_attendee,confHandle = "+e+",number = "+handlePhoneNumber(t));var n={description:"tup_confctrl_watch_attendee",cmd:458781,param:{conf_handle:e,watch_attendee:{attendee:[{number:t}]}}};return this.sendMessage(n)}},{key:"creatConfHandle",value:function(e){v.info("tup_confctrl_create_conf_handle");var t={description:"tup_confctrl_create_conf_handle",cmd:458779,param:{type:1,conf_id:e}};return this.sendMessage(t)}},{key:"destroyConfHandle",value:function(e){v.info("tup_confctrl_destroy_conf_handle");var t={description:"tup_confctrl_destroy_conf_handle",cmd:458780,param:{conf_handle:e}};return this.sendMessage(t)}},{key:"changeActiveDirection",value:function(e,t){v.info("tup_confctrl_switch_audit_sites_dir");var n={description:"tup_confctrl_switch_audit_sites_dir",cmd:458814,param:{conf_handle:e,dir:t?1:0}};return this.sendMessage(n)}},{key:"cloudRecordRequest",value:function(e,t,n){v.info("tup_confctrl_record_broadcast");var a={description:"tup_confctrl_record_broadcast",cmd:458816,param:{conf_handle:e,message_id:t,switch_type:n,reason:0}};return this.sendMessage(a)}},{key:"confSignRequest",value:function(e,t,n,a,r,i,o){v.info("tup_confctrl_report_sign_info,confHandle = "+e+",attendee = "+handlePhoneNumber(t));var s={description:"tup_confctrl_report_sign_info",cmd:458832,param:{conf_handle:e,attendee:t,sign_params:{sign_num:1,sign_content:[{uportal_id:n,uportal_id_len:a,user_name:r,user_name_len:i,sign_time:o,sign_type:0}]}}};return this.sendMessage(s)}},{key:"confHandUp",value:function(e,t,n){v.info("tup_confctrl_handup");var a={description:"tup_confctrl_handup",cmd:458769,param:{conf_handle:e,to_handup:t,attendee:n}};return this.sendMessage(a)}},{key:"confInviteHardTerminal",value:function(e,t,n,a,r){v.info("tup_confctrl_add_attendee_with_pwd");var i={description:"tup_confctrl_add_attendee_with_pwd",cmd:458837,param:{conf_id:e,number:t,pwd:n,org_id:a,number_type:r}};return this.sendMessage(i)}},{key:"changeVmrInfo",value:function(e){v.info("tup_confctrl_change_vmr_info");var t={cmd:458838,description:"tup_confctrl_change_vmr_info",param:{conf_id:e.vmrId,vmr_name:e.name,guest_pwd:e.guestPwd,chair_pwd:e.chairmanPwd}};return this.sendMessage(t)}}]),e}();t.default=h},2158:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(1),i=a(r),o=n(135),s=a(o),c=n(2),u=a(c),d=n(3),_=a(d),p=n(4),l=a(p),f=n(5),m=a(f),v=coreLogger.getLogger("tup")("ctd"),g=coreCommon.getTupProtocolClass(),h=function(){function e(t){var n=this;return(0,l.default)(this,e),new _.default(function(){var e=(0,u.default)(i.default.mark(function e(a,r){var o;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={key:constant.TupModuleKey.ctd,moduleName:"tup_ctd_service_protocol",webSocketUri:""},(0,s.default)(o,t),e.next=4,new g(o);case 4:n.tupProtocol=e.sent,a(n);case 6:case"end":return e.stop()}},e,n)}));return function(t,n){return e.apply(this,arguments)}}())}return(0,m.default)(e,[{key:"sendMessage",value:function(e){var t=this;return new _.default(function(n,a){var r=Sno();(0,s.default)(e,{sno:r});var i={resolve:n,data:e};t.tupProtocol.setRspFuncsAndSendMessage(i)})}},{key:"setNotifyFunc",value:function(e,t){this.tupProtocol.setNotifyFunc(e,t)}},{key:"ctdSetServerParam",value:function(e,t){var n={description:"tup_ctd_set_server_param",cmd:786437,param:{para:{server_addr:e,port:parseInt(t)}}};return v.info("start tup_ctd_set_server_param"),this.sendMessage(n)}},{key:"ctdSetProxy",value:function(e,t,n,a){var r={description:"tup_ctd_set_proxy",cmd:786438,param:{proxy_param:{port:parseInt(t),uri:e,user_name:n,password:a}}};return v.info("start tup_ctd_set_proxy"),this.sendMessage(r)}},{key:"ctdStartCall",value:function(e,t,n,a){var r={description:"tup_ctd_start_call",cmd:786439,param:{ctd_param:{caller_number:e,callee_number:t,token:n,subscribe_number:a}}};return v.info("start tup_ctd_start_call"),this.sendMessage(r)}},{key:"ctdSetTls",value:function(e,t){var n={description:"tup_ctd_set_tls_param",cmd:786442,param:{verify_mode:t,ca_cert_path:e,verify_server_mode:0}};return this.sendMessage(n)}}]),e}();t.default=h},2159:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(1),i=a(r),o=n(135),s=a(o),c=n(2),u=a(c),d=n(3),_=a(d),p=n(69),l=a(p),f=n(4),m=a(f),v=n(5),g=a(v),h=coreLogger.getLogger("dataconf")("service"),y=coreCommon.getTupProtocolClass(),k=function(){function e(t){var n=this;return(0,m.default)(this,e),this.asSetSharetype=function(e,t){var n={cmd:40000683,description:"tup_conf_as_set_sharetype",param:{confHandle:e,sharingtype:t}};return this.sendMessage(n)},this.asRequestKeyframe=function(e){var t={cmd:40000682,description:"tup_conf_as_request_keyframe",param:{confHandle:e}};return this.sendMessage(t)},this.asStart=function(e){h.info("tup_conf_as_start");var t={cmd:40000608,description:"tup_conf_as_start",param:{confHandle:e}};return this.sendMessage(t)},this.asStop=function(e){var t={cmd:40000609,description:"tup_conf_as_stop",param:{confHandle:e}};return this.sendMessage(t)},this.asSetOwner=function(e,t,n){var a={cmd:40000605,description:"tup_conf_as_set_owner",param:{action:e,confHandle:t,userid:n}};return this.sendMessage(a)},this.asSetOperateToken=function(e,t,n,a){var r={cmd:40000136,description:"tup_conf_operate_token",param:{confHandle:e,userid:t,ucOperType:n,ucTokenType:a}};return this.sendMessage(r)},this.asGetApplist=function(e){h.info("data conf sdk asGetApplist");var t={cmd:40000687,description:"tup_conf_as_getapplist",param:{confHandle:e}};return h.info("data conf sdk asGetApplist, data = ",t),this.sendMessage(t)},this.asSetSharingDisplay=function(e,t){h.info("data conf sdk asSetSharingDisplay");var n={cmd:40000691,description:"tup_conf_as_set_sharing_display",param:{confHandle:e,index:t}};return h.info("data conf sdk asSetSharingDisplay, data = ",n),this.sendMessage(n)},this.asGetDisplayInfo=function(e){h.info("data conf sdk asGetDisplayInfo");var t={cmd:40000689,description:"tup_conf_as_get_displayinfo",param:{confHandle:e}};return h.info("data conf sdk asGetDisplayInfo, data = ",t),this.sendMessage(t)},this.asSetTransparentwindow=function(e,t,n){h.info("tup_conf_as_set_transparentwindow");var a={cmd:40000695,description:"tup_conf_as_set_transparentwindow",param:{confHandle:e,hwnd:t,action:n}};return h.info("tup_conf_as_set_transparentwindow, data = ",a),this.sendMessage(a)},this.asSetSharingapp=function(e,t,n){h.info("data conf sdk asSetSharingapp");var a={cmd:40000688,description:"tup_conf_as_setsharingapp",param:{confHandle:e,pappwnd:t,action:n}};return h.info("data conf sdk asSetSharingapp, data = ",a),this.sendMessage(a)},this.openSelfVideo=function(e,t,n){var a={cmd:40000200,description:"tup_conf_video_open",param:{confHandle:e,deviceid:t,preview:n}};return this.sendMessage(a)},this.closeSelfVideo=function(e,t){var n={cmd:40000201,description:"tup_conf_video_close",param:{confHandle:e,deviceid:t}};return this.sendMessage(n)},this.annotationSetConfig=function(e,t){var n={cmd:40000802,description:"tup_conf_annotation_set_config",param:{confHandle:e,ciid:t}};return this.sendMessage(n)},this.annotationSetPen=function(e,t,n,a){var r={cmd:40000819,description:"tup_conf_annotation_set_pen",param:{confHandle:e,ciid:t,newpen:n,pentype:a}};return this.sendMessage(r)},this.annotationCreateStart=function(e,t,n,a,r,i,o){var s={cmd:40000803,description:"tup_conf_annotation_create_start",param:{pageid:e,point:t,subtype:n,docid:a,confHandle:r,ciid:i,type:o}};return this.sendMessage(s)},this.annotationCreateDrawingUpdate=function(e,t,n){var a={cmd:40000805,description:"tup_conf_annotation_create_update",param:{confHandle:e,ciid:t,pdata:n}};return this.sendMessage(a)},this.annotationCreateDone=function(e,t,n,a){var r={cmd:40000822,description:"tup_conf_annotation_create_done",param:{ret_annoid:e,confHandle:t,ciid:n,bCancel:a}};return this.sendMessage(r)},this.asBeginAnnotation=function(e){var t={cmd:40000684,description:"tup_conf_as_begin_annotation",param:{confHandle:e}};return this.sendMessage(t)},this.confUpdateParam=function(e,t,n){var a={description:"tup_conf_update_param",cmd:40000111,param:{confHandle:e,param_name:t,pbuffer:n,len:1}};return this.sendMessage(a)},this.docShareOpenFile=function(e,t){h.info("DocShare tup_conf_ds_open confHandle: "+e+" filePath: "+t);var n={description:"tup_conf_ds_open",cmd:40000400,param:{confHandle:e,filename:t}};return this.sendMessage(n)},this.docShareGetPageIdByPageNo=function(e,t,n){h.info("DocShare tup_conf_ds_get_pageid_byno confHandle: "+e+" docID: "+t+" pageNo: "+n);var a={description:"tup_conf_ds_get_pageid_byno",cmd:40000421,param:{confHandle:e,ciid:1,docid:t,pageno:n}};return this.sendMessage(a)},this.asSendUserDataUInt=function(e,t,n,a){this.asSendUserData(e,t,n,a,4,2)},this.asSendUserDataString=function(e,t,n,a,r){this.asSendUserData(e,t,n,a,r,4)},this.docShareSetCurPage=function(e,t,n,a){h.info("DocShare tup_conf_ds_set_current_page confHandle: "+e+" docID: "+t+" pageId: "+n+" bSync: "+a);var r={description:"tup_conf_ds_set_current_page",cmd:40000402,param:{confHandle:e,ciid:1,docid:t,pageid:n,sync:a}};return this.sendMessage(r)},this.docShareStop=function(e,t){h.info("DocShare tup_conf_ds_close confHandle: "+e+" docid: "+t);var n={description:"tup_conf_ds_close",cmd:40000401,param:{confHandle:e,docid:t}};return this.sendMessage(n)},this.asEndAnnotation=function(e){h.info("DocShare tup_conf_as_end_annotation confHandle: "+e);var t={cmd:40000685,description:"tup_conf_as_end_annotation",param:{confHandle:e}};return this.sendMessage(t)},this.annotationSetBrush=function(e,t,n){h.info("DocShare tup_conf_annotation_set_brush confHandle: "+e+" ciid: "+t+" newbrush: "+n);var a={cmd:40000820,description:"tup_conf_annotation_set_brush",param:{confHandle:e,ciid:t,newbrush:n}};return this.sendMessage(a)},this.sendNotifyAllUsersCloseSharingTab=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;h.info("sendNotifyAllUsersCloseSharingTab");var a={cmd:40000108,description:"tup_conf_send_data",param:{confHandle:e,userid:0,msg_id:n,len:4,pbuffer:t,type:2}};return h.info("sendNotifyAllUsersCloseSharingTab notifymsgid ",n),this.sendMessage(a)},this.sendNotifyBigScreenRealRect=function(e,t,n){var a=(0,l.default)({width:t,height:n}),r={cmd:40000108,description:"tup_conf_send_data",param:{confHandle:e,userid:0,msg_id:77,len:a.length,pbuffer:a,type:4}};return this.sendMessage(r)},this.asSendUserData=function(e,t,n,a,r,i){var o={cmd:40000696,description:"tup_conf_as_senduserdata",param:{confHandle:e,datatype:t,userid:n,pbuffer:a,len:r,type:2}};return h.info("asSendUserData ",o),this.sendMessage(o)},this.dsSetCurrentPage=function(e,t,n,a,r){h.info("dsSetCurrentPage confHandle: "+e+" ciid: "+t+" docid: "+n+" pageid: "+a+" sync: "+r);var i={description:"tup_conf_ds_set_current_page",cmd:40000402,param:{confHandle:e,ciid:t,docid:n,pageid:a,sync:r}};return this.sendMessage(i)},this.dsGetPageinfo=function(e,t,n,a){h.info("DocShare tup_conf_ds_get_pageinfo confHandle: "+e+" docid: "+n+" pageid: "+a);var r={description:"tup_conf_ds_get_pageinfo",cmd:40000422,param:{confHandle:e,ciid:t,docid:n,pageid:a}};return this.sendMessage(r,40002227)},this.regCustomerType=function(e,t){var n={cmd:40000801,description:"tup_conf_annotation_reg_customer_type",param:{confHandle:e,ciid:t}};return h.info("regCustomerType ",n),this.sendMessage(n)},this.initAnnotationResource=function(e,t,n){var a={cmd:40000800,description:"tup_conf_annotation_init_resource",param:{confHandle:e,ciid:t,path:n}};return h.info("initAnnotationResource ",a),this.sendMessage(a)},this.createWBNewDoc=function(e){var t={cmd:40000500,description:"tup_conf_ds_new_doc",param:{confHandle:e}};return h.info("wbCreateNewDoc ",t),this.sendMessage(t)},this.createWBNewPage=function(e,t,n,a){var r={cmd:40000501,description:"tup_conf_ds_new_page",param:{confHandle:e,docid:t,width:n,height:a}};return h.info("createWBNewPage ",r),this.sendMessage(r)},this.setWBCurrentPage=function(e,t,n,a,r){var i={cmd:40000505,description:"tup_conf_ds_set_current_page",param:{confHandle:e,ciid:t,docid:n,pageid:a,sync:r}};return h.info("setWBCurrentPage ",i),this.sendMessage(i)},this.deleteWBDoc=function(e,t){var n={cmd:40000503,description:"tup_conf_ds_delete_doc",param:{confHandle:e,docid:t}};return h.info("deleteWBDoc ",n),this.sendMessage(n)},this.deleteWBPage=function(e,t,n){var a={cmd:40000504,description:"tup_conf_ds_delete_doc",param:{confHandle:e,docid:t,pageid:n}};return h.info("deleteWBPage ",a),this.sendMessage(a)},this.confUpdateParam=function(e,t,n){var a={description:"tup_conf_update_param",cmd:40000111,param:{confHandle:e,param_name:t,pbuffer:n,len:n.length}};return this.sendMessage(a)},new _.default(function(){var e=(0,u.default)(i.default.mark(function e(a,r){var o;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={key:constant.TupModuleKey.dataconf,moduleName:"tup_dataconf_service_protocol",webSocketUri:""},(0,s.default)(o,t),e.next=4,new y(o);case 4:n.tupProtocol=e.sent,a(n);case 6:case"end":return e.stop()}},e,n)}));return function(t,n){return e.apply(this,arguments)}}())}return(0,g.default)(e,[{key:"init",value:function(e){var t={description:"tup_conf_init",cmd:40000003,param:{selfthread:!0,os_type:1,dev_type:e.dev_type,media_log_level:2,sdk_log_level:2,log_path:e.log_path,temp_path:e.temp_path,dev_dpi_x:0,dev_dpi_y:0,conf_mode:2,sdk_log_max_count:5,sdk_log_name_mode:1}};return h.info("dataconf init logpath ",e),this.sendMessage(t)}},{key:"uninit",value:function(){var e={description:"tup_conf_uninit",cmd:40000004,param:{}};return h.info("dataconf uninit "),this.sendMessage(e)}},{key:"sendMessage",value:function(e){var t=this;return h.info("dataConfWebSocket sendMessage: "+e.cmd),new _.default(function(n,a){var r={resolve:n,data:e};t.tupProtocol.setRspFuncsAndSendMessage(r)})}},{key:"sleep",value:function(e){return new _.default(function(t,n){setTimeout(function(){t(new Error("timeout"))},e)})}},{key:"setNotifyFunc",value:function(e,t){this.tupProtocol.setNotifyFunc(e,t)}},{key:"loadComponent",value:function(e,t){var n={description:"tup_conf_load_component",cmd:40000109,param:{confHandle:e,compts:t}};return this.sendMessage(n)}},{key:"asSetPrivilege",value:function(e,t,n,a){var r={cmd:40000600,description:"tup_conf_as_set_privilege",param:{confHandle:e,userid:t,privilege:n,action:a}};return this.sendMessage(r)}},{key:"asRequestPrivilege",value:function(e,t){var n={cmd:40000601,description:"tup_conf_as_request_privilege",param:{confHandle:e,privilege:t}};return this.sendMessage(n)}},{key:"asInputwndmsg",value:function(e,t,n,a,r,i){var o={cmd:40000610,description:"tup_conf_as_inputwndmsg",param:{confHandle:e,msgid:t,lparam:n,wparam:a,pt:{x:r,y:i}}};return this.sendMessage(o)}},{key:"dsSetBgcolor",value:function(e,t,n){h.info("DocShare tup_conf_ds_set_bgcolor bgColor:"+e+", confHandle: "+t+" ciid: "+n);var a={cmd:40000406,description:"tup_conf_ds_set_bgcolor",param:{bgColor:e,confHandle:t,ciid:n}};this.sendMessage(a)}},{key:"dsSetDispmode",value:function(e,t,n){h.info("DocShare tup_conf_ds_set_dispmode ciid:"+t+", confHandle: "+e+" dispMode: "+n);var a={cmd:40000414,description:"tup_conf_ds_set_dispmode",param:{confHandle:e,ciid:t,dispMode:n}};this.sendMessage(a)}},{key:"dsSetCanvasSize",value:function(e,t,n,a){h.info("DocShare tup_conf_ds_set_canvas_size confHandle: "+e+" ciid: "+t+" redraw: "+n+" size: "+a);var r={cmd:40000410,description:"tup_conf_ds_set_canvas_size",param:{confHandle:e,ciid:t,redraw:n,size:a}};this.sendMessage(r)}},{key:"startjoinconf",value:function(e){h.info("startjoinconf start");var t={description:"tup_conf_start_joinconf",cmd:40000130,param:e};return this.sendMessage(t)}},{key:"leaveconf",value:function(e){h.info("leaveconf start");var t={description:"tup_conf_leave",cmd:40000101,param:{confHandle:e}};return this.sendMessage(t)}},{key:"terminateconf",value:function(e){h.info("terminateconf start");var t={description:"tup_conf_terminate",cmd:40000102,param:{confHandle:e}};return this.sendMessage(t)}},{key:"releaseDataConfHandle",value:function(e){h.info("releasedataconfhandle");var t={description:"tup_conf_release",cmd:40000002,param:{confHandle:e}};return this.sendMessage(t)}},{key:"setDataShareScreenParam",value:function(e,t){var n={description:"tup_conf_as_setparam",cmd:40000603,param:{confHandle:e,ulPorpType:6,ip1:t.width,ip2:t.height}};return h.info("setDataShareScreenParam ",n),this.sendMessage(n)}},{key:"setDynaicAnnoBackGroundParam",value:function(e){var t={description:"tup_conf_as_setparam",cmd:40000603,param:{confHandle:e,ulPorpType:38,ip1:1,ip2:0}};return h.info("setDynaicAnnoBackGroundParam ",t),this.sendMessage(t)}},{key:"setDataShareRealRect",value:function(e,t,n,a,r){var i={description:"tup_conf_as_setparam",cmd:40000603,param:{confHandle:e,ulPorpType:21,ip1:0,ip2:0,sharerect:{left:t,top:n,right:a,bottom:r}}};return h.info("setDataShareScreenParam ",i),this.sendMessage(i)}},{key:"setAppShareScreenParam",value:function(e,t,n){var a={description:"tup_conf_as_setparam",cmd:40000603,param:{confHandle:e,ulPorpType:t,ip1:n.width,ip2:n.height}};return h.info("setAppShareScreenParam ",a),this.sendMessage(a)}},{key:"setDataShareScreenPicQuality",value:function(e,t){h.info("the desktop share setting size is ",t);var n={description:"tup_conf_as_setparam",cmd:40000603,param:{confHandle:e,ulPorpType:3,ip1:t,ip2:0}};return h.info("setDataShareScreenPicQuality ",n),this.sendMessage(n)}},{key:"setDataShareScreenCaptureType",value:function(e,t){h.info("the desktop share capture type is ",t);var n={description:"tup_conf_as_setparam",cmd:40000603,param:{confHandle:e,ulPorpType:9,ip1:t,ip2:0}};return h.info("setDataShareScreenCaptureType ",n),this.sendMessage(n)}},{key:"setDataShareVersion",value:function(e,t){h.info("the data share version is ",t);var n={description:"tup_conf_as_setparam",cmd:40000603,param:{confHandle:e,ulPorpType:31,ip1:t,ip2:0}};return h.info("setDataShareVersion ",n),this.sendMessage(n)}},{key:"setDataCodecVersion",value:function(e,t){h.info("the data codec version is ",t);var n={description:"tup_conf_as_setparam",cmd:40000603,param:{confHandle:e,ulPorpType:32,ip1:t,ip2:0}};return h.info("setDataCodecVersion ",n),this.sendMessage(n)}},{key:"setShareStrategy",value:function(e,t){h.info("the share strategy is ",t);var n={description:"tup_conf_as_setparam",cmd:40000603,param:{confHandle:e,ulPorpType:37,ip1:t,ip2:0}};return h.info("setShareStrategy ",n),this.sendMessage(n)}},{key:"setShareAudio",value:function(e,t){h.info("the share audio is ",t);var n={description:"tup_conf_as_setparam",cmd:40000603,param:{confHandle:e,ulPorpType:39,ip1:t,ip2:0}};return h.info("setShareAudio ",n),this.sendMessage(n)}},{key:"setDataNegoMaxCap",value:function(e,t,n,a,r,i,o,s,c){h.info("set the negotiation max capability ");var u={description:"tup_conf_as_setparam",cmd:40000603,param:{confHandle:e,ulPorpType:33,capability:{encodevertype:t,maxbitrate:n,maxdecodebitrate:n,maxdecodesizewidth:a,maxdecodesizehight:r,maxdecodeframerate:i,maxencodesizewidth:o,maxencodesizehight:s,maxencodeframerate:c}}};return h.info("setDataNegoMaxCap ",u),this.sendMessage(u)}},{key:"bfcpWinAttach",value:function(e,t){var n={description:"tup_conf_attach",cmd:40000606,param:{confHandle:e,channel_type:4,hwnd:t}};return h.info("attach bfcp win handle: ",n),this.sendMessage(n)}},{key:"bfcpWinDetach",value:function(e){var t={description:"tup_conf_detach",cmd:40000607,param:{confHandle:e,channel_type:4}};return h.info("detach bfcp win handle: "+t),this.sendMessage(t)}},{key:"getStreamInfo",value:function(e){var t={description:"tup_conf_as_getstreaminfo",cmd:40000697,param:{confHandle:e}};return h.info("getStreamInfo: ",t),this.sendMessage(t)}}]),e}();t.default=k},2160:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(1),i=a(r),o=n(135),s=a(o),c=n(2),u=a(c),d=n(3),_=a(d),p=n(4),l=a(p),f=n(5),m=a(f),v=coreLogger.getLogger("tup")("im"),g=coreCommon.getTupProtocolClass(),h=function(){function e(t){var n=this;return(0,l.default)(this,e),new _.default(function(){var e=(0,u.default)(i.default.mark(function e(a,r){var o;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={key:constant.TupModuleKey.im,moduleName:"tup_im_service_protocol",webSocketUri:""},(0,s.default)(o,t),e.next=4,new g(o);case 4:n.tupProtocol=e.sent,a(n);case 6:case"end":return e.stop()}},e,n)}));return function(t,n){return e.apply(this,arguments)}}())}return(0,m.default)(e,[{key:"setserveraddress",value:function(e,t){var n={cmd:131075,description:"tup_im_setserveraddress",param:{ip:e,port:t}};return this._service(n,3)}},{key:"login",value:function(e){var t={cmd:131076,description:"tup_im_login",param:e};return this._service(t,4)}},{key:"logout",value:function(){var e={cmd:131077,description:"tup_im_logout"};return this._service(e,5)}},{key:"notifyiminputting",value:function(e){var t={cmd:131078,description:"tup_im_notifyiminputting",param:e};return this._service(t,6)}},{key:"getcontactlist",value:function(e){var t={cmd:131079,description:"tup_im_getcontactlist",param:e};return this._service(t,7)}},{key:"getserviceprofile",value:function(e){var t={cmd:131080,description:"tup_im_getserviceprofile",param:e};return this._service(t,8)}},{key:"getsysurl",value:function(){var e={cmd:131081,description:"tup_im_getsysurl"};return this._service(e,9)}},{key:"getuserinfo",value:function(e){var t={cmd:131082,description:"tup_im_getuserinfo",param:e};return this._service(t,10)}},{key:"addusergroup",value:function(e){var t={cmd:131083,description:"tup_im_addusergroup",param:e};return this._service(t,11)}},{key:"modusergroup",value:function(e){var t={cmd:131084,description:"tup_im_modusergroup",param:e};return this._service(t,12)}},{key:"delusergroup",value:function(e){var t={cmd:131085,description:"tup_im_delusergroup",param:{id:e}};return this._service(t,13)}},{key:"updateUsergroup",value:function(e){var t={cmd:131086,description:"tup_im_update_usergroup",param:e};return this._service(t,14)}},{key:"addfriend",value:function(e){var t={cmd:131087,description:"tup_im_addfriend",param:e};return this._service(t,15)}},{key:"deleteFriend",value:function(e){var t={cmd:131169,description:"tup_im_deletefriend",param:e};return this._service(t)}},{key:"delfriendorcontact",value:function(e){var t={cmd:131088,description:"tup_im_delfriendorcontact",param:e};return this._service(t,16)}},{key:"addcontact",value:function(e){var t={cmd:131089,description:"tup_im_addcontact",param:e};return this._service(t,17)}},{key:"modcontact",value:function(e){var t={cmd:131090,description:"tup_im_modcontact",param:e};return this._service(t,18)}},{key:"movecontactgroup",value:function(e){var t={cmd:131091,description:"tup_im_movecontactgroup",param:e};return this._service(t,19)}},{key:"detectuserstatus",value:function(e){var t={cmd:131092,description:"tup_im_detectuserstatus",param:e};return this._service(t,20)}},{key:"subscribeuserstatus",value:function(e){var t={cmd:131093,description:"tup_im_subscribeuserstatus",param:e};return this._service(t,21)}},{key:"unsubscribeuserstatus",value:function(e){var t={cmd:131094,description:"tup_im_unsubscribeuserstatus",param:e};return this._service(t,22)}},{key:"sendim",value:function(e){var t={cmd:131095,description:"tup_im_sendim",param:e};return this._service(t,23)}},{key:"setmessageread",value:function(e){var t={cmd:131096,description:"tup_im_setmessageread",param:e};return this._service(t,24)}},{key:"queryhistorymessage",value:function(e){var t={cmd:131097,description:"tup_im_queryHistoryMessage",param:e};return this._service(t,25)}},{key:"getdepts",value:function(e){var t={cmd:131098,description:"tup_im_getdepts",param:{deptID:e}};return this._service(t,26)}},{key:"queryuserinfo",value:function(e,t){var n={cmd:131100,description:"tup_im_queryuserinfo",param:{key:e,type:t}};return this._service(n,28)}},{key:"addfixedgroup",value:function(e){var t={cmd:131101,description:"tup_im_addfixedgroup",param:e};return this._service(t,29)}},{key:"modfixedgroup",value:function(e){var t={cmd:131102,description:"tup_im_modfixedgroup",param:e};return this._service(t,30)}},{key:"delfixedgroup",value:function(e){var t={cmd:131103,description:"tup_im_delfixedgroup",param:{id:e}};return this._service(t,31)}},{key:"addfixedgroupmember",value:function(e){var t={cmd:131104,description:"tup_im_addfixedgroupmember",param:e};return this._service(t,32)}},{key:"delfixedgroupmember",value:function(e){var t={cmd:131105,description:"tup_im_delfixedgroupmember",param:e};return this._service(t,33)}},{key:"confirmfixedgroupapply",value:function(e){var t={cmd:131106,description:"tup_im_confirmfixedgroupapply",param:e};return this._service(t,34)}},{key:"confirmfixedgroupinvite",value:function(e){var t={cmd:131107,description:"tup_im_confirmfixedgroupinvite",param:e};return this._service(t,35)}},{key:"joinfixedgroup",value:function(e){var t={cmd:131108,description:"tup_im_joinfixedgroup",param:e};return this._service(t,36)}},{key:"leavefixedgroup",value:function(e){var t={cmd:131109,description:"tup_im_leavefixedgroup",param:e};return this._service(t,37)}},{key:"transferfixedgroup",value:function(e){var t={cmd:131110,description:"tup_im_transferfixedgroup",param:e};return this._service(t,38)}},{key:"getfixedgroupdetail",value:function(e){var t={cmd:131111,description:"tup_im_getfixedgroupdetail",param:e};return this._service(t,39)}},{key:"getfixedgroupmembers",value:function(e){var t={cmd:131112,description:"tup_im_getfixedgroupmembers",param:e};return this._service(t,40)}},{key:"getfixedgroups",value:function(e){var t={cmd:131113,description:"tup_im_getfixedgroups",param:e};return this._service(t,41)}},{key:"adddiscussiongroup",value:function(e){var t={cmd:131114,description:"tup_im_adddiscussiongroup",param:e};return this._service(t,42)}},{key:"moddiscussiongroup",value:function(e){var t={cmd:131115,description:"tup_im_moddiscussiongroup",param:e};return this._service(t,43)}},{key:"deldiscussiongroup",value:function(e){var t={cmd:131116,description:"tup_im_deldiscussiongroup",param:{id:e}};return this._service(t,44)}},{key:"adddiscussiongroupmember",value:function(e){var t={cmd:131117,description:"tup_im_adddiscussiongroupmember",param:e};return this._service(t,45)}},{key:"deldiscussiongroupmember",value:function(e){var t={cmd:131118,description:"tup_im_deldiscussiongroupmember",param:e};return this._service(t,46)}},{key:"adddiscussiongroupphonemember",value:function(e){var t={cmd:131119,description:"tup_im_adddiscussiongroupphonemember",param:e};return this._service(t,47)}},{key:"deldiscussiongroupphonemember",value:function(e){var t={cmd:131120,description:"tup_im_deldiscussiongroupphonemember",param:e};return this._service(t,48)}},{key:"leavediscussiongroup",value:function(e){var t={cmd:131121,description:"tup_im_leavediscussiongroup",param:e};return this._service(t,49)}},{key:"leaveDiscussionGroup",value:function(e){var t={cmd:131122,description:"tup_im_leave_discussion_group",param:e};return this._service(t,50)}},{key:"transferdiscussiongroup",value:function(e){var t={cmd:131123,description:"tup_im_transferdiscussiongroup",param:e};return this._service(t,51)}},{key:"setDisgroupPolicy",value:function(e){var t={cmd:131124,description:"tup_im_set_disgroup_policy",param:e};return this._service(t,52)}},{key:"sendDisgroupOpMessage",value:function(e){var t={cmd:131125,description:"tup_im_send_disgroup_op_message",param:e};return this._service(t,53)}},{key:"setselfdefineimage",value:function(e){var t={cmd:131126,description:"tup_im_setselfdefineimage",param:{image:e}};return this._service(t,54)}},{key:"setsystemimage",value:function(e){var t={cmd:131127,description:"tup_im_setsystemimage",param:{imageID:e}};return this._service(t,55)}},{key:"setuserinfo",value:function(e){var t={cmd:131128,description:"tup_im_setuserinfo",param:e};return this._service(t,56)}},{key:"getuserdefineimage",value:function(e){var t={cmd:131129,description:"tup_im_getuserdefineimage",param:e};return this._service(t,57)}},{key:"publishstatus",value:function(e){var t={cmd:131130,description:"tup_im_publishstatus",param:e};return this._service(t,58)}},{key:"getConferenceList",value:function(e){var t={cmd:131131,description:"tup_im_get_conference_list",param:e};return this._service(t,59)}},{key:"getRecentConversation",value:function(e){var t={cmd:131132,description:"tup_im_gel_recent_conversation",param:e};return this._service(t,60)}},{key:"delRecentConversation",value:function(e){var t={cmd:131133,description:"tup_im_del_recent_conversation",param:e};return this._service(t,61)}},{key:"sendp2pfile",value:function(e){var t={cmd:131134,description:"tup_im_sendp2pfile",param:e};return this._service(t,62)}},{key:"acceptp2pfile",value:function(e){var t={cmd:131135,description:"tup_im_acceptp2pfile",param:e};return this._service(t,63)}},{key:"rejectp2pfile",value:function(e){var t={cmd:131136,description:"tup_im_rejectp2pfile",param:e};return this._service(t,64)}},{key:"cancelp2pfile",value:function(e){var t={cmd:131137,description:"tup_im_cancelp2pfile",param:e};return this._service(t,65)}},{key:"sendsms",value:function(e){var t={cmd:131138,description:"tup_im_sendsms",param:e};return this._service(t,66)}},{key:"groupFilePreUpload",value:function(e){var t={cmd:131139,description:"tup_im_groupfile_pre_upload",param:e};return this._service(t,67)}},{key:"groupFileReportUploadResult",value:function(e){var t={cmd:131140,description:"tup_im_groupfile_report_upload_result",param:e};return this._service(t,68)}},{key:"groupFilePreDelete",value:function(e){var t={cmd:131141,description:"tup_im_groupfile_pre_delete",param:e};return this._service(t,69)}},{key:"groupFileReportDeleteResult",value:function(e){var t={cmd:131142,description:"tup_im_groupfile_report_delete_result",param:e};return this._service(t,70)}},{key:"groupFileQuery",value:function(e){var t={cmd:131143,description:"tup_im_groupfile_query",param:e};return this._service(t,71)}},{key:"setLinkageStatus",value:function(e){var t={cmd:131144,description:"tup_im_set_linkage_status",param:{is_linkage:e}};return this._service(t,72)}},{key:"getLinkageStatus",value:function(e){var t={cmd:131145,description:"tup_im_get_linkage_status",param:e};return this._service(t,73)}},{key:"setNetAccessMode",value:function(e){var t={cmd:131150,description:"tup_im_set_net_access_mode",param:{mode:e}};return this._service(t,78)}},{key:"setdispatchmessage",value:function(e){var t={cmd:131151,description:"tup_im_setdispatchmessage",param:{isdispatch:e}};return this._service(t,79)}},{key:"setgroupmsgpolicy",value:function(e){var t={cmd:131152,description:"tup_im_set_group_msg_prompt_policy",param:e};return this._service(t,80)}},{key:"clientReport",value:function(e){var t={cmd:131154,description:"tup_im_client_performance_report",param:e};return this._service(t,82)}},{key:"withdrawIm",value:function(e){var t={cmd:131155,description:"tup_im_withdraw_msg",param:e};return this._service(t,83)}},{key:"sendHeartBeat",value:function(e){var t={cmd:131156,description:"tup_im_sendheartbeat",param:e};return this._service(t,84)}},{key:"registerPush",value:function(e){var t={cmd:131157,description:"tup_im_register_push",param:e};return this._service(t,85)}},{key:"modifyGroupType",value:function(e){var t={cmd:131158,description:"tup_im_modify_group_type",param:e};return this._service(t,86)}},{key:"kickOut",value:function(){var e={cmd:131160,description:"tup_im_kick_out"};return this._service(e,88)}},{key:"getServiceUtcTime",value:function(){var e={cmd:131161,description:"tup_im_get_service_utc_time"};return this._service(e,89,1e4)}},{key:"activateP2PPort",value:function(e){var t={cmd:131162,description:"tup_im_active_p2p_port",param:{is_active:!0===e?1:0}};return this._service(t,90)}},{key:"deleteHistoryMessage",value:function(e){var t={cmd:131163,description:"tup_im_del_history_message",param:e};return this._service(t,90)}},{key:"setTlsParam",value:function(e){var t={cmd:131164,description:"tup_im_set_tls_param",param:e};return this._service(t,91)}},{key:"setCipher",value:function(e){var t={cmd:131165,description:"tup_im_set_cipher",param:e};return this._service(t,92)}},{key:"toppingConversation",value:function(e){var t={cmd:131166,description:"tup_im_top_recent_conversation",param:e};return this._service(t,94)}},{key:"opengroupspace",value:function(e){var t={cmd:131159,description:"tup_im_open_group_space",param:e};return this._service(t,93)}},{key:"setMuteForMobile",value:function(e){var t={cmd:131167,description:"tup_im_set_mute_for_mobile",param:e};return v.info("tup setMuteForMobile = ",t),this._service(t,94)}},{key:"getMuteForMobile",value:function(){var e={cmd:131168,description:"tup_im_get_mute_for_mobile"};return v.info("tup getMuteForMobile = ",e),this._service(e,95)}},{key:"logoutForce",value:function(){var e={cmd:131170,description:"tup_im_logout_force"};return this._service(e,96)}},{key:"setBasicImEvent",value:function(e){e&&("function"==typeof e.onHeartBeat&&this._notify(0,e.onHeartBeat),"function"==typeof e.onSysUrlRet&&this._notify(1,e.onSysUrlRet),"function"==typeof e.onLogout&&this._notify(2,e.onLogout)),e&&"function"==typeof e.onKickOut&&this._notify(3,e.onKickOut),e&&"function"==typeof e.onMultiDevice&&this._notify(4,e.onMultiDevice),e&&"function"==typeof e.onGeneral&&this._notify(5,e.onGeneral),e&&"function"==typeof e.onAddFriend&&this._notify(6,e.onAddFriend),e&&"function"==typeof e.onUserInfoChange&&this._notify(8,e.onUserInfoChange),e&&"function"==typeof e.onInput&&this._notify(34,e.onInput),e&&"function"==typeof e.onCodeChat&&this._notify(35,e.onCodeChat),e&&"function"==typeof e.onChatList&&this._notify(36,e.onChatList),e&&"function"==typeof e.onSystemBulletin&&this._notify(37,e.onSystemBulletin),e&&"function"==typeof e.onSms&&this._notify(38,e.onSms),e&&"function"==typeof e.onUnDeliver&&this._notify(39,e.onUnDeliver),e&&"function"==typeof e.onMsgRead&&this._notify(40,e.onMsgRead),e&&"function"==typeof e.onMsgSendAck&&this._notify(41,e.onMsgSendAck),e&&"function"==typeof e.onUserStatusList&&this._notify(43,e.onUserStatusList),e&&"function"==typeof e.onWithdrawAck&&this._notify(44,e.onWithdrawAck),e&&"function"==typeof e.onWithdrawNotify&&this._notify(45,e.onWithdrawNotify),e&&"function"==typeof e.onOprCommand&&this._notify(46,e.onOprCommand),e&&"function"==typeof e.onTlsStateChange&&this._notify(47,e.onTlsStateChange),e&&"function"==typeof e.onTopRecentConversation&&this._notify(48,e.onTopRecentConversation),e&&"function"==typeof e.userInfoOprNotify&&this._notify(49,e.userInfoOprNotify)}},{key:"setImErrorEvent",value:function(e){e&&"function"==typeof e.onImErrorDeals&&this._notify(50,e.onImErrorDeals)}},{key:"setGroupFileImEvent",value:function(e){}},{key:"setGroupImEvent",value:function(e){e&&"function"==typeof e.onApplyJoinFixedGroupResult&&this._notify(10,e.onApplyJoinFixedGroupResult),e&&"function"==typeof e.onFixedGroupMemberAdd&&this._notify(11,e.onFixedGroupMemberAdd),e&&"function"==typeof e.onFixedGroupMemberDel&&this._notify(12,e.onFixedGroupMemberDel),e&&"function"==typeof e.onFixedGroupInfoChg&&this._notify(13,e.onFixedGroupInfoChg),e&&"function"==typeof e.onFixedGroupOwnerChg&&this._notify(14,e.onFixedGroupOwnerChg),e&&"function"==typeof e.onReceiveInviteToFixedGroup&&this._notify(15,e.onReceiveInviteToFixedGroup),e&&"function"==typeof e.onReceiveInviteJoinFixedGroup&&this._notify(16,e.onReceiveInviteJoinFixedGroup),e&&"function"==typeof e.onFixedGroupWasAddedToGroup&&this._notify(17,e.onFixedGroupWasAddedToGroup),e&&"function"==typeof e.onFixedGroupDismiss&&this._notify(18,e.onFixedGroupDismiss),e&&"function"==typeof e.onFixedGroupOwnerInviteResult&&this._notify(19,e.onFixedGroupOwnerInviteResult),e&&"function"==typeof e.onFixedGroupLeaveResult&&this._notify(20,e.onFixedGroupLeaveResult),e&&"function"==typeof e.onFixedGroupLeaveResult&&this._notify(21,e.onFixedGroupLeaveResult),e&&"function"==typeof e.onDiscussGroupAddMember&&this._notify(22,e.onDiscussGroupAddMember),e&&"function"==typeof e.onDiscussGroupDelMember&&this._notify(23,e.onDiscussGroupDelMember),e&&"function"==typeof e.onDiscussGroupInfoChg&&this._notify(24,e.onDiscussGroupInfoChg),e&&"function"==typeof e.onDiscussGroupWasAddToGroup&&this._notify(25,e.onDiscussGroupWasAddToGroup),e&&"function"==typeof e.onDiscussGroupOwnerChange&&this._notify(26,e.onDiscussGroupOwnerChange),e&&"function"==typeof e.onDiscussGroupDismiss&&this._notify(27,e.onDiscussGroupDismiss),e&&"function"==typeof e.onDiscussGroupBroadcast&&this._notify(28,e.onDiscussGroupBroadcast),e&&"function"==typeof e.onGroupFile&&this._notify(42,e.onGroupFile)}},{key:"_service",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:35e3;return new _.default(function(t,r){var i=Sno();(0,s.default)(e,{sno:i}),v.debug("_service",e);var o={resolve:n._requestFunc(t,e.description),timeoutTime:a,data:e};n.tupProtocol.setRspFuncsAndSendMessage(o)})}},{key:"_notify",value:function(e,t){"function"==typeof t&&this.tupProtocol.setNotifyFunc(e,t)}},{key:"_requestFunc",value:function(e,t){return function(t){e(t)}}}]),e}();t.default=h},2161:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(1),i=a(r),o=n(135),s=a(o),c=n(2),u=a(c),d=n(3),_=a(d),p=n(4),l=a(p),f=n(5),m=a(f),v=coreLogger.getLogger("tup")("offlineFile"),g=coreCommon.getTupProtocolClass(),h=function(){function e(t){var n=this;return(0,l.default)(this,e),new _.default(function(){var e=(0,u.default)(i.default.mark(function e(a,r){var o;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={key:constant.TupModuleKey.offline,moduleName:"tup_offline_protocol",webSocketUri:""},(0,s.default)(o,t),e.next=4,new g(o);case 4:n.tupProtocol=e.sent,a(n);case 6:case"end":return e.stop()}},e,n)}));return function(t,n){return e.apply(this,arguments)}}())}return(0,m.default)(e,[{key:"setOfflineFileNotifyEvent",value:function(e){e&&"function"==typeof e.onOffLineRspNotify&&this.tupProtocol.setNotifyFunc(1,e.onOffLineRspNotify),e&&"function"==typeof e.onOffLineProgNotify&&this.tupProtocol.setNotifyFunc(2,e.onOffLineProgNotify),e&&"function"==typeof e.onLoginError&&this.tupProtocol.setNotifyFunc(4,e.onLoginError)}},{key:"setOfflineFileErrorNotifyEvent",value:function(e){e&&"function"==typeof e.onOfflineErrorNotify&&this.tupProtocol.setNotifyFunc(3,e.onOfflineErrorNotify)}},{key:"init",value:function(e){var t={cmd:589825,description:"tup_offlinefile_init",param:{config:e}};return this._response(t,1)}},{key:"closelog",value:function(){var e={cmd:589827,description:"tup_offlinefile_closelog"};return this._response(e,3)}},{key:"login",value:function(e){var t={cmd:589828,description:"tup_offlinefile_login",param:{log_file_size:{device_version:"1.2.3.17",device_sn:e.device_sn,app_name:e.app_name,device_type:e.device_type,login_type:e.login_type,device_os:e.device_os,device_name:"W00192586AK",login_name:e.login_name,is_sso_login:e.is_sso_login,access_token:e.access_token,pass_word:e.pass_word,server_domain:e.server_domain,corp_id:e.corp_id},pst_login_info:{kia_disabled:e.kia_disabled,en_tls_mode:e.en_tls_mode,local_ip:e.local_ip,time_out:0,try_connect_time_out:0,reverse_proxy:e.reverse_proxy,proxy:e.proxy,encry_trans:1,en_server_mode:e.en_server_mode,https_ser_list:e.https_ser_list,http_ser_list:e.http_ser_list,server_expired_at:18e5,max_file_size:3221225472,part_trans:e.part_trans,min_part_size:41943040,part_trans_size:1024*parseInt(window.CLIENTCONFIG["Device.ComCfg.IM.perFragmentsize"])*1024,st_tls_para:{client_cert_path:"",client_key_kype:"",en_verify_server_mode:0,client_key_path:"",client_priv_keypw:"",ca_cert_path:e.ca_cert_path,client_cert_type:""}}}};return this._response(t,4)}},{key:"logout",value:function(){var e={cmd:589829,description:"tup_offlinefile_logout"};return this._response(e,5)}},{key:"uploadfile",value:function(e){if(!e||!e.file_name||!e.file_path)return v.error("uploadfile 参数错误"),_.default.resolve(!1);var t={cmd:589830,description:"tup_offlinefile_uploadfile",param:{up_file_info:{delete_file:!0,file_type:e.file_type,file_name:e.file_name,resume_down_url:"",resume_file_id:"",resume_md5:"",resume_up_url:"",resume_signature:"",use_svn_file:!1,operation_token:e.operation_token,group_id:e.group_id,file_path:e.file_path}}};return this._response(t,6)}},{key:"getresumeupurl",value:function(e,t,n,a,r,i){var o={cmd:589831,description:"tup_offlinefile_getresumeupurl",param:{file_handle:e,resume_down_url:t,resume_up_url:n,file_id:a,signature:r,md5:i}};return this._response(o,7)}},{key:"downloadfile",value:function(e){if(!e||"string"!=typeof e.access_code||"string"!=typeof e.pcheight||"string"!=typeof e.pctype||"string"!=typeof e.pcwidth||!e.url||!e.path)return v.error("downloadfile 参数错误"),_.default.resolve(!1);var t={cmd:589832,description:"tup_offlinefile_downloadfile",param:{down_file_info:{pplain_access:{access_code:e.access_code,pcheight:e.pcheight,pctype:e.pctype,pcwidth:e.pcwidth},bkeep_download:e.keep_download||0,total_length:parseInt(e.total_length)||0,pcfile_down_url:e.url,buse_svn_file:!1,bdown_delete:!1,pcfile_path:e.path}}};return v.info(t.description),this._response(t,8)}},{key:"deletefile",value:function(e){if(!e||!e.url)return v.error("deletefile 参数错误"),_.default.resolve(!1);var t={cmd:589833,description:"tup_offlinefile_deletefile",param:{pcDeleteFile:{operation_token:"",pc_Char:e.url,signature:""}}};return this._response(t,9)}},{key:"release",value:function(e){if(!e||!e.file_handle)return v.error("release 参数错误"),_.default.resolve(!1);var t={cmd:589834,description:"tup_offlinefile_release",param:{file_handle:e.file_handle}};return this._response(t,10)}},{key:"cancel",value:function(e){if(!e)return v.error("cancel 参数错误"),_.default.resolve(!1);var t={cmd:589835,description:"tup_offlinefile_cancel",param:{file_handle:e}};return this._response(t,11)}},{key:"uninit",value:function(){var e={cmd:589836,description:"tup_offlinefile_uninit"};return this._response(e,12)}},{key:"getdownloadurl",value:function(e,t){var n={cmd:589837,description:"tup_offlinefile_getdownloadurl",param:{download_url:e,share_link:t}};return this._response(n,13)}},{key:"createfolder",value:function(e,t,n){var a={cmd:589838,description:"tup_offlinefile_createfolder",param:{group_space_id:e,folder_info:t,folder_set:n}};return this._response(a,14)}},{key:"deletefolder",value:function(e){var t={cmd:589839,description:"tup_offlinefile_deletefolder",param:{delete_folder:e}};return this._response(t,15)}},{key:"modifyfolder",value:function(e,t,n,a){var r={cmd:589840,description:"tup_offlinefile_modifyfolder",param:{group_space_id:e,folder_info:t,folder_id:n,folder_name:a}};return this._response(r,16)}},{key:"movefolder",value:function(e,t,n,a){var r={cmd:589841,description:"tup_offlinefile_movefolder",param:{group_space_id:e,dest_parentid:t,folder_id:n,folder_info:a}};return this._response(r,17)}},{key:"copyfolder",value:function(e,t,n,a){var r={cmd:589842,description:"tup_offlinefile_copyfolder",param:{group_space_id:e,dest_parentid:t,folder_id:n,folder_info:a}};return this._response(r,18)}},{key:"movefile",value:function(e,t,n,a){var r={cmd:589843,description:"tup_offlinefile_movefile",param:{group_space_id:e,dest_parentid:t,file_info:n,file_id:a}};return this._response(r,19)}},{key:"copyfile",value:function(e){var t=e.group_space_id,n=e.dest_parentid,a=e.file_id,r=e.from_group,i=e.owner_id,o=e.link_code,s=e.plain_access_code,c={cmd:589844,description:"tup_offlinefile_copyfile",param:{group_space_id:t,dest_parentid:n,file_id:Number(a),from_group:r,owner_id:i,link_code:o,plain_access_code:s}};return this._response(c,20)}},{key:"getgroupfiledownloadurl",value:function(e,t,n){var a={cmd:589845,description:"tup_offlinefile_getgroupfiledownloadurl",param:{group_space_id:e,file_id:t,download_url:n}};return this._response(a,21)}},{key:"listsubdirectory",value:function(e,t){var n={cmd:589846,description:"tup_offlinefile_listsubdirectory",param:{list_subset:e,directory_info:t}};return this._response(n,22)}},{key:"searchbyname",value:function(e,t){var n={cmd:589847,description:"tup_offlinefile_searchbyname",param:{search_info:e,directory_info:t}};return this._response(n,23)}},{key:"listfileversion",value:function(e,t){var n={cmd:589848,description:"tup_offlinefile_listfileversion",param:{file_versions:e,search_version:t}};return this._response(n,24)}},{key:"releaseversion",value:function(e){var t={cmd:589849,description:"tup_offlinefile_releaseversion",param:{file_versions:e}};return this._response(t,25)}},{key:"releasedirectory",value:function(e){var t={cmd:589850,description:"tup_offlinefile_releasedirectory",param:{directory_info:e}};return this._response(t,26)}},{key:"releasememory",value:function(e){var t={cmd:589851,description:"tup_offlinefile_releasememory",param:{str:e}};return this._response(t,27)}},{key:"initlogin",value:function(e,t,n,a){var r={cmd:589852,description:"tup_offlinefile_initlogin",param:{login_info:e,user_info:t,config:n,login_result:a}};return this._response(r,28)}},{key:"uninitlogout",value:function(){var e={cmd:589853,description:"tup_offlinefile_uninitlogout"};return this._response(e,29)}},{key:"delete",value:function(e){var t={cmd:589854,description:"tup_offlinefile_delete",param:{file_id:e}};return this._response(t,30)}},{key:"setOfflineCipherList",value:function(e){var t={cmd:589855,description:"tup_offlinefile_setOfflineCipherList",param:{cipherList:e}};return this._response(t,31)}},{key:"refreshToken",value:function(e){var t={cmd:589860,description:"tup_offlinefile_update_ssotoken",param:{access_token:e}};return this._response(t,36)}},{key:"getCloudSpaceUrl",value:function(e){var t={cmd:589858,description:"tup_offlinefile_getcloudspaceurl",param:{token:e.token,page:e.page,parent:e.parent}};return this._response(t,34)}},{key:"getGroupSpaceUrl",value:function(e){var t={cmd:589859,description:"tup_offlinefile_getteamspaceurl",param:{token:e.token,teamspaceId:e.teamspaceId,groupId:e.groupId}};return this._response(t,35)}},{key:"queryShareLinkInfo",value:function(e){var t={cmd:589861,description:"tup_offlinefile_query_info_by_link_code",param:{link_code:e.linkCode,access_code:e.accessCode}};return this._response(t,37)}},{key:"_response",value:function(e,t){var n=this;return new _.default(function(a,r){var i={resolve:a,data:e,rspIdx:t};n.tupProtocol.setRspFuncsAndSendMessage(i)})}}]),e}();t.default=h},2162:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(1),i=a(r),o=n(135),s=a(o),c=n(2),u=a(c),d=n(3),_=a(d),p=n(4),l=a(p),f=n(5),m=a(f),v=coreLogger.getLogger("service")("HwTupToolSdk"),g=coreCommon.getTupProtocolClass(),h=function(){function e(t){var n=this;return(0,l.default)(this,e),new _.default(function(){var e=(0,u.default)(i.default.mark(function e(a,r){var o;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={key:constant.TupModuleKey.Tool,moduleName:"tup_plugin_service_protocol",webSocketUri:"/tup_tools"},(0,s.default)(o,t),e.next=4,new g(o);case 4:n.tupProtocol=e.sent,a(n);case 6:case"end":return e.stop()}},e,n)}));return function(t,n){return e.apply(this,arguments)}}())}return(0,m.default)(e,[{key:"sendMessage",value:function(e){var t=this;return new _.default(function(n,a){var r=Sno();(0,s.default)(e,{sno:r});var i={resolve:n,data:e};t.tupProtocol.setRspFuncsAndSendMessage(i)})}},{key:"setNotifyFunc",value:function(e,t){this.tupProtocol.setNotifyFunc(e,t)}},{key:"tupToolInit",value:function(){v.info("tup_tool_init");var e={description:"tup_tool_init",cmd:1};return this.sendMessage(e)}},{key:"tupToolReadFile",value:function(e){v.info("tup_tools_read_file");var t={description:"tup_tools_read_file",cmd:2,param:{name:e}};return this.sendMessage(t)}},{key:"tupToolWriteFile",value:function(e,t){v.info("tup_tools_write_file");var n={description:"tup_tools_write_file",cmd:3,param:{name:e,content:t}};return this.sendMessage(n)}},{key:"tupToolGetLocalIp",value:function(e,t,n){v.info("tup_tools_get_local_ip");var a={description:"tup_tools_get_local_ip",cmd:4,param:{server_ip:e,server_port:t,is_tcp:n}};return this.sendMessage(a)}}]),e}();t.default=h},2163:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(69),i=a(r),o=n(135),s=a(o),c=n(3),u=a(c),d=n(1),_=a(d),p=n(2),l=a(p),f=n(4),m=a(f),v=n(5),g=a(v),h=coreLogger.getLogger("tup")("uportal"),y=coreCommon.getTupProtocolClass(),k=function(){function e(t){var n=this;return(0,m.default)(this,e),this.uPortalErrorHandleCallBack=(0,l.default)(_.default.mark(function e(){return _.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.setNotifyFunc(360493,n.handleTupUportalError);case 1:case"end":return e.stop()}},e,n)})),this.handleTupUportalError=function(e){var t=e.param;coreUt.utHandleServerError({isLocalError:t.isLocalError,requestId:t.requestId,serverName:t.serverName,serverApiName:t.serverApiName,errorCode:t.errorCode,errorDescription:t.errorDescription})},this.getMemberCorpResource=function(e){var t={cmd:327731,description:"tup_login_get_member_corp"};return n.sendMessage(t)},this.addCallBack=function(e){if(!e)return void h.info("uportal WebSocket addCallBack option is null");"function"==typeof e.uportalSocketClose&&n.setNotifyFunc("uportalSocketClose",e.uportalSocketClose)},new u.default(function(){var e=(0,l.default)(_.default.mark(function e(a,r){var i;return _.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i={key:constant.TupModuleKey.login,moduleName:"tup_login_service_protocol",webSocketUri:""},(0,s.default)(i,t),e.next=4,new y(i);case 4:n.tupProtocol=e.sent,a(n);case 6:case"end":return e.stop()}},e,n)}));return function(t,n){return e.apply(this,arguments)}}())}return(0,g.default)(e,[{key:"sendMessage",value:function(e,t){var n=this;return new u.default(function(a,r){var i=Sno();(0,s.default)(e,{sno:i});var o={resolve:a,data:e,notify:t};n.tupProtocol.setRspFuncsAndSendMessage(o)})}},{key:"downLoadCaCert",value:function(e,t,n){h.info("begin download ca cert.");var a={cmd:327713,description:"tup_login_download_ca_certificate",param:{download_ca_cert_param:e,authorize_param:t}};return this.setNotifyFunc(360473,n),this.sendMessage(a)}},{key:"loginSetTlsParams",value:function(e,t){h.info("begin set tls params");var n={cmd:327712,description:"tup_login_set_tls_param",param:{verify_mode:t,ca_cert_path:e,verify_server_mode:0}};return h.info("login Set Tls Params data == "+(0,i.default)(n)),this.sendMessage(n)}},{key:"loginSetTlsParamsEx",value:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.loginSetTlsParams(e,t)}},{key:"loginInitForMultiUser",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;h.info("begin login init for multiUser");var i={cmd:327728,description:"tup_login_init_for_multiuser",param:{cert_path:e,verify_mode:t,account_id:n,user_id:r,is_asyn:a}};return this.sendMessage(i)}},{key:"loginRegisterProcessNotifyForAccount",value:function(e){h.info("begin login register process notify for account");var t={cmd:327726,description:"tup_login_register_process_notifiy_for_account",param:{account_id:e}};return this.sendMessage(t)}},{key:"loginAuthorize",value:function(e){h.info("begin authorize");var t={cmd:327691,description:"tup_login_authorize",param:{authorize_param:e}};return this.sendMessage(t,360458)}},{key:"loginAuthorizeEx",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.loginAuthorize(e)}},{key:"refreshToken",value:function(){h.info("begin refresh [token]");var e={cmd:327692,description:"tup_login_refresh_token"};return this.sendMessage(e)}},{key:"buildStgTunnel",value:function(e,t){h.info("buildStg");var n={cmd:327700,description:"tup_login_build_stg_tunnel",param:{server:e}};return this.setNotifyFunc(360464,t),this.sendMessage(n)}},{key:"destroyStgTunnel",value:function(e){h.info("destroyStgTunnel");var t={cmd:327701,description:"tup_login_destroy_stg_tunnel"};return this.setNotifyFunc(360465,e),this.sendMessage(t)}},{key:"fireWallDetect",value:function(e){h.info("firewall detect");var t={cmd:327699,description:"tup_login_firewall_detect",param:{detect_server:e}};return this.sendMessage(t)}},{key:"portDetect",value:function(e){h.info("portDetect start");var t={cmd:327716,description:"tup_login_port_detect",param:{detect_server:e}};return this.sendMessage(t)}},{key:"updateStgAuthInfo",value:function(e){h.info("update Stg Auth Info");var t={cmd:327703,description:"tup_login_update_stg_auth_info",param:{user_name:e.user_name,password:e.password}};return this.sendMessage(t)}},{key:"getMediaxAccessAddr",value:function(e,t,n){h.info("getMediaxAccessAddr start");var a={description:"tup_login_get_mediax_access_addr",cmd:327719,param:{server_port:t,server_uri:e}};return this.setNotifyFunc(360480,n),this.sendMessage(a)}},{key:"gettempuserinfo",value:function(e,t,n,a){h.info("tup_login_get_tempuserinfo_from_random",e,t,n,a);var r={cmd:327715,description:"tup_login_get_tempuserinfo_from_random",param:{random_param:{site_url:e,random:t,client_type:n,registe:a}}};return this.sendMessage(r)}},{key:"getTempUserInfoFromConfinfo",value:function(e,t,n,a,r,i,o){h.info("tup_login_get_tempuserinfo_from_confinfo",e,t,n,r,i,o);var s={cmd:327714,description:"tup_login_get_tempuserinfo_from_confinfo",param:{confinfo_param:{server_url:e,server_port:t,conf_id:n,conf_pwd:a,client_type:r,registe:i,is_cms_addr:o}}};return this.sendMessage(s)}},{key:"setLoginProxy",value:function(e){h.info("set login proxy");var t={cmd:327702,description:"tup_login_set_proxy",param:{proxy_param:e}};return this.sendMessage(t)}},{key:"setLoginProxyEx",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.setLoginProxy(e)}},{key:"getNonce",value:function(e,t){h.info("begin get nonce");var n={cmd:327697,description:"tup_login_get_nonce",param:{auth_token:e}};return this.setNotifyFunc(360460,t),this.sendMessage(n)}},{key:"setNotifyFunc",value:function(e,t){this.tupProtocol.setNotifyFunc(e,t)}},{key:"changeLoginUportalPassword",value:function(e,t,n,a,r){h.info("changeLoginUportal[Password] enter.");var i={cmd:327684,description:"tup_login_change_register_password",param:{change_pwd_param:{account:e,old_password:t,new_password:n,server:a,port:r,protocol:1,server_type:0}}};return this.sendMessage(i)}},{key:"getPairInfo",value:function(e,t,n,a,r,i,o,s,c){var u={cmd:327717,description:"tup_login_get_pair_info",param:{server:{server_uri:e,server_port:parseInt(t)},pair_code:n,unicode:a,local_ip:r,server_ip:i,server_port:o,file_path_name:s,account:c}};return h.info("begin get peripherals info by pair code, pairCode=",n),this.sendMessage(u)}},{key:"getProjectionCode",value:function(e,t,n,a,r,i,o){var s={cmd:327707,description:"tup_login_get_projection_code",param:{get_projection_code_param:{server:{server_port:parseInt(t),server_uri:e},account:n,password:"",number:r,local_ip:i,token:a,mode:0,certificate_path_name:o}}};return h.info("begin tup_login_get_projection_code"),this.sendMessage(s)}},{key:"recordPrivacy",value:function(e){var t={cmd:327720,description:"tup_login_record_privacy",param:e};return this.sendMessage(t)}},{key:"queryUserAccount",value:function(e){var t={cmd:327722,description:"tup_login_query_user_account",param:e};return this.sendMessage(t)}},{key:"requestVerificationCode",value:function(e){var t={cmd:327723,description:"tup_login_request_verification_code",param:e};return this.sendMessage(t)}},{key:"verifyVerificationCode",value:function(e){var t={cmd:327724,description:"tup_login_verify_verification_code",param:e};return this.sendMessage(t)}},{key:"frogetPassword",value:function(e){var t={cmd:327725,description:"tup_login_froget_password",param:e};return this.sendMessage(t)}},{key:"queryVersionInfo",value:function(e){var t={cmd:327726,description:"tup_login_query_version_info",param:e};return this.sendMessage(t)}},{key:"downloadUpgradeFile",value:function(e){var t={cmd:327727,description:"tup_login_download_upgrade_file",param:e};return this.sendMessage(t)}},{key:"uportalLogout",value:function(){h.info("begin uportal logout");var e={cmd:327728,description:"tup_login_logout"};return this.sendMessage(e)}},{key:"getUploadInfo",value:function(e){var t={cmd:327729,description:"tup_login_get_upload_info",param:e};return this.sendMessage(t)}},{key:"getCorpResource",value:function(e){var t={cmd:327730,description:"tup_login_get_corp_resource"};return this.sendMessage(t)}},{key:"getOBSConfigInfo",value:function(e){var t={cmd:327732,description:"tup_login_get_obs_config_info",param:e};return this.sendMessage(t)}},{key:"getDeviceInfo",value:function(){var e={cmd:327733,description:"tup_login_get_device_info"};return this.sendMessage(e)}}]),e}();t.default=k},2164:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(135),i=a(r),o=n(69),s=a(o),c=n(3),u=a(c),d=n(4),_=a(d),p=n(5),l=a(p),f=coreLogger.getLogger("service")("HwTupDnsSdk"),m=null,v=new Array,g=new Array,h=null,y=function(){function e(){var t=this;return(0,_.default)(this,e),h&&m&&0===m.readyState?(f.info("websocket is connecting"),h):h=new u.default(function(e,n){m&&1===m.readyState?e(t):(m=new WebSocket("ws://localhost:"+(window.CLIENTCONFIG.TUP_PORT||"7683")+"/tup_dns","tup_plugin_service_protocol"),m.addToInitCollect("tupDnsWebSocket",t.release,m),m.onopen=function(){f.info("tupDnsWebSocket is opened"),e(t)},m.onclose=function(){t.release(),"function"==typeof g.dnsSocketClose&&g.dnsSocketClose()},m.onerror=function(e){f.info("tupDnsWebSocket is error, e = "+(0,s.default)(e))},m.onmessage=function(e){var t=JSON.parse(e.data);if(t.notify=32767&t.notify,t.notify>=0&&!t.rsp&&"function"==typeof g[t.notify]&&g[t.notify](t),!isNaN(t.sno)){var n=t.sno;"function"==typeof v[n]&&v[n](t)}})})}return(0,l.default)(e,[{key:"release",value:function(){f.info("tupDnsWebSocket is closed"),m&&(m.onopen=null,m.onclose=null,m.onerror=null,m.onmessage=null,m=null)}},{key:"sendMessage",value:function(e){return new u.default(function(t,n){var a=Sno();v[a]=function(e){t(e)},m.sendToTup((0,i.default)(e,{sno:a}))})}},{key:"setNotifyFunc",value:function(e,t){g[e]=t}},{key:"tupQueryDNSSrv",value:function(e,t,n){f.info("tup_dns_get_server_resolve");var a={description:"tup_dns_get_server_resolve",cmd:655361,param:{Service:e,Proctocol:t,Domain:n}};return this.sendMessage(a)}}]),e}();t.default=y},69:function(e,t,n){e.exports={default:n(70),__esModule:!0}},70:function(e,t,n){var a=n(8),r=a.JSON||(a.JSON={stringify:JSON.stringify});e.exports=function(e){return r.stringify.apply(r,arguments)}}});