webpackJsonp([19],{1038:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkAutoLeave=t.AutoLeaveSetting=void 0;var r=n(1957),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(r);t.AutoLeaveSetting=a.AutoLeaveSetting,t.checkAutoLeave=a.checkAutoLeave},1039:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.drawPhotoHole=t.drawCorner=t.drawDashLine=void 0;var r=n(158),a=function(e){return e&&e.__esModule?e:{default:e}}(r),i=coreLogger.getLogger("logic")("setting/canvas"),o=t.drawDashLine=function(e,t,n){var r=(0,a.default)(t,2),o=r[0],s=r[1],c=(0,a.default)(n,2),u=c[0],l=c[1],f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;try{for(var d=u-o,p=l-s,v=Math.floor(Math.sqrt(d*d+p*p)/f),g=d/v,h=p/v,m=0;m<v;m++)m%2==0?e.moveTo(o,s):e.lineTo(o,s),o+=g,s+=h;e.lineTo(u,l)}catch(e){i.error("canvas drawDashLine error",e)}},s=t.drawCorner=function(e,t){try{var n=t.x||0,r=t.y||0,a=t.lineWidth||3,o=t.height||20,s=t.direction||"topLeft";switch(e.fillStyle="white",s){case"topLeft":e.fillRect(n-a,r-a,a,o),e.fillRect(n-a,r-a,o,a);break;case"topRight":e.fillRect(n-o+a,r-a,o,a),e.fillRect(n,r,a,o-a);break;case"bottomLeft":e.fillRect(n-a,r+a-o,a,o),e.fillRect(n,r,o-a,a);break;case"bottomRight":e.fillRect(n-o+a,r,o,a),e.fillRect(n,r+a-o,a,o-a)}}catch(e){i.error("canvas drawCorner error",e)}};t.drawPhotoHole=function(e,t){try{for(var n=t.x||0,r=t.y||0,a=t.holeSize||170,c=t.lineWidth||3,u=t.height||20,l=["topLeft","topRight","bottomLeft","bottomRight"],f={x:0,y:0,lineWidth:c,height:u,direction:"topLeft"},d=r,p=r+a,v=n,g=n+a,h=[{x:v,y:d},{x:g,y:d},{x:v,y:p},{x:g,y:p}],m=0;m<l.length;m++)f.x=h[m].x,f.y=h[m].y,f.direction=l[m],s(e,f);e.beginPath();var w=a/3,y=2*a/3;e.strokeStyle="rgba(0,0,0,0.5)";for(var S=[{start:[n+w,r],end:[n+w,r+a]},{start:[n+y,r],end:[n+y,r+a]},{start:[n,r+w],end:[n+a,r+w]},{start:[n,r+y],end:[n+a,r+y]}],C=0;C<S.length;C++)o(e,S[C].start,S[C].end)}catch(e){i.error("canvas drawPhotoHole error",e)}}},1040:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return-1===e.indexOf("file://")?"file://"+e:e}function i(e){try{return window.require("fs").existsSync(e)}catch(e){C.error("checkFileHas error",e)}}function o(e){var t=document.createElement("canvas");return t.width=e,t.height=e,t.getContext?t:(C.error("createCanvas canvas-unsupported"),!1)}function s(e,t){return new f.default(function(n){var r=o(t),a=r.getContext("2d"),i=new Image;i.src=e,i.onload=function(){i.width=t,i.height=t,a.drawImage(i,0,0,i.width,i.height),n(r)}})}function c(){var e=u();return Object.type(e.FILE_TYPE)!==Object.type.STRING?(C.info("getFemaleBgColor FILE_TYPE=",constant.AppConfig.DEFAULT_AVATAR_CONFIG.FILE_TYPE),constant.AppConfig.DEFAULT_AVATAR_CONFIG.FILE_TYPE):(C.info("getFemaleBgColor FILE_TYPE=",e.FILE_TYPE),e.FILE_TYPE)}function u(){return window.CLIENTCONFIG.DEFAULT_AVATAR_CONFIG||constant.AppConfig.DEFAULT_AVATAR_CONFIG}Object.defineProperty(t,"__esModule",{value:!0}),t.queryAvatarLeaderStatus=t.hideAvatarLeader=t.saveAndSendAvatar=t.clipPhoneImage=t.clipImage=t.trunImage=t.drawImg=t.standardDraw=t.selectImageHistory=t.saveDefaultAvatarToLocal=t.querySelectedImg=t.saveSelectedImg=t.loadImageHistory=t.delImageHistory=t.getPhoneImg=t.chooseImg=void 0;var l=n(3),f=r(l),d=n(69),p=r(d),v=n(1),g=r(v),h=n(2),m=r(h),w=function(){var e=(0,m.default)(g.default.mark(function e(t){var n,r;return g.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,C.info("saveAllTypeAvatar begin!"),n=[52,120,320],r=[],n.forEach(function(e){r.push(y(t,e))}),e.next=7,f.default.all(r);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),C.error("saveAllTypeAvatar!",e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=(0,m.default)(g.default.mark(function e(t,n){var r,a;return g.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s(t,n);case 3:return r=e.sent,a=coreCommon.getSelfAccount(),e.next=7,S(r,a,n);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),C.error("saveOneTypeAvatar",e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t,n){return e.apply(this,arguments)}}(),S=function(){var e=(0,m.default)(g.default.mark(function e(t,n,r){var a,i,o,s;return g.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.toDataURL("image/png",1),e.next=4,appService.getTempAvatarPath(coreCommon.getSelfAccount());case 4:return i=e.sent,o=i+n+r+c(),e.next=8,appService.saveBase64Img(a,o);case 8:s=e.sent,s?C.info("saveLocalAvatar save success!"):C.info("saveLocalAvatar save failed!"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),C.error("saveLocalAvatar error",e.t0);case 15:case"end":return e.stop()}},e,this,[[0,12]])}));return function(t,n,r){return e.apply(this,arguments)}}(),C=coreLogger.getLogger("logic")("setting/setAvatar"),I=(t.chooseImg=function(){var e={filters:[{name:"Images",extensions:["jpg","png","gif","bmp"]}],properties:["openFile"]};if(coreCommon.isPc()){var t=window.require("fs");window.electron.remote.dialog.showOpenDialog(win,e,function(e){if(isNullOrEmpty(e))C.info("setAvatar choose img is empty!");else{var n=e[0],r=t.statSync(n);r&&r.size&&r.size<constant.SET_AVATAR_NUMBER.MAX_IMAGE_FILE_SIZE?($dispatch(coreUi.setChooseImgSrc(n)),I(n)):window.alert("您选择的文件不正确或超出10M,请重新选择!")}})}},t.getPhoneImg=function(){var e=(0,m.default)(g.default.mark(function e(t){var n,r,i,o,s;return g.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!coreCommon.isPc()){e.next=6;break}return C.info("getPhoneImg error: is not phone client!"),e.abrupt("return");case 6:if(!isNullOrEmpty(t)&&!isNullOrEmpty(t.media)){e.next=9;break}return C.info("getPhoneImg error: jsonObj is empty!"),e.abrupt("return");case 9:if(n=t.media,r=n[0].filepath,isNullOrEmpty(r)){e.next=17;break}return i=a(r),e.next=15,appService.readLocalImgFile(i);case 15:o=e.sent,0===o.result?(C.info("getPhoneImg sucess!"),s=0,coreCommon.isAndroid()&&(s=window.webView.getPictureDegree(r),C.info("getPhoneImg getPictureDegree",s)),$dispatch(coreUi.setChooseImgSrc(o.file,s)),window.goRoute("SetAvatar")):C.error("getPhoneImg faile",o.error);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),C.error("getPhoneImg error",e.t0);case 22:case"end":return e.stop()}},e,void 0,[[0,19]])}));return function(t){return e.apply(this,arguments)}}(),function(){var e=(0,m.default)(g.default.mark(function e(t){var n,r,a,i,o,s,c,u,l,f,d,v,h,m;return g.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,C.info("saveImageHistory begin"),n=window.require("fs"),r=[],a=1,i=t.lastIndexOf("."),o=t.length,s=t.substring(i,o),e.next=10,coreDb.queryUserConfig({key:"setAvatarHistory"});case 10:if(!(c=e.sent)||!c.value){e.next=27;break}if(r=JSON.parse(c.value),!(r.length>=constant.SET_AVATAR_NUMBER.MAX_HISTORY_NUM)){e.next=19;break}u=r.pop(),l=u.lastIndexOf("."),a=parseInt(u.substring(l-1,l)),e.next=27;break;case 19:f=0;case 20:if(!(f<=constant.SET_AVATAR_NUMBER.MAX_HISTORY_NUM)){e.next=27;break}if(-1!==c.value.indexOf("AvatarHistory"+(f+1))){e.next=24;break}return a=f+1,e.abrupt("break",27);case 24:f++,e.next=20;break;case 27:return d=new Date,e.next=30,appService.getHistoryAvatarPath(coreCommon.getSelfAccount());case 30:v=e.sent,h=v+"t"+d.getMilliseconds()+"AvatarHistory"+a+s,m=n.readFileSync(t),n.writeFile(h,m,function(e){if(e)throw e;C.info("saveImageHistory copy file success"),r.unshift(h),k(h),coreDb.saveUserConfig({key:"setAvatarHistory",value:(0,p.default)(r)}),$dispatch(coreUi.saveAvatarHistory(r)),m=null}),e.next=39;break;case 36:e.prev=36,e.t0=e.catch(0),C.error("saveImageHistory error",e.t0);case 39:case"end":return e.stop()}},e,void 0,[[0,36]])}));return function(t){return e.apply(this,arguments)}}()),k=(t.delImageHistory=function(){var e=(0,m.default)(g.default.mark(function e(t){var n,r,a,i,o;return g.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,C.info("delImageHistory begin"),e.next=4,coreDb.queryUserConfig({key:"setAvatarHistory"});case 4:if(!(n=e.sent)||!n.value){e.next=20;break}r=JSON.parse(n.value),a=0;case 8:if(!(a<r.length)){e.next=18;break}if(i=r[a],o=i.substring(i.length-12),-1===t.indexOf(o)){e.next=15;break}return window.fs.existsSync(i)&&window.fs.unlinkSync(i),r.splice(a,1),e.abrupt("break",18);case 15:a++,e.next=8;break;case 18:coreDb.saveUserConfig({key:"setAvatarHistory",value:(0,p.default)(r)}),$dispatch(coreUi.saveAvatarHistory(r));case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),C.error("delImageHistory error",e.t0);case 25:case"end":return e.stop()}},e,void 0,[[0,22]])}));return function(t){return e.apply(this,arguments)}}(),t.loadImageHistory=function(){var e=(0,m.default)(g.default.mark(function e(){var t,n,r,a,o,s,u,l,f;return g.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,C.info("loadImageHistory begin"),e.next=4,coreDb.queryUserConfig({key:"setAvatarHistory"});case 4:if(t=e.sent,n=coreCommon.getSelfAccount(),!t||isNullOrEmpty(t.value)||"[]"===t.value){e.next=11;break}r=JSON.parse(t.value),isNullOrEmpty(r)||($dispatch(coreUi.saveAvatarHistory(r)),x().then(function(e){e||$dispatch(coreUi.setChooseImgSrc(r[0]))})),e.next=38;break;case 11:return e.next=13,appService.getAvatarPath(n);case 13:return a=e.sent,o=a+""+n+".png",s=a+""+n+c(),u=a+""+n+".jpg",e.next=19,appService.getHistoryAvatarPath(coreCommon.getSelfAccount());case 19:if(!i(o)){e.next=23;break}I(o),e.next=38;break;case 23:if(!i(u)){e.next=27;break}I(u),e.next=38;break;case 27:if(!i(s)){e.next=31;break}I(s),e.next=38;break;case 31:return e.next=33,A();case 33:return e.next=35,appService.getAvatarPath(n);case 35:l=e.sent,f=l+""+n+c(),I(f);case 38:e.next=43;break;case 40:e.prev=40,e.t0=e.catch(0),C.error("loadImageHistory error",e.t0);case 43:case"end":return e.stop()}},e,void 0,[[0,40]])}));return function(){return e.apply(this,arguments)}}(),t.saveSelectedImg=function(){var e=(0,m.default)(g.default.mark(function e(t){return g.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!isNullOrEmpty(t)){e.next=4;break}return C.error("saveSelectedImg fileName is empty!"),e.abrupt("return");case 4:$dispatch(coreUi.saveSelectAvatar(t)),coreDb.saveUserConfig({key:"setCurrentAvatar",value:t}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),C.error("saveSelectedImg error",e.t0);case 11:case"end":return e.stop()}},e,void 0,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()),x=t.querySelectedImg=function(){var e=(0,m.default)(g.default.mark(function e(){var t,n;return g.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,coreDb.queryUserConfig({key:"setCurrentAvatar"});case 3:if(t=e.sent,n=t&&t.value,isNullOrEmpty(n)){e.next=11;break}return $dispatch(coreUi.saveSelectAvatar(n)),$dispatch(coreUi.setChooseImgSrc(n)),e.abrupt("return",!0);case 11:return e.abrupt("return",!1);case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(0),C.error("saveSelectedImg error",e.t0),e.abrupt("return",!1);case 18:case"end":return e.stop()}},e,void 0,[[0,14]])}));return function(){return e.apply(this,arguments)}}(),A=t.saveDefaultAvatarToLocal=function(){var e=(0,m.default)(g.default.mark(function e(){var t,n,r,a,i;return g.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=$getState(),n=t.myInfo,r=n.account,a=n.name,i=n.gender,e.abrupt("return",coreUi.createDefaultAvatar(r,a,i));case 6:e.prev=6,e.t0=e.catch(0),C.error("saveDefaultAvatarToLocal error",e.t0);case 9:case"end":return e.stop()}},e,void 0,[[0,6]])}));return function(){return e.apply(this,arguments)}}(),L=(t.selectImageHistory=function(e){try{C.info("selectImageHistory begin"),$dispatch(coreUi.setChooseImgSrc(e)),k(e)}catch(e){C.error("selectImageHistory error",e)}},t.standardDraw=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(isNullOrEmpty(e))return C.info("standardDraw canvas container is null!"),!1;var r=n.height||180,a=n.width||342,i=n.imgNextX||0,o=n.imgNextY||0,s=n.imgNextScale||1,c=n.nextRotation||0,u=s*t.height,l=s*t.width;e.save(),e.clearRect(0,0,a,r),e.globalCompositeOperation="destination-over";var f=o-.5*(l*Math.sin(c)-u+u*Math.cos(c)),d=i+.5*(l-l*Math.cos(c)+u*Math.sin(c));e.translate(d,f),e.rotate(c),e.scale(s,s);var p=$getState().setting.chooseImgDegree;p&&(e.translate(t.width/2,t.height/2),e.rotate(p*Math.PI/180),e.translate(-t.width/2,-t.height/2),window._ctx=e),e.drawImage(t,0,0,t.width,t.height),e.imageSmoothingEnabled=!0,e.webkitImageSmoothingEnabled=!0,e.restore(),coreCommon.isPc()&&b(e)}),b=(t.drawImg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],n=arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(""===e||isNullOrEmpty(t))return C.info("drawImg image url or canvas container is null!"),!1;var a=r.height||180,i=r.width||342;n.onload=function(){var e=n.width/n.height,o=i/a,s=void 0,c=void 0,u=void 0,l=void 0,f=void 0;f=e>=o?i/n.width:a/n.height;var d=$getState().setting.chooseImgDegree;90!==d&&270!==d||(o=a/i,f=e<=o?i/n.width:a/n.height),u=n.width*f,l=n.height*f,s=.5*(i-u),c=.5*(a-l),r.imgNextX=s,r.imgNextY=c,r.imgNextScale=f,r.nextRotation=0,L(t,n,r)},n.src=e},t.trunImage=function(e){var t=new Event("turnImage"),n=$getState().setting.imageNewStatus.nextRotation,r=n+e;(r>=6.28||r<=-6.28)&&(r=0),t.degree=r,window.dispatchEvent(t)},t.clipImage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:170,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:86,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5;try{var a=o(t),i=a.getContext("2d"),s=e.getImageData(n,r,t,t);i.putImageData(s,0,0);var c=a.toDataURL(),u=new Event("setAvatarData");u.imgData=c,window.dispatchEvent(u)}catch(e){C.error("clipImage error:",e)}}),N=(t.clipPhoneImage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:170,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:86,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5;try{C.info("clipPhoneImage",{avatarSize:t,startX:n,startY:r}),coreUi.changeIsShowAvatarLoading(!0),window.history.back();var a=o(t),i=a.getContext("2d"),s=e.getImageData(n,r,t,t);i.putImageData(s,0,0);var c=a.toDataURL("image/jpeg");return N(c)}catch(e){C.error("clipImage error:",e)}},t.saveAndSendAvatar=function(){var e=(0,m.default)(g.default.mark(function e(){var t,n,r,a,i,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return g.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""===o){e.next=15;break}return e.next=4,w(o);case 4:return t=coreCommon.getSelfAccount(),e.next=7,appService.getTempAvatarPath(t);case 7:return n=e.sent,r=c(),a={SmallIconFilePath:""+n+t+"52"+r,MediumIconFilePath:""+n+t+"120"+r,LargeIconFilePath:""+n+t+"320"+r},i="",".jpg"===r?i="image/jpeg":".png"===r?i="image/png":C.info("saveAndSendAvatar,select avatar type is "+r),e.abrupt("return",coreContact.uploadAvatar({param:a,contentType:i,imgBase64:o}));case 15:C.info("saveAndSendAvatar imgBase64 is empty!");case 16:e.next=23;break;case 18:e.prev=18,e.t0=e.catch(0),C.error("saveAndSendAvatar error:",e.t0),coreUi.changeIsShowAvatarLoading(!1),window.alert(language.SET_AVATAR_FAILED);case 23:case"end":return e.stop()}},e,void 0,[[0,18]])}));return function(){return e.apply(this,arguments)}}());t.hideAvatarLeader=function(){var e=(0,m.default)(g.default.mark(function e(){var t;return g.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,coreDb.saveLoginSetting({key:"isShowAvatarLeader",value:!1});case 3:t=e.sent,t?C.info("hideAvatarLeader success, result:",t):C.info("hideAvatarLeader faile, result:",t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),C.error("hideAvatarLeader error",e.t0);case 10:case"end":return e.stop()}},e,void 0,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),t.queryAvatarLeaderStatus=function(){var e=(0,m.default)(g.default.mark(function e(){var t;return g.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,coreDb.queryLoginSetting({key:"isShowAvatarLeader"});case 3:if(!(t=e.sent)||"isShowAvatarLeader"!==t.key){e.next=9;break}return C.info("queryAvatarLeaderStatus success, result:",t),e.abrupt("return","true"===t.value);case 9:return C.info("queryAvatarLeaderStatus faile, result:",t),e.abrupt("return",!0);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),C.error("hideAvatarLeader error",e.t0);case 16:case"end":return e.stop()}},e,void 0,[[0,13]])}));return function(){return e.apply(this,arguments)}}()},1041:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.initialAutoResponseConf=t.updateAutoResponseConf=void 0;var a=n(1),i=r(a),o=n(2),s=r(o),c=n(600),u=coreLogger.getLogger("model")("logger");t.updateAutoResponseConf=function(){var e=(0,s.default)(i.default.mark(function e(){var t,n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=$getState().myInfo.isAutoResponseConf,u.info("get state isAutoResponseConf="+t),t=!t,n=[{key:"isAutoResponseConf",value:t.toString()}],u.info("userClick  change auto response conf state=",t),e.next=7,$dispatch(coreUi.changeAutoResponseConf(t));case 7:return e.next=9,coreDb.saveUserConfig(n);case 9:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.initialAutoResponseConf=function(){coreDb.queryUserConfigList({all:""}).then(function(e){var t="";if(t=e.find(function(e){return"isAutoResponseConf"===e.key}),u.info("query isResponse=="+t),t){var n=(0,c.stringToBoolean)(t.value);$dispatch(coreUi.changeAutoResponseConf(n)),window.CLIENTCONFIG.ISMOBILE||appService.initMainTray()}})}},1042:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.showDevicesListFunc=t.getMediaSettingFromDB=t.queryBeautyFunc=t.setBeautyFunc=t.getValidCamDeviceSerialNum=t.getValidSpkDeviceSerialNum=t.getDefaultSpkDevice=t.setAndSaveCamDevice=t.setAndSaveSpkDevice=t.setAndSaveMicDevice=t.getInsertDeviceById=t.getInsertDeviceByName=t.clearMicPreviewLevel=t.getMicPreviewLevel=t.stopMicPreview=t.startMicPreview=t.stopSpkTestFile=t.startSpkTestFile=t.setSpkGainValue=t.setMicGainValue=t.setMicAgc=t.setSvcSendLevel=t.setSpkGainEnable=t.setMicGainEnable=t.setMasterSpkValue=t.setMasterMicValue=t.refreshMediaIndex=t.setVideoIndex=t.getVideoIndex=t.setSpkIndex=t.getSpkIndex=t.setMicIndex=t.getMicIndex=t.initMasterVoiceValue=t.MediaSetTUP=t.initMediaDevice=t.initialMediaSetting=void 0;var a=n(135),i=r(a),o=n(69),s=r(o),c=n(1),u=r(c),l=n(2),f=r(l),d=n(600),p=coreLogger.getLogger("logic")("setting/SettingMedia"),v=(t.initialMediaSetting=function(e){var t=e.find(function(e){return"micGainEnable"===e.key});if(t){var n=(0,d.stringToBoolean)(t.value);$dispatch(coreUi.changeMicGainEnable(n))}var r=e.find(function(e){return"spkGainEnable"===e.key});if(r){var a=(0,d.stringToBoolean)(r.value);$dispatch(coreUi.changeSpkGainEnable(a))}var i=e.find(function(e){return"micGain"===e.key});if(i){var o=Number(i.value);$dispatch(coreUi.changeMicGainValue(o))}var s=e.find(function(e){return"spkGain"===e.key});if(s){var c=Number(s.value);$dispatch(coreUi.changeSpkGainValue(c))}var u=e.find(function(e){return"micAgc"===e.key});if(u){var l=(0,d.stringToBoolean)(u.value);$dispatch(coreUi.changeMicAgc(l))}var f=e.find(function(e){return"MicNameKey"===e.key});f&&$dispatch(coreUi.changeMicDevice(f.value));var p=e.find(function(e){return"SpkNameKey"===e.key});p&&$dispatch(coreUi.changeSpkDevice(p.value));var g=e.find(function(e){return"CamNameKey"===e.key});if(g){var h=Number(g.value);$dispatch(coreUi.changeCamDevice(h))}if(window.fs)return v()},t.initMediaDevice=function(){var e=(0,f.default)(u.default.mark(function e(){var t,n,r,a,i;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p.info("enter initMediaDevice"),t=0,n=0,e.next=5,coreCall.getALLDevices();case 5:if(window.CLIENTCONFIG.ISMOBILE){e.next=30;break}if(r=$getState().call.cameraDevicesList,a=T(r),0===r.length){e.next=12;break}return e.next=11,C(r[a].index);case 11:n=r[a].index;case 12:return e.next=14,m(0);case 14:if(i=$getState().call.spkDevicesList,a=window.CLIENTCONFIG.ISBIGWIN?N(i):E(i),0===i.length){e.next=20;break}return e.next=19,y(i[a].index);case 19:t=i[a].index;case 20:if(!window.CLIENTCONFIG.ISBIGWIN){e.next=28;break}return e.next=23,coreAccount.set({key:"cameraDevicesList",value:r,isPublic:!0});case 23:return e.next=25,coreAccount.set({key:"spkDevicesList",value:i,isPublic:!0});case 25:return e.next=27,coreAccount.set({key:"micDevicesList",value:$getState().call.micDevicesList,isPublic:!0});case 27:window.anonymousJoinConf&&coreConf.NotifyDeviceListReady();case 28:return e.next=30,O(t,n);case 30:p.info("leave initMediaDevice");case 31:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.MediaSetTUP=function(){var e=(0,f.default)(u.default.mark(function e(){var t,n,r,a,i,o,s,c,l,f;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p.info("start init media setting"),t=$getState().call.micValue,n=$getState().call.voiceValue,r=$getState().setting.micGainEnable,a=$getState().setting.spkGainEnable,i=$getState().setting.micGain,o=$getState().setting.spkGain,s=$getState().setting.micAgc,r&&(window.CLIENTCONFIG.MIC_GAIN=i),a&&(window.CLIENTCONFIG.SPK_GAIN=o),e.next=12,g();case 12:return e.next=14,coreCall.setMicVol(t);case 14:return e.next=16,coreCall.setSpkVol(n);case 16:if(window.CLIENTCONFIG.ISMOBILE){e.next=37;break}if(c=$getState().setting.micDevice,l=$getState().call.micDevicesList,f=-1,window.CLIENTCONFIG.ISBIGWIN){e.next=31;break}if(-1===(f=A(c,l))){e.next=25;break}return e.next=25,m(l[f].index);case 25:if(c=$getState().setting.spkDevice,l=$getState().call.spkDevicesList,-1===(f=A(c,l))){e.next=31;break}return e.next=31,y(l[f].index);case 31:if(c=$getState().setting.camDevice,l=$getState().call.cameraDevicesList,-1===(f=L(c,l))){e.next=37;break}return e.next=37,C(l[f].index);case 37:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}()),g=t.initMasterVoiceValue=function(){var e=(0,f.default)(u.default.mark(function e(){var t,n;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,coreCall.getMicDeviceVol();case 2:return t=e.sent,0===t.result?$dispatch(coreUi.changeMasterMicValue(t.param.volume)):p.info("initMasterVoiceValue mic failed, res=",(0,s.default)(t)),e.next=6,coreCall.getSpkDeviceVol();case 6:n=e.sent,0===n.result?$dispatch(coreUi.changeMasterSpkValue(n.param.volume)):p.info("initMasterVoiceValue spk failed, res=",(0,s.default)(n));case 8:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),h=t.getMicIndex=function(){var e=(0,f.default)(u.default.mark(function e(){var t;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,coreCall.getMicIndex();case 2:t=e.sent,0===t.result?p.info("get mic index success, data= ",(0,s.default)(t)):p.info("get mic index failed, res=",t.result);case 4:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),m=t.setMicIndex=function(){var e=(0,f.default)(u.default.mark(function e(t){var n;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,coreCall.setMicIndex(t);case 2:return n=e.sent,0===n.result?($dispatch(coreUi.changeMicIndex(t)),p.info("set mic index success")):p.info("set mic index failed, ret=",n.result),e.abrupt("return",n.result);case 5:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),w=t.getSpkIndex=function(){var e=(0,f.default)(u.default.mark(function e(){var t;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,coreCall.getSpkIndex();case 2:t=e.sent,0===t.result?p.info("get spk index success, data= ",(0,s.default)(t)):p.info("get spk index failed, ret=",t.result);case 4:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),y=t.setSpkIndex=function(){var e=(0,f.default)(u.default.mark(function e(t){var n;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,coreCall.setSpkIndex(t);case 2:return n=e.sent,0===n.result?($dispatch(coreUi.changeSpkIndex(t)),p.info("set spk index success")):p.info("set spk index failed, ret=",n.result),e.abrupt("return",n.result);case 5:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),S=t.getVideoIndex=function(){var e=(0,f.default)(u.default.mark(function e(){var t;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,coreCall.getVideoIndex();case 2:t=e.sent,0===t.result?p.info("get video index success, data= ",(0,s.default)(t)):p.info("get video index failed, ret=",t.result);case 4:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),C=t.setVideoIndex=function(){var e=(0,f.default)(u.default.mark(function e(t){var n;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,coreCall.setVideoIndex(t);case 2:return n=e.sent,0===n.result?($dispatch(coreUi.changeCamIndex(t)),p.info("set video index success")):p.info("set video index failed, ret=",n.result),e.abrupt("return",n.result);case 5:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),I=(t.refreshMediaIndex=function(){var e=(0,f.default)(u.default.mark(function e(){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:return e.next=4,w();case 4:return e.next=6,S();case 6:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.setMasterMicValue=function(){var e=(0,f.default)(u.default.mark(function e(t){var n;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,coreCall.setMicDeviceVol(0,t);case 2:n=e.sent,0===n.result?($dispatch(coreUi.changeMasterMicValue(t)),p.info("userClick to set mic device voice success, value= ",t)):p.info("userClick to set mic device voice failed, res= ",n.result);case 4:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.setMasterSpkValue=function(){var e=(0,f.default)(u.default.mark(function e(t){var n;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,coreCall.setSpkDeviceVol(0,t);case 2:n=e.sent,0===n.result?($dispatch(coreUi.changeMasterSpkValue(t)),p.info("userClick to set spk device voice success, value= ",t)):p.info("userClick to set spk device voice failed, res= ",n.result);case 4:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.setMicGainEnable=function(){var e=(0,f.default)(u.default.mark(function e(t){var n,r,a,i,o,s;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=!$getState().setting.micGainEnable,$dispatch(coreUi.changeMicGainEnable(n)),r=[{key:"micGainEnable",value:n.toString()}],e.next=5,coreDb.saveUserConfig(r);case 5:if(p.info("userClick to change mic gain enable = ",n),a=document.getElementById(t),!n){e.next=18;break}return a.disabled=!1,a.style.color="#3c4053",i=$getState().setting.micGain,o=$getState().call.micValue,window.CLIENTCONFIG.MIC_GAIN=i,e.next=15,coreCall.setMicVol(o);case 15:p.info("userClick to enable mic gain, set client gain = ",window.CLIENTCONFIG.MIC_GAIN),e.next=25;break;case 18:return a.disabled=!0,a.style.color="#D3D3D3",window.CLIENTCONFIG.MIC_GAIN=1,s=$getState().call.micValue,e.next=24,coreCall.setMicVol(s);case 24:p.info("userClick to disable mic gain, set client gain = ",window.CLIENTCONFIG.MIC_GAIN);case 25:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.setSpkGainEnable=function(){var e=(0,f.default)(u.default.mark(function e(t){var n,r,a,i,o,s;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=!$getState().setting.spkGainEnable,$dispatch(coreUi.changeSpkGainEnable(n)),r=[{key:"spkGainEnable",value:n.toString()}],e.next=5,coreDb.saveUserConfig(r);case 5:if(p.info("userClick to change spk gain enable = ",n),a=document.getElementById(t),!n){e.next=18;break}return a.disabled=!1,a.style.color="#3c4053",i=$getState().setting.spkGain,o=$getState().call.voiceValue,window.CLIENTCONFIG.SPK_GAIN=i,e.next=15,coreCall.setSpkVol(o);case 15:p.info("userClick to enable spk gain, set gain = ",window.CLIENTCONFIG.SPK_GAIN),e.next=25;break;case 18:return a.disabled=!0,a.style.color="#D3D3D3",window.CLIENTCONFIG.SPK_GAIN=1,s=$getState().call.voiceValue,e.next=24,coreCall.setSpkVol(s);case 24:p.info("userClick to disable spk gain, set gain = ",window.CLIENTCONFIG.SPK_GAIN);case 25:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.setSvcSendLevel=function(){var e=(0,f.default)(u.default.mark(function e(t){var n,r,a;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t<0||t>=3)&&(t=0),window.svc_video_level_tbl_id=t,window.localStorage.setItem("svc_video_level_tbl_id",t),n={media:{svc_resolution_table:constant.SvcResolutionPCTable[t]}},p.info((0,s.default)(n)),e.next=7,coreTup.getCallInstance();case 7:return r=e.sent,e.next=10,r.config(n);case 10:a=e.sent,0===a.result?p.info("setSvcResTable success"):p.info("setSvcResTable failed, result = "+a.result);case 12:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),function(){var e=(0,f.default)(u.default.mark(function e(t){var n,r,a,i;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Number(t),r={audio:{audio_agc:n}},e.next=4,coreTup.getCallInstance();case 4:return a=e.sent,e.next=7,a.config(r);case 7:i=e.sent,0!==i.result&&p.info("config mic agc to call failed, result= ",i.result);case 9:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()),k=(t.setMicAgc=function(){var e=(0,f.default)(u.default.mark(function e(){var t,n;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=!$getState().setting.micAgc,$dispatch(coreUi.changeMicAgc(t)),p.info("userClick to change mic agc enable= ",t),e.next=5,I(t);case 5:return n=[{key:"micAgc",value:t.toString()}],e.next=8,coreDb.saveUserConfig(n);case 8:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.setMicGainValue=function(){var e=(0,f.default)(u.default.mark(function e(t){var n,r;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return window.CLIENTCONFIG.MIC_GAIN=t,$dispatch(coreUi.changeMicGainValue(t)),n=[{key:"micGain",value:t.toString()}],e.next=5,coreDb.saveUserConfig(n);case 5:return r=$getState().call.micValue,e.next=8,coreCall.setMicVol(r);case 8:p.info("userClick to change mic gain value = ",window.CLIENTCONFIG.MIC_GAIN);case 9:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.setSpkGainValue=function(){var e=(0,f.default)(u.default.mark(function e(t){var n,r;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return window.CLIENTCONFIG.SPK_GAIN=t,$dispatch(coreUi.changeSpkGainValue(t)),n=[{key:"spkGain",value:t.toString()}],e.next=5,coreDb.saveUserConfig(n);case 5:return r=$getState().call.voiceValue,e.next=8,coreCall.setSpkVol(r);case 8:p.info("userClick to change spk gain value = ",window.CLIENTCONFIG.SPK_GAIN);case 9:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),-1),x=(t.startSpkTestFile=function(){var e=(0,f.default)(u.default.mark(function e(){var t,n;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(-1===k){e.next=2;break}return e.abrupt("return");case 2:return t=window.path.join(window.RING_PATH,"SoundTest.wav"),e.next=5,coreCall.startPlayMediaFile(t);case 5:n=e.sent,0===n.result?(k=n.param.play_handle,p.info("userClick to start spk test file success, res = "+(0,s.default)(n))):p.info("userClick to start spk test file failed, res = ",n.result);case 7:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.stopSpkTestFile=function(){var e=(0,f.default)(u.default.mark(function e(){var t;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==k){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,coreCall.stopPlayMediaFile(k);case 4:t=e.sent,0===t.result?(k=-1,p.info("stop spk test file success")):p.info("stop spk test file failed, res = ",t.result);case 6:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.startMicPreview=function(){var e=(0,f.default)(u.default.mark(function e(){var t;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p.info("userClick to start mic preview"),e.next=3,coreCall.openAudioPreview();case 3:t=e.sent,0!==t.param.result&&p.info("userClick to start mic preview failed, result = ",t.param.result);case 5:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.stopMicPreview=function(){var e=(0,f.default)(u.default.mark(function e(){var t;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p.info("userClick to stop mic preview"),e.next=3,coreCall.closeAudioPreview();case 3:t=e.sent,0!==t.result&&p.info("userClick to stop mic preview failed, result = ",t.result);case 5:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.getMicPreviewLevel=function(){var e=(0,f.default)(u.default.mark(function e(){var t,n,r,a,i;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,coreCall.getMicLevel();case 2:if(t=e.sent,0!==t.result)p.info("get mic preview level failed, result = ",t.result);else for(n=t.param.level,r=parseInt(n/10*35),a=0;a<35;a++)i="micItem"+a.toString(),document.getElementById(i).style.backgroundColor=a<r?"#4874d3":"#c0c0c0";case 4:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.clearMicPreviewLevel=function(){for(var e=0;e<35;e++){var t="micItem"+e.toString();document.getElementById(t).style.backgroundColor="#c0c0c0"}},t.getInsertDeviceByName=function(e,t){p.info("start to find new device, old list = ",e);for(var n=0;n<t.length;n++){for(var r=!1,a=0;a<e.length;a++)if(t[n].name===e[a].name){r=!0;break}if(!1===r)return p.info("find new device success, name = ",t[n].name),n}return-1},t.getInsertDeviceById=function(e,t){p.info("start to find new device, old list = ",e);for(var n=0;n<t.length;n++){for(var r=!1,a=0;a<e.length;a++)if(t[n].device_id===e[a].device_id){r=!0;break}if(!1===r)return p.info("find new device success, id="+t[n].device_id+", name="+t[n].name),n}return-1},function(){var e=(0,f.default)(u.default.mark(function e(t,n){var r;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={key:t,value:n.toString()},e.next=3,coreDb.saveLoginSetting(r);case 3:p.info("save media device, describe="+t+", device="+n);case 4:case"end":return e.stop()}},e,void 0)}));return function(t,n){return e.apply(this,arguments)}}()),A=(t.setAndSaveMicDevice=function(){var e=(0,f.default)(u.default.mark(function e(t){var n,r,a,i;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=$getState().call.micDevicesList,!(t<n.length)){e.next=12;break}return r=n[t],e.next=5,m(r.index);case 5:if(0!==(a=e.sent)){e.next=10;break}return i=r.name,e.next=10,x("MicNameKey",i);case 10:e.next=14;break;case 12:return e.next=14,x("MicNameKey","NULL Mic Devices");case 14:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.setAndSaveSpkDevice=function(){var e=(0,f.default)(u.default.mark(function e(t){var n,r,a,i;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=$getState().call.spkDevicesList,!(t<n.length)){e.next=12;break}return r=n[t],e.next=5,y(r.index);case 5:if(0!==(a=e.sent)){e.next=10;break}return i=r.name,e.next=10,x("SpkNameKey",i);case 10:e.next=14;break;case 12:return e.next=14,x("SpkNameKey","NULL Spk Devices");case 14:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.setAndSaveCamDevice=function(){var e=(0,f.default)(u.default.mark(function e(t){var n,r,a,i,o;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=$getState().call,r=n.cameraDevicesList,a=n.isOpenCamera,p.info("camera open status: ",a),!(t<r.length)){e.next=13;break}return i=r[t],e.next=6,C(i.index);case 6:if(0!==(o=e.sent)){e.next=11;break}return!a&&coreCommon.Observer.publish("handleSetCamera",{state:!1}),e.next=11,x("CamNameKey",i.name);case 11:e.next=15;break;case 13:return e.next=15,x("CamNameKey","NULL Cam Devices");case 15:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),function(e,t){if(""!==e&&0!==t.length){p.info("start to find device by name, name=",e);for(var n=0;n<t.length;n++){var r=t[n].name;if((r=b(r))===e)return n}}return-1}),L=function(e,t){if(0!==e&&0!==t.length){p.info("start to find device by id, id=",e);for(var n=0;n<t.length;n++)if(t[n].device_id===e)return n}return-1},b=function(e){return 0===e.indexOf("default: ")&&(e=e.slice(9)),e},N=t.getDefaultSpkDevice=function(e){for(var t=e.length,n=0;n<t;n++){var r=e[n].name;if(0===r.indexOf("default: ")){if(-1===r.indexOf("Stereo"))return p.info("getDefaultSpkDevice:"+n),n;break}}var a=E(e);return p.info("getValidSpkDeviceSerialNum:"+a),a},E=t.getValidSpkDeviceSerialNum=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=e.length;if(0===n)return p.info("spk device list is null, return defaule 0"),0;if(-1!==t&&t<n){var r=e[t].name;if(p.info("start to check appointed spk device, name=",r),-1===r.indexOf("Stereo"))return t;r=b(r);var a=r.replace("Stereo","Hands-Free");p.info("appointed spk device mode is Stereo, device="+t+", start to find paired Hands-Free mode spk device, name="+a);var i=A(a,e);if(-1!==i)return p.info("find paired Hands-Free mode spk device success, serial number=",i),i}if(p.info("start to find first valid spk device"),window.CLIENTCONFIG.IS_LINK_IT_SMC_MEETING){for(var o=0;o<n;o++)if(-1===e[o].strname.indexOf("Stereo"))return p.info("[IT-Meeting] find first valid spk device success, index=",o),o}else for(var s=0;s<n;s++)if(-1===e[s].name.indexOf("Stereo"))return p.info("find first valid spk device success, index=",s),s;return p.info("there is no valid spk device finded, return defaule 0"),0},T=t.getValidCamDeviceSerialNum=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0===e.length)return p.info("camera device list null, return defaule 0"),0;if(-1!==t&&t<e.length){var r=e[t].name;p.info("start to check appointed camera device, name=",r);e[t];if(-1===r.indexOf("IR Camera"))return t}if(0!==n){p.info("start to find original camera device, device id= ",n);var a=L(n,e);if(-1!==a)return p.info("find original camera device success, serial number =",a),a}p.info("start to find first no IR camera device");for(var i=0;i<e.length;i++)if(window.CLIENTCONFIG.IS_LINK_IT_SMC_MEETING){if(-1===e[i].strname.indexOf("IR Camera"))return p.info(" [IT-Meeting] get no IR camera serial number = ",i),i}else if(-1===e[i].name.indexOf("IR Camera"))return p.info("get no IR camera serial number = ",i),i;return p.info("there is no valid camera device finded, return defaule 0"),0},_=t.setBeautyFunc=function(){var e=(0,f.default)(u.default.mark(function e(){var t,n,r,a,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=$getState().call.callId,p.info("save BeautyLevel while callId: "+Number(t)+", enable: "+Number(i)),e.next=4,coreTup.getCallInstance();case 4:return n=e.sent,n.setBeautyFunc(Number(t),Number(i)),r={key:"BeautyLevelKey",value:i.toString()},e.next=9,coreDb.saveUserConfig(r);case 9:a=e.sent,p.info("the result of saving BeautyLevel setting to db",(0,s.default)(a)),$dispatch(coreUi.changeBeautyFunc(i)),p.info("ready update to redux state");case 13:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),M=t.queryBeautyFunc=function(){var e=(0,f.default)(u.default.mark(function e(){var t,n;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,coreDb.queryUserConfig({key:"BeautyLevelKey"});case 2:if(t=e.sent,p.info("queryBeautyFunc res success: "+(0,s.default)(t)),isNullOrEmpty(t)||isNullOrEmpty(t.key)||isNullOrEmpty(t.value)){e.next=8;break}return n=(0,d.stringToBoolean)(t.value),p.info("get BeautyLevel setting from db",n),e.abrupt("return",n);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),O=t.getMediaSettingFromDB=function(){var e=(0,f.default)(u.default.mark(function e(t,n){var r,a,i,o,s,c;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=$getState(),a=r.call,i=a.micDevicesList,o=a.spkDevicesList,s=a.cameraDevicesList,p.info("getMediaSettingFromDB"),coreDb.queryLoginSetting({key:"MicNameKey"}).then(function(e){var t=0;if(isNullOrEmpty(e)||isNullOrEmpty(e.key)||isNullOrEmpty(e.value))p.info("MicName is null."),$dispatch(coreUi.changeIsShowDevicesList(!0));else{var n=e.value;p.info("get MicName setting from db",n);var r=i.findIndex(function(e){return e.name===n});p.info("type: ","NULL Mic Devices"!==n.toString()),"NULL Mic Devices"!==n.toString()&&(r<0||r>=i.length)&&(p.info("db MicName not found! dbSelectIdx:"+r),$dispatch(coreUi.changeIsShowDevicesList(!0))),t=r>0&&r<i.length?r:0}m(t)}),coreDb.queryLoginSetting({key:"SpkNameKey"}).then(function(e){var n=0;if(isNullOrEmpty(e)||isNullOrEmpty(e.key)||isNullOrEmpty(e.value))p.info("SpkName is null."),$dispatch(coreUi.changeIsShowDevicesList(!0));else{var r=e.value;p.info("get SpkName setting from db",r);var a=o.findIndex(function(e){return e.name===r});p.info("type: ","NULL Spk Devices"!==r.toString()),"NULL Spk Devices"!==r.toString()&&(a<0||a>=o.length)&&(p.info("db SpkNameKey not found! dbSelectIdx: "+a),$dispatch(coreUi.changeIsShowDevicesList(!0))),n=a>0&&a<o.length?a:t,p.info("getMediaSettingFromDB SpkNameKey db index: "+n)}y(n)}),coreDb.queryLoginSetting({key:"CamNameKey"}).then(function(e){var t=0;if(isNullOrEmpty(e)||isNullOrEmpty(e.key)||isNullOrEmpty(e.value))p.info("CamName is null."),$dispatch(coreUi.changeIsShowDevicesList(!0));else{var r=e.value;p.info("get CamName setting from db",r);var a=s.findIndex(function(e){return e.name===r});p.info("type: ","NULL Cam Devices"!==r.toString()),"NULL Cam Devices"!==r.toString()&&(a<0||a>=s.length)&&(p.info("db CamNameKey not found! dbSelectIdx:"+a),$dispatch(coreUi.changeIsShowDevicesList(!0))),t=a>0&&a<s.length?a:n,p.info("getMediaSettingFromDB CamNameKey db index: "+t)}C(t)}),e.next=7,M();case 7:c=e.sent,p.info("get beautyVal setting from db",c),_(c);case 10:case"end":return e.stop()}},e,void 0)}));return function(t,n){return e.apply(this,arguments)}}();t.showDevicesListFunc=function(){var e=(0,f.default)(u.default.mark(function e(){var t,n;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:p.info("showDevicesListFunc start."),coreCommon.isWin()&&((t=$getState().conf.isShowAudioSetting)||($dispatch(coreUi.changeIsShowDevicesList(!0)),n={},n=(0,i.default)(n,{isShowAudioSetting:!0}),coreConf.getSvcAtdManager().setParam(n)));case 2:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}()},1043:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.queryDoubleScreen=t.updateDoubleScreen=t.updateAutoAcceptConf=t.queryDbAutoLeave=t.updateAutoLeave=t.queryDbAutoLeaveTime=t.choseTime=t.saveMessageNotifyConfig=t.updateIsMobileMessageNotify=t.updateIsMessageNotify=t.queryMessageNotifyConfig=t.updateIsMessageCommingShock=t.updateIsMessageCommingRing=t.updateIsCallCommingRing=t.updateIsIMRecieveRing=t.updateIsOpenShock=void 0;var a=n(69),i=r(a),o=n(1),s=r(o),c=n(2),u=r(c),l=n(1038),f=n(600),d=coreLogger.getLogger("logic/setting")("settingConfig"),p=(t.updateIsOpenShock=function(){var e=(0,u.default)(s.default.mark(function e(){var t;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=$getState().setting.isOpenShock,t?d.info("userClick  shock and now is closed"):d.info("userClick  shock and now is open"),t=!t,e.next=5,$dispatch(coreUi.bOpenShock(t));case 5:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.updateIsIMRecieveRing=function(){var e=(0,u.default)(s.default.mark(function e(){var t;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=$getState().setting.isIMRecieveRing,t=!t,e.next=4,$dispatch(coreUi.bIMRecieveRing(t));case 4:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.updateIsCallCommingRing=function(){var e=(0,u.default)(s.default.mark(function e(){var t;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=$getState().setting.isCallCommingRing,t=!t,t?d.info("userClick  CallCommingRing  and now is open"):d.info("userClick  CallCommingRing  and now is closed"),e.next=5,$dispatch(coreUi.bCallCommingRing(t));case 5:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.updateIsMessageCommingRing=function(){var e=(0,u.default)(s.default.mark(function e(){var t;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=$getState().setting.isMessageNotifyRing,t=!t,t?d.info("userClick  MessageCommingRing  and now is open"):d.info("userClick  MessageCommingRing  and now is closed"),e.next=5,$dispatch(coreUi.bMessageNotifyRing(t));case 5:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.updateIsMessageCommingShock=function(){var e=(0,u.default)(s.default.mark(function e(){var t;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=$getState().setting.isMessageNotifyShock,t=!t,t?d.info("userClick  MessageCommingShock  and now is open"):d.info("userClick  MessageCommingShock  and now is closed"),e.next=5,$dispatch(coreUi.bMessageNotifyShock(t));case 5:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.queryMessageNotifyConfig=function(){var e=(0,u.default)(s.default.mark(function e(){var t,n,r,a;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.info("queryMessageNotifyConfig beggin!"),e.next=3,coreDb.queryUserConfig({key:"isMessageNotifyRing"});case 3:return t=e.sent,n="false"!==t.value,e.next=7,coreDb.queryUserConfig({key:"isMessageNotifyShock"});case 7:r=e.sent,a="false"!==r.value,$dispatch(coreUi.bMessageNotifyRing(n)),$dispatch(coreUi.bMessageNotifyShock(a));case 11:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.updateIsMessageNotify=function(){var e=(0,u.default)(s.default.mark(function e(){var t;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=$getState().setting.hasOpenPush)){e.next=6;break}return e.next=4,coreAccount.unRegisterPush({isOperate:!0});case 4:e.next=7;break;case 6:window.initMobileNative();case 7:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.updateIsMobileMessageNotify=function(){var e=(0,u.default)(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,coreIm.setMuteForMobile();case 2:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.saveMessageNotifyConfig=function(){var e=(0,u.default)(s.default.mark(function e(){var t,n,r,a,i,o;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=$getState().setting.isOpenShock,n=$getState().setting.isIMRecieveRing,r=$getState().setting.isCallCommingRing,a=$getState().setting.isMessageNotifyRing,i=$getState().setting.isMessageNotifyShock,o=[{key:"isOpenShock",value:t.toString()},{key:"isIMRecieveRing",value:n.toString()},{key:"isCallCommingRing",value:r.toString()},{key:"isMessageNotifyRing",value:a.toString()},{key:"isMessageNotifyShock",value:i.toString()}],e.next=8,coreDb.saveUserConfigList(o);case 8:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.choseTime=function(){var e=(0,u.default)(s.default.mark(function e(t){var n;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return isNullOrEmpty(t)&&(t=constant.AUTO_LIVE_TIME.MINUTES_5),e.next=3,coreDb.saveUserConfig({key:"autoLeaveTime",value:t});case 3:$dispatch(coreUi.changeAtuoLeaveTime(t)),n=new l.AutoLeaveSetting,n.startTime();case 6:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()),v=t.queryDbAutoLeaveTime=function(){var e=(0,u.default)(s.default.mark(function e(){var t,n;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,coreDb.queryUserConfig({key:"autoLeaveTime"});case 2:t=e.sent,n=t&&t.value,d.info("query atuo leave time from DB is",n),isNullOrEmpty(n)&&(n=constant.AUTO_LIVE_TIME.MINUTES_5),$dispatch(coreUi.changeAtuoLeaveTime(n));case 7:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),g=t.updateAutoLeave=function(){var e=(0,u.default)(s.default.mark(function e(t){var n;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=$getState().myInfo.isAutoLeave,d.info("get state isAutoLeave="+n),n=void 0!==t?t:!n,e.next=5,coreDb.saveUserConfig({key:"isAutoLeave",value:n.toString()});case 5:$dispatch(coreUi.changeAutoLeave(n)),new l.AutoLeaveSetting;case 7:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),h=(t.queryDbAutoLeave=function(){var e=(0,u.default)(s.default.mark(function e(){var t,n;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,coreDb.queryUserConfig({key:"isAutoLeave"});case 2:t=e.sent,isNullOrEmpty(t)?(g(!0),p()):(n=(0,f.stringToBoolean)(t.value),d.info("query atuo leave from DB is",n),v(),$dispatch(coreUi.changeAutoLeave(n)));case 4:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.updateAutoAcceptConf=function(){var e=(0,u.default)(s.default.mark(function e(){var t,n,r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,coreAccount.getMyInfo();case 2:return t=e.sent,n=t.isAutoAcceptConf,d.info("get state isAutoAcceptConf="+n),n=!n,r=[{key:"isAutoAcceptConf",value:n.toString()}],n?d.info("userClick  autoAcceptConf and now is open"):d.info("userClick  autoAcceptConf and now is closed"),d.info("change auto accept conf state=",n),t.isAutoAcceptConf=n,e.next=12,coreDb.saveUserConfig(r);case 12:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.updateDoubleScreen=function(){var e=(0,u.default)(s.default.mark(function e(t){var n,r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.info("userClick  change double screen enable state=",t),$dispatch(coreUi.changeEnableDoubleScreen(t)),n=[{key:"enableDoubleScreen",value:t.toString()}],d.info("user save double screen enable state="+(0,i.default)(n)),r={enableDoubleScreen:t},coreConf.getSvcAtdManager().setParam(r),e.next=8,coreDb.saveUserConfig(n);case 8:coreUt.utCustomEvent({eventId:constant.EVENT_ID.UT_CONF_ENABLE_DOUBLE_SCREEN,params:["main/conference","SettingBasicsPcEnableDoubleScreen000123",t.toString()]});case 9:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}());t.queryDoubleScreen=function(){var e=(0,u.default)(s.default.mark(function e(){var t,n;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,coreDb.queryUserConfig({key:"enableDoubleScreen"});case 2:t=e.sent,isNullOrEmpty(t)?h(!1):(n=(0,f.stringToBoolean)(t.value),d.info("query double screen enable state from DB is",n),$dispatch(coreUi.changeEnableDoubleScreen(n)));case 4:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}()},1044:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.choiceAutoResponse=t.addAutoResponseList=t.delAutoResponseList=t.addDefaultAutoResponseList=void 0;var a=n(1),i=r(a),o=n(69),s=r(o),c=n(2),u=r(c),l=coreLogger.getLogger("model")("logger"),f=(t.addDefaultAutoResponseList=function(){var e=(0,u.default)(i.default.mark(function e(){var t,n,r,a,o,c,u;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=void 0,e.next=4,coreDb.queryUserConfigList({key:"firstGetAutoResponseList"});case 4:if(r=e.sent,0!==r.length){e.next=15;break}l.info("第一次查询初始化默认自动回复语句"),coreDb.saveUserConfigList({key:"firstGetAutoResponseList",value:"isNotFirst"}),t.push({responseType:"default",defaultResponseId:"DEFAULT_RESPONSE",name:language.DEFAULT_RESPONSE}),n={responseType:"default",defaultResponseId:"DEFAULT_RESPONSE",name:language.DEFAULT_RESPONSE},coreDb.saveUserConfigList({key:"defaultAutoResponseIdList",value:"DEFAULT_RESPONSE"}),coreDb.saveUserConfigList({key:"defaultAutoResponseList",value:(0,s.default)(n)}),l.info("defaultAutoResponseList",n),e.next=29;break;case 15:return l.info("查询自动回复语句"),e.next=18,coreDb.queryUserConfigList({key:"customAutoResponseList"});case 18:return a=e.sent,e.next=21,coreDb.queryUserConfigList({key:"defaultAutoResponseIdList"});case 21:return o=e.sent,e.next=24,coreDb.queryUserConfigList({key:"defaultAutoResponseList"});case 24:c=e.sent,l.info("defaultAutoReplyPreview",c),o.length>0&&t.push({responseType:"default",defaultResponseId:"DEFAULT_RESPONSE",name:language.DEFAULT_RESPONSE});try{a.length>0&&(u=JSON.parse(a[0].value),u.map(function(e,n){t.unshift({responseType:"custom",defaultResponseId:"no",name:e.customValue})}))}catch(e){l.error("addDefaultAutoResponseList error",e)}if(c.length>0){l.info("defaultAutoResponseList true");try{n=JSON.parse(c[0].value)}catch(e){l.error("defaultAutoResponseList exception: "+e.toString()),n={responseType:"default",defaultResponseId:"DEFAULT_RESPONSE",name:language.DEFAULT_RESPONSE}}}else l.info("defaultAutoResponseList false"),n="";case 29:l.info("defaultAutoResponseList",n),$dispatch(coreUi.changeAutoReplyListConf(t)),$dispatch(coreUi.changeAutoReplyPreConf(n));case 32:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.delAutoResponseList=function(){var e=(0,u.default)(i.default.mark(function e(t,n,r){var a,o,c,u,l,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=$getState().setting.autoReplyList,o="",c=[],u=0;case 4:if(!(u<a.length)){e.next=28;break}if(!r){e.next=21;break}if("default"!==a[u].responseType){e.next=15;break}if(n!==d){e.next=9;break}return e.abrupt("break",28);case 9:return a.splice(u,1),a.push({responseType:"custom",defaultResponseId:"no",name:d}),language[p.defaultResponseId]===n&&f({responseType:"custom",defaultResponseId:"no",name:d}),e.abrupt("break",28);case 15:if(a[u].name!==n){e.next=19;break}return a[u].name=d,p.name===n&&f({responseType:"custom",defaultResponseId:"no",name:d}),e.abrupt("break",28);case 19:e.next=25;break;case 21:if(a[u].name!==n&&language[a[u].defaultResponseId]!==n){e.next=25;break}return a.splice(u,1),p.name!==n&&language[p.defaultResponseId]!==n||(0===a.length?(coreDb.deleteUserConfig({key:"defaultAutoResponseList"}),$dispatch(coreUi.changeAutoReplyPreConf(""))):f(a[0])),e.abrupt("break",28);case 25:u++,e.next=4;break;case 28:$dispatch(coreUi.changeAutoReplyListConf(a)),a.map(function(e,t){"default"===a[t].responseType?o=e.defaultResponseId:c.unshift({customValue:e.name})}),""===o?coreDb.deleteUserConfig({key:"defaultAutoResponseIdList"}):(l={responseType:"default",defaultResponseId:"DEFAULT_RESPONSE",name:language.DEFAULT_RESPONSE},coreDb.saveUserConfigList({key:"defaultAutoResponseIdList",value:(0,s.default)(l)})),coreDb.saveUserConfigList({key:"customAutoResponseList",value:(0,s.default)(c)});case 32:case"end":return e.stop()}},e,void 0)}));return function(t,n,r){return e.apply(this,arguments)}}(),t.addAutoResponseList=function(){var e=(0,u.default)(i.default.mark(function e(t){var n,r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=$getState().setting.autoReplyList,r=[],0===n.length&&f({responseType:"custom",defaultResponseId:"no",name:t}),n.length<10&&(n.unshift({responseType:"custom",defaultResponseId:"no",name:t}),n.map(function(e,t){"custom"===e.responseType&&r.unshift({customValue:e.name})}),$dispatch(coreUi.changeAutoReplyListConf(n)),coreDb.saveUserConfigList({key:"customAutoResponseList",value:(0,s.default)(r)}));case 4:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.choiceAutoResponse=function(){var e=(0,u.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:coreDb.saveUserConfigList({key:"defaultAutoResponseList",value:(0,s.default)(t)}),$dispatch(coreUi.changeAutoReplyPreConf(t));case 2:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}())},117:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HwSettingSdk=void 0;var i=n(135),o=a(i),s=n(4),c=a(s),u=n(1953),l=r(u),f=n(1954),d=r(f),p=n(1955),v=r(p),g=n(1956),h=r(g),m=n(1039),w=r(m),y=n(1958),S=r(y),C=n(1040),I=r(C),k=n(1041),x=r(k),A=n(1959),L=r(A),b=n(1043),N=r(b),E=n(600),T=r(E),_=n(1042),M=r(_),O=n(1044),D=r(O),U=n(1960),R=r(U),P=n(1961),$=r(P);t.HwSettingSdk=function e(){(0,c.default)(this,e),(0,o.default)(this,l),(0,o.default)(this,d),(0,o.default)(this,v),(0,o.default)(this,h),(0,o.default)(this,w),(0,o.default)(this,S),(0,o.default)(this,I),(0,o.default)(this,x),(0,o.default)(this,L),(0,o.default)(this,N),(0,o.default)(this,T),(0,o.default)(this,M),(0,o.default)(this,D),(0,o.default)(this,R),(0,o.default)(this,$)}},130:function(e,t,n){e.exports=n(0)(0)},135:function(e,t,n){e.exports=n(0)(562)},141:function(e,t,n){e.exports=n(0)(238)},142:function(e,t,n){"use strict";t.__esModule=!0;var r=n(159),a=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,a.default)(e)}},149:function(e,t,n){e.exports={default:n(168),__esModule:!0}},158:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(184),i=r(a),o=n(149),s=r(o);t.default=function(){function e(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=(0,s.default)(e);!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&c.return&&c.return()}finally{if(a)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if((0,i.default)(Object(t)))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},159:function(e,t,n){e.exports={default:n(173),__esModule:!0}},168:function(e,t,n){n(23),n(22),e.exports=n(169)},169:function(e,t,n){var r=n(9),a=n(26);e.exports=n(8).getIterator=function(e){var t=a(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},173:function(e,t,n){n(22),n(174),e.exports=n(8).Array.from},174:function(e,t,n){"use strict";var r=n(11),a=n(10),i=n(141),o=n(31),s=n(32),c=n(27),u=n(175),l=n(26);a(a.S+a.F*!n(33)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,a,f,d=i(e),p="function"==typeof this?this:Array,v=arguments.length,g=v>1?arguments[1]:void 0,h=void 0!==g,m=0,w=l(d);if(h&&(g=r(g,v>2?arguments[2]:void 0,2)),void 0==w||p==Array&&s(w))for(t=c(d.length),n=new p(t);t>m;m++)u(n,m,h?g(d[m],m):d[m]);else for(f=w.call(d),n=new p;!(a=f.next()).done;m++)u(n,m,h?o(f,g,[a.value,m],!0):a.value);return n.length=m,n}})},175:function(e,t,n){"use strict";var r=n(25),a=n(176);e.exports=function(e,t,n){t in e?r.f(e,t,a(0,n)):e[t]=n}},176:function(e,t,n){e.exports=n(0)(79)},184:function(e,t,n){e.exports={default:n(185),__esModule:!0}},185:function(e,t,n){n(23),n(22),e.exports=n(186)},186:function(e,t,n){var r=n(16),a=n(6)("iterator"),i=n(17);e.exports=n(8).isIterable=function(e){var t=Object(e);return void 0!==t[a]||"@@iterator"in t||i.hasOwnProperty(r(t))}},1953:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=coreLogger.getLogger("logic/setting")("changeFeedback"),a=(t.showFeedback=function(){r.info("userClick  system feedback");$getState().myInfo.account;$dispatch(coreUi.changeShowFeedback(!0))},t.hideFeedback=function(){$dispatch(coreUi.changeShowFeedback(!1)),a(!1)},t.ipcShowFeedbackCloseDialog=function(e){$dispatch(coreUi.changeCloseFeedbackDialog(e))},t.changeFeedbackAlwaysOnTop=function(e){$dispatch(coreUi.changeFeedbackAlwaysOnTop(e))})},1954:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=coreLogger.getLogger("logic/setting")("changePassword");t.showChangePassword=function(e){if(e){if(!appService.isLoginPage()&&$getState().myInfo.status===constant.ONLINE_STATUS.OFFLINE)return r.info("showChangePassword  Offline not allow"),void window.ToastNew(language.OFFLINE_STATUS);r.info("userClick  show system setting change xx window")}e||r.info("userClick  close system setting change xx window"),$dispatch(coreUi.changeShowChangePassword(e))}},1955:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setCurrentCode=function(e){$dispatch(coreUi.setCode(e))},t.changeShowEquipmentPairing=function(e){$dispatch(coreUi.changeEquipmentPairingShow(e))},t.changeTipsVisible=function(e){$dispatch(coreUi.changeTips(e))},t.setTipsInfo=function(e){$dispatch(coreUi.changeTipsInfo(e))},t.setIsResultVisible=function(e){$dispatch(coreUi.changeIsResultVisible(e))}},1956:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkAutoLeave=t.AutoLeaveSetting=void 0;var r=n(135),a=function(e){return e&&e.__esModule?e:{default:e}}(r),i=n(1038),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),s=(t.AutoLeaveSetting=o.AutoLeaveSetting,t.checkAutoLeave=o.checkAutoLeave,coreLogger.getLogger("Setting")("logic"));window.inAppOpenPage=function(e){var t={};if(isNullOrEmpty(e))return new Error("parameter require!");if(Object.type(e)===Object.type.STRING)t.url=e;else{if(Object.type(e)!==Object.type.OBJECT)return new Error("parameter error!");if(t=e,isNullOrEmpty(t.url)||!/(https|http):\/\//gi.test(t.url))return new Error("parameter url error!")}var n=t.title||language.SCAN_CODE_MEMBERSHIP,r=t.loadingTimeout||15e3,i=t.isHideHead||!1;window.dispatchEvent((0,a.default)(new Event("loadingOutSidePage"),{loadingTimeout:r})),void 0!==window.openBrowerTimer&&clearTimeout(window.openBrowerTimer),window.openBrowerTimer=setTimeout(function(){window.dispatchEvent(new Event("closeOutSidePage")),window.inAppBrowserRef&&window.inAppBrowserRef.close(),alert(language.LOGIN_RESUME_NETWORK_ERROR)},r),window.inAppBrowserRef=cordova.InAppBrowser.open(t.url,"_blank","location=no,toolbar=no,EnableViewPortScale=no,hidden=yes"),window.inAppBrowserRef.addEventListener("loadstart",function(e){/.*inappbrowserref_close_url.*/.test(e.url)&&(window.dispatchEvent(new Event("closeOutSidePage")),window.inAppClosePage())}),window.inAppBrowserRef.addEventListener("loadstop",function(){if(window.inAppBrowserRef){window.inAppBrowserRef.executeScript({code:"document.getElementById('joinMeetingAlert').previousElementSibling.style.display = 'none'"});var e='var divObj= document.createElement("div");var title ="'+n+'";var topBarHtml = `<div style="height:7.5vh"></div><div style="position: fixed; top: 0; height:7.5vh; width:100%; z-index:999999;"><div style="text-align: left;background-color: #FBFBFB;height:7.5vh;border-bottom: 1px solid #cccccc"><a href="http://inappbrowserref_close_url"><amenu id="menuAccount" style="width: 4.5vh;height: 4.5vh; margin: 1.5vh 2.25vh 1.8vh 3vh; background: url(https://bcloudec.huaweicloud.com/uPortal/portal/resources/password/images/back.svg) left center no-repeat; float: left"></amenu></a><span style="border-left: 1px solid #ddd;padding-left:3vh;font-size: 2.8vh;background-color: #FBFBFB; height:7.5vh; line-height:7.5vh">${title}</span></div></div>`;divObj.innerHTML = topBarHtml;divObj.className = "cloudLinkTop";var first=document.body.firstChild;document.body.insertBefore(divObj, first);';!i&&window.inAppBrowserRef.executeScript({code:e}),window.inAppBrowserRef.show()}window.setTimeout(function(){return window.dispatchEvent(new Event("closeOutSidePage"))},500),clearTimeout(window.openBrowerTimer)}),window.inAppBrowserRef.addEventListener("loaderror",function(){window.inAppClosePage()})},window.inAppClosePage=function(){s.info("window inAppClosePage start"),window.inAppBrowserRef&&(window.inAppBrowserRef.close(),s.info("window inAppBrowserRef close"),window.inAppBrowserRef=null),s.info("window inAppClosePage end")}},1957:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkAutoLeave=t.AutoLeaveSetting=void 0;var r=n(4),a=function(e){return e&&e.__esModule?e:{default:e}}(r),i=coreLogger.getLogger("logic")("setting/autoLeaveSetting"),o=coreCommon.isWin(),s=t.AutoLeaveSetting=function e(){var t=this;(0,a.default)(this,e),this.checkStatus=function(){var e=$getState().myInfo.status,t=coreConf.isInConf()||coreCall.getCallCount()>0;return i.info("AutoLeaveSetting checkStatus",t,e),!(e!==constant.ONLINE_STATUS.ONLINE||t)},this.checkOfflineStatus=function(){var e=$getState().myInfo.status;return e!==constant.ONLINE_STATUS.ONLINE&&e!==constant.ONLINE_STATUS.BUSY&&e!==constant.ONLINE_STATUS.DO_NOT_DISTURB&&e!==constant.ONLINE_STATUS.HIDDEN&&e!==constant.ONLINE_STATUS.LEAVE&&e!==constant.ONLINE_STATUS.MOBILE_ONLINE||!coreIm.onlyCheckEServerOnline("AutoLeaveSetting checkOfflineStatus")},this.startTime=function(){if(o){i.debug("AutoLeaveSetting startTime delay time is:",t.leaveTime);var e=60*parseInt(t.leaveTime,10)*1e3;t.checkStatus()&&t.isAuto&&c(e)}},this.stopTime=function(){i.debug("AutoLeaveSetting stopTime"),coreConf.initTimer({isStartTimer:constant.AUTO_LEAVE_TIMER.STOP,timeInterval:10})},this.start=function(){i.info("AutoLeaveSetting start leave delay time is:",t.leaveTime);var e=coreConf.isInConf()||coreCall.getCallCount()>0;if(t.checkOfflineStatus())return i.error("AutoLeaveSetting start status is offline"),t.stopTime();if(t.isAuto){if(e)return t.isLeave=!0,$dispatch(coreUi.changeOldStatus(constant.ONLINE_STATUS.LEAVE,""));t.isLeave=!0,coreAccount.pushStatusToEServer({status:constant.ONLINE_STATUS.LEAVE})}},this.stop=function(){i.info("AutoLeaveSetting stop leave"),t.isLeave=!1;var e=coreConf.isInConf()||coreCall.getCallCount()>0;return t.checkOfflineStatus()?(i.error("AutoLeaveSetting stop status is offline"),t.stopTime()):e?$dispatch(coreUi.changeOldStatus(constant.ONLINE_STATUS.ONLINE,"")):void coreAccount.pushStatusToEServer({status:constant.ONLINE_STATUS.ONLINE})},this.getSetting=function(){return i.info("AutoLeaveSetting is isAuto:",t.isAuto,"leaveTime:",t.leaveTime),{isAuto:t.isAuto,leaveTime:t.leaveTime}};var n=$getState(),r=n.myInfo.isAutoLeave,s=n.setting.autoLeaveTime;if(e.autoLeaveModel)return i.info("AutoLeaveSetting.autoLeaveModel isAuto leaveTime",r,s),e.autoLeaveModel.isAuto=r,e.autoLeaveModel.leaveTime=s,e.autoLeaveModel;this.isAuto=r,this.leaveTime=s,this.isLeave=!1,e.autoLeaveModel=this},c=(t.checkAutoLeave=function(e){if(o){var t=new s,n=coreConf.isInConf()||coreCall.getCallCount()>0;e===constant.ONLINE_STATUS.ONLINE?t.startTime():(!n&&!t.isLeave||t.checkOfflineStatus())&&t.stopTime()}},function(e){var t=$getState().myInfo.status;(coreConf.isInConf()||coreCall.getCallCount()>0||t===constant.ONLINE_STATUS.ONLINE)&&(coreConf.initTimer({isStartTimer:constant.AUTO_LEAVE_TIMER.STOP,timeInterval:10}),window.setTimeout(function(){coreConf.initTimer({isStartTimer:constant.AUTO_LEAVE_TIMER.START,timeInterval:e})},1e3))})},1958:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.drawPhotoHole=t.queryAvatarLeaderStatus=t.hideAvatarLeader=t.trunImage=t.selectImageHistory=t.loadImageHistory=t.delImageHistory=t.saveAndSendAvatar=t.drawImg=t.standardDraw=t.clipPhoneImage=t.getPhoneImg=t.chooseImg=void 0;var a=n(1040),i=r(a),o=n(1039),s=r(o);t.chooseImg=i.chooseImg,t.getPhoneImg=i.getPhoneImg,t.clipPhoneImage=i.clipPhoneImage,t.standardDraw=i.standardDraw,t.drawImg=i.drawImg,t.saveAndSendAvatar=i.saveAndSendAvatar,t.delImageHistory=i.delImageHistory,t.loadImageHistory=i.loadImageHistory,t.selectImageHistory=i.selectImageHistory,t.trunImage=i.trunImage,t.hideAvatarLeader=i.hideAvatarLeader,t.queryAvatarLeaderStatus=i.queryAvatarLeaderStatus,t.drawPhotoHole=s.drawPhotoHole},1959:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.macAutoStart=t.updateAutoStart=void 0;var a=n(1),i=r(a),o=n(2),s=r(o),c=coreLogger.getLogger("logic")("setting/SettingAutoStart");t.updateAutoStart=function(){var e=(0,s.default)(i.default.mark(function e(){var t;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=$getState().myInfo.isAutoStart,c.info("get state isAutoStart="+t),t=!t,c.info("userClick  change auto start state=",t),e.next=6,$dispatch(coreUi.changeAutoStart(t));case 6:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.macAutoStart=function(){new(window.require(window.__dirname+"/../node_extends/auto-launch"))({name:"CloudLink",path:"/Applications/CloudLink.app"}).isEnabled().then(function(e){c.info("mac auto start : "+e),window.isAutoLauncher=e,$dispatch(coreUi.changeAutoStart(e))})}},1960:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.setHasAllowCollectLogsState=t.saveAndissuedChrConfig=t.initChrUpload=t.issuedTerminalConfig=t.issuedChrConfigToCall=t.saveChrUploadState=t.packageChrConfigValue=t.getChrEnableValue=void 0;var a=n(69),i=r(a),o=n(1),s=r(o),c=n(2),u=r(c),l=n(130),f=r(l),d=coreLogger.getLogger("logic")("setting/SettingUpload"),p=t.getChrEnableValue=function(){var e=(0,u.default)(s.default.mark(function e(t){var n,r,a;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.next=3,coreAccount.getMyInfo();case 3:return r=e.sent,a=r.isAutoCollectLogs,n=!0===a?t:0,e.abrupt("return",n);case 7:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),v=t.packageChrConfigValue=function(){var e=(0,u.default)(s.default.mark(function e(t,n,r){var a,o,c,u,l;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(t);case 2:return a=e.sent,o="/chrFile",c=window.APP_DATA_PATH+o,window.fs&&(c=window.path.join(window.APP_DATA_PATH,o)),u={enable:a,report_dur:parseInt(n),media_collect_dur:parseInt(r),max_bak_file_num:20,filepath:c},l={call:{cfg_chr:u}},d.info("pakage chr config value=",(0,i.default)(l)),e.abrupt("return",l);case 10:case"end":return e.stop()}},e,void 0)}));return function(t,n,r){return e.apply(this,arguments)}}(),g=t.saveChrUploadState=function(){var e=(0,u.default)(s.default.mark(function e(t){var n,r,a,o,c;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[{key:"isAutoCollectLogs",value:t.toString()}],d.info("user saveChrUploadState="+(0,i.default)(n)),e.next=4,coreDb.saveUserConfig(n);case 4:return e.next=6,coreAccount.getMyInfo();case 6:return r=e.sent,r.isAutoCollectLogs=t,!1===t&&w(!1),a="TRUE"===window.CLIENTCONFIG["Device.ComCfg.CHR.enableCHR"]?1:0,e.next=12,p(a);case 12:o=e.sent,c={oprEvent:constant.OPR_EVENT_TYPE.CHR,chrtype:!!o},coreAccount.recordPrivacy(c);case 15:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),h=t.issuedChrConfigToCall=function(){var e=(0,u.default)(s.default.mark(function e(){var t,n,r,a,i;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="TRUE"===window.CLIENTCONFIG["Device.ComCfg.CHR.enableCHR"]?1:0,n=window.CLIENTCONFIG["Device.ComCfg.CHR.CHRPer"],r=window.CLIENTCONFIG["Device.ComCfg.CHR.CHRColPer"],e.next=5,v(t,n,r);case 5:return a=e.sent,e.next=8,coreTup.getCallInstance();case 8:return i=e.sent,e.next=11,i.config(a);case 11:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),m=(t.issuedTerminalConfig=function(){var e=(0,u.default)(s.default.mark(function e(){var t,n,r,a,o,c;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t="",n="win",r="",a="","android"!==n){e.next=8;break}t="Android",e.next=19;break;case 8:if("ios"!==n){e.next=18;break}return t="iOS",e.next=12,appService.deviceModel();case 12:return r=e.sent,e.next=15,appService.osVersion();case 15:a=e.sent,e.next=19;break;case 18:"win"===n||"bigwin"===n?t="Windows":"mac"===n&&(t="Mac");case 19:return o={network:{terminal_info:{type:t,version:window.CLIENTCONFIG.ACS_SOFTWAREVERSION_VALUE,devicemodel:r,systemversion:a}}},d.info("config terminal info for chr:"+(0,i.default)(o)),e.next=23,coreTup.getCallInstance();case 23:return c=e.sent,e.next=26,c.config(o);case 26:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.initChrUpload=function(){var e=(0,u.default)(s.default.mark(function e(){var t;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t="",coreDb.queryUserConfigList({all:""}).then(function(e){t=e.find(function(e){return"isAutoCollectLogs"===e.key});var n=$getState().displayInfo.showCHRCollectPrompt,r=!t&&n;if(d.info("initChrUpload flag=",r),r&&!window.CLIENTCONFIG.ENABLE_IT_MEETING&&window.CLIENTCONFIG.ISMOBILE&&!window.isPluginEnv)return window.confirm(f.default.createElement("div",{className:"chr-alert"},f.default.createElement("div",{className:"chr-alert-title"}," ",language.ALLOW_COLLECT_AUDIO_VIDEO_TITLE," "),f.default.createElement("div",{className:"chr-alert-text"}," ",language.ALLOW_COLLECT_AUDIO_VIDEO," ")),{leftButton:language.COLLECT_AUDIO_VIDEO_NOT_OPEN_BTN,rightButton:language.ALLOW_COLLECT_AUDIO_VIDEO_BTN}).then(function(e){e.ret?(m(!0),d.info("allow collect CHR")):(m(!1),d.info("cancel set CHR"))})});case 2:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.saveAndissuedChrConfig=function(){var e=(0,u.default)(s.default.mark(function e(t){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.info("userClick to change chr enable = "+t),e.next=3,g(t);case 3:return e.next=5,h();case 5:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()),w=t.setHasAllowCollectLogsState=function(){var e=(0,u.default)(s.default.mark(function e(t){var n,r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[{key:"hasAllowCollectLogs",value:t.toString()}],d.info("setHasAllowCollectLogsState="+(0,i.default)(n)),e.next=4,coreAccount.getMyInfo();case 4:return r=e.sent,r.hasAllowCollectLogs=t,e.next=8,coreDb.saveUserConfig(n);case 8:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()},1961:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),i=r(a),o=n(2),s=r(o),c=function(){var e=(0,s.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:0===t.code&&"total"===t.event&&(window.CLIENTCONFIG.ISBIGWIN||window.CLIENTCONFIG.ENABLE_IT_MEETING||(0,l.initialAutoResponseConf)(),window.CLIENTCONFIG.ISBIGWIN||window.CLIENTCONFIG.ENABLE_IT_MEETING?(0,f.loadUserSystemConfig)():((0,f.loadUserSystemConfig)(),(0,d.addDefaultAutoResponseList)(),(0,p.queryDbAutoLeave)()));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=(0,s.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),l=n(1041),f=n(600),d=n(1044),p=n(1043);coreLogger.getLogger("setting")("moduleMessager");coreCommon.registeModuleListener("login",c),coreCommon.registeModuleListener("logout",u)},600:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.showShortcutNotifyFuc=t.showPrivacyDes=t.showCopyrightDes=t.stringToBoolean=t.loadUserSystemConfig=t.setAdvanceSetting=t.showSystemSettings=void 0;var a=n(142),i=r(a),o=n(1),s=r(o),c=n(2),u=r(c),l=n(1042),f=n(130),d=r(f),p=coreLogger.getLogger("common")("common/callNotify");t.showSystemSettings=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"personal";p.info("userClick  show system menu system setting",e);var n=$getState().myInfo.account;if(coreUt.utCustomEvent({eventId:constant.EVENT_ID.UT_PERSONAL_SETTING,params:[isNullOrEmpty(n)?"noAccount":handleAccountPrint(n)]}),e){var r=coreCommonComponent.lazyLoadPage({getComponentProm:HwLazyUiPage.getSystemSetting});coreUi.showModal(d.default.createElement(r,{currentPage:t}))}else coreUi.hideModal();$dispatch(coreUi.changeShowSetting(e))},t.setAdvanceSetting=function(){var e=(0,u.default)(s.default.mark(function e(t,n){var r,a,i,o,c,u,l;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=[{key:"SRTPMode",value:t.SRTPMode.toString()},{key:"isMKIEnable",value:t.isMKIEnable.toString()},{key:"presentationTransferMode",value:t.presentationTransferMode.toString()},{key:"isCallHeartbeatEnable",value:t.isCallHeartbeatEnable.toString()},{key:"isNoStreamHangUp",value:t.isNoStreamHangUp.toString()},{key:"isBandwidthLimitEnable",value:t.isBandwidthLimitEnable.toString()}],e.next=3,coreDb.saveUserConfig(r);case 3:return e.next=5,$dispatch(coreUi.updateAdvanceSetting(t));case 5:return e.next=7,coreTup.getCallInstance();case 7:if(a=e.sent,i=void 0,o=void 0,c=void 0,u=void 0,l=void 0,!(n.indexOf("SRTP")>=0)){e.next=19;break}return e.next=16,coreAccount.configRTP();case 16:return i=e.sent,e.next=19,a.config(i);case 19:if(!(n.indexOf("MKI")>=0)){e.next=25;break}return e.next=22,coreAccount.configMKI();case 22:return c=e.sent,e.next=25,a.config(c);case 25:if(!(n.indexOf("BFCP")>=0)){e.next=31;break}return e.next=28,coreAccount.configBFCP();case 28:return o=e.sent,e.next=31,a.config(o);case 31:if(!(n.indexOf("Heartbeat")>=0)){e.next=37;break}return e.next=34,coreAccount.configSessionTimer();case 34:return u=e.sent,e.next=37,a.config(u);case 37:if(!(n.indexOf("Limit")>=0)){e.next=43;break}return e.next=40,coreAccount.configBandwidthLimit();case 40:return l=e.sent,e.next=43,a.config(l);case 43:case"end":return e.stop()}},e,void 0)}));return function(t,n){return e.apply(this,arguments)}}(),t.loadUserSystemConfig=function(){var e=(0,u.default)(s.default.mark(function e(){var t,n;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.CLIENTCONFIG.IS_LINK_IT_SMC_MEETING){e.next=3;break}return p.info("[IT-Meeting] no need to loadUserSystemConfig"),e.abrupt("return");case 3:return e.next=5,coreDb.queryUserConfigList({all:""});case 5:return t=e.sent,e.next=8,(0,l.initialMediaSetting)([].concat((0,i.default)(t)));case 8:if(window.CLIENTCONFIG.ISBIGWIN){e.next=14;break}return coreCommon.initialUserSetting([].concat((0,i.default)(t))),e.next=12,coreAccount.getLoginModel();case 12:n=e.sent,n.isSupportAS?coreCall.initCallBackNumAS():coreCall.initCallBackNum();case 14:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}(),t.stringToBoolean=function(e){return"true"===e},t.showCopyrightDes=delegate(function(){var e=coreCommonComponent.lazyLoadPage({getComponentProm:HwLazyUiPage.getCopyright});coreUi.showModal(d.default.createElement(e,null))},"showCopyright"),t.showPrivacyDes=delegate(function(){var e=coreCommonComponent.lazyLoadPage({getComponentProm:HwLazyUiPage.getPrivacyState});coreUi.showModal(d.default.createElement(e,null))},"showPrivacy"),t.showShortcutNotifyFuc=function(e){var t=coreCommonComponent.lazyLoadPage({getComponentProm:HwLazyUiPage.getShortcutNotify});coreUi.showModal(d.default.createElement(t,{registerFailKey:e}))}},69:function(e,t,n){e.exports={default:n(70),__esModule:!0}},70:function(e,t,n){var r=n(8),a=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}}});