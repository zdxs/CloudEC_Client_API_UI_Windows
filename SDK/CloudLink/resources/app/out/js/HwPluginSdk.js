webpackJsonp([16],{1037:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(135),o=r(i),a=n(1),s=r(a),u=n(2),c=r(u),l=n(119),f=r(l),p=n(4),h=r(p),d=n(5),m=r(d),g=n(120),N=r(g),v=n(121),I=r(v),_=n(1867),y=r(_),C=n(641),E=coreLogger.getLogger("Plugin")("logic/pluginimlp"),S=n(1868).Validator,L=function(e){function t(){var e=this;(0,h.default)(this,t);var n=(0,N.default)(this,(t.__proto__||(0,f.default)(t)).call(this));return n.registJSLoadEvent=function(){E.info("registJSLoadEvent"),coreCommon.Observer.subscribe(constant.COMMON_NOTIFY.ON_COMMON_JS_LOADED,n.handleJSLoad)},n.initSucCallback=function(){n.hasConfig&&n.hasLoadJs&&n.clmApiCallback(C.PLUGIN_CMD.INIT,C.PLUGIN_RESULT.SUCCESS)},n.handleJSLoad=function(){E.info("handleJSLoad"),n.registNotify(),n.hasLoadJs=!0,n.clmApiCallback(C.PLUGIN_CMD.JSLOADED,C.PLUGIN_RESULT.SUCCESS),n.initSucCallback()},n.loginNotify=function(e){E.info("plugin login notify:"+e.code+"  "+e.event),0!==e.code&&n.clmApiCallback(n.cmd,{code:e.code,msg:e.event})},n.sipRegResultNotify=function(e){var t=$getState().login,r=t.sipImpi;if(E.info("plugin:[sip register]"),e.param.tel_number!==r)return void E.info(" [sip register] account not compared, no handle ");constant.SIP_REGISTER_STATE.SIP_REGISTER_REGISTERED===e.param.register_state&&0===e.param.reason_code?(E.info("plugin sip notify is registered"),n.clmApiCallback(n.cmd,C.PLUGIN_RESULT.SUCCESS),coreCommon.Observer.subscribe("ConfInfoNotify",n.pluginConfConnected)):constant.SIP_REGISTER_STATE.SIP_REGISTER_REGISTERING===e.param.register_state?E.info("plugin sip notify is registering"):0===e.param.is_deregister&&(E.info("plugin sip notify register failed"),n.clmApiCallback(n.cmd,{code:C.PLUGIN_RESULT.SIP_FAIL.code,msg:C.PLUGIN_RESULT.SIP_FAIL.msg,data:e.param.reason_code}))},n.confIncomingShownNotify=function(e){if(E.info("plugin confIncoming notify"),isNullOrEmpty(e.confHandle))return void E.warn("confId is empty, ignore!");n.handleConfIncoming()},n.callIncomingShownNotify=function(e){E.info("plugin callIncoming notify"),n.handleCallIncoming()},n.pluginCallPreCheck=(0,c.default)(s.default.mark(function t(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.pluginConfPreCheck();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,e)})),n.pluginConfPreCheck=(0,c.default)(s.default.mark(function t(){var n,r,i;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,coreAccount.getLoginModel();case 2:if(n=e.sent,(r=n.uportalLoginState)===constant.UPORTAL_LOGIN_STATE.UPORTAL_LOGIN_SUCCESS){e.next=7;break}return E.info("plugin login: uportal is not logined,return fail"),e.abrupt("return",C.PLUGIN_CONF_ERROR.OFFLINE);case 7:if((i=n.sipRegisterState)===constant.SIP_REGISTER_STATE.SIP_REGISTER_REGISTERED){e.next=11;break}return E.info("plugin sip is not registered, return fail"),e.abrupt("return",C.PLUGIN_CONF_ERROR.SIP_UNREGISTER);case 11:return e.abrupt("return",C.PLUGIN_RESULT.SUCCESS);case 12:case"end":return e.stop()}},t,e)})),n.jsonStringCheck=function(){var t=(0,c.default)(s.default.mark(function t(n){var r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return E.info("jsonStringCheck config=",n),r=new S,r.addSchema(C.confSchema,"/ConfSchema"),r.addSchema(C.confMenuSchema,"/ConfMenuSchema"),e.abrupt("return",r.validate(n,C.configSchema));case 5:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),n.init=function(){var t=(0,c.default)(s.default.mark(function t(r){var i,o,a,u,c,l,f;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(E.info("plugin init: param=",r),i=!0,o="",!r.config){e.next=19;break}return e.prev=4,a=JSON.parse(r.config),e.next=8,n.jsonStringCheck(a);case 8:if(u=e.sent,E.info("plugin init: config check ret=",u),c=u.errors,c.length>0){for(l=0;l<c.length;l++)E.info("plugin init: config check failed, property=",c[l].property+", message=",c[l].message),o+=c[l].message;i=!1}else E.info("plugin init: config check success"),coreCommon.dispatchModuleEvent("pluginInitConfig",a);e.next=19;break;case 14:e.prev=14,e.t0=e.catch(4),E.error("plugin init: config check error, e=",e.t0),i=!1,o=e.t0;case 19:i?(n.hasConfig=!0,isNullOrEmpty(r.appId)||coreUt.utConfigAppId({configAppId:r.appId}),n.initSucCallback()):(f=C.PLUGIN_RESULT.ARGS_ERROR,f.msg=o,n.clmApiCallback(C.PLUGIN_CMD.INIT,f));case 20:case"end":return e.stop()}},t,e,[[4,14]])}));return function(e){return t.apply(this,arguments)}}(),n.login=function(){var t=(0,c.default)(s.default.mark(function t(r){var i,o,a,u,c;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.loginStatusCheck(r);case 2:if(!(i=e.sent)){e.next=6;break}return n.clmApiCallback(C.PLUGIN_CMD.LOGIN,i),e.abrupt("return");case 6:if(!(isNullOrEmpty(r.account)||isNullOrEmpty(r.password)||isNullOrEmpty(r.serverAddress)||isNullOrEmpty(r.serverPort))){e.next=10;break}return E.info("account or [password] is null"),n.clmApiCallback(C.PLUGIN_CMD.LOGIN,C.PLUGIN_RESULT.ARGS_ERROR),e.abrupt("return");case 10:return e.next=12,n.handlePreLogin();case 12:return E.info("login: [account]="+handlePhoneNumber(r.account)+", serverAddress="+handlePhoneNumber(r.serverAddress)+", serverPort="+handlePhoneNumber(r.serverPort)),o=r.account,a=r.serverAddress,u=r.serverPort,e.next=18,window.handleSwitchAccount({account:o,serverAddress:a,serverPort:u,noNeedLogout:!0});case 18:return e.next=20,coreAccount.getLoginModel();case 20:c=e.sent,c.password=r.password,n.cmd=C.PLUGIN_CMD.LOGIN,coreAccount.login({});case 24:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),n.call=function(){var t=(0,c.default)(s.default.mark(function t(r){var i,o,a,u;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return E.info("plugin call enter"),n.closeAllAlertAndConfirm(),e.next=4,n.pluginCallPreCheck();case 4:if(i=e.sent,0===i.code){e.next=9;break}return n.clmApiCallback(C.PLUGIN_CMD.CALL,i),E.warn("plugin call preCheck failed!"),e.abrupt("return");case 9:if(!(isNullOrEmpty(r.number)&&isNullOrEmpty(r.account)||isNullOrEmpty(r.isVideo))){e.next=13;break}return E.info("number account or isVideo is null"),n.clmApiCallback(C.PLUGIN_CMD.CALL,C.PLUGIN_RESULT.ARGS_ERROR),e.abrupt("return");case 13:if(o=null,a=null,!isNullOrEmpty(r.number)){e.next=23;break}return e.next=18,coreContact.queryUserInfoByKeyWord({keyWord:r.account});case 18:a=e.sent,isNullOrEmpty(a)||a.account!==r.account&&a.show_account!==r.account||(o=a.bind_no),E.info("search userInfo finished"),e.next=25;break;case 23:o=r.number,a=coreContact.getTempCallUserInfo(r.number);case 25:if(!isNullOrEmpty(o)){e.next=28;break}return n.clmApiCallback(C.PLUGIN_CMD.CALL,C.PLUGIN_CONF_ERROR.NUMBER_ERROR),e.abrupt("return");case 28:return e.next=30,coreCall.CallOut(o,a,r.isVideo,null,null,!1,!0);case 30:u=e.sent,E.info("plugin call callRes:",u),n.clmApiCallback(C.PLUGIN_CMD.CALL,u);case 33:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),n.creatInstantMeeting=function(){var t=(0,c.default)(s.default.mark(function t(r,i){var a,u,c,l,f,p,h,d,m,g,N,v,I,_,y;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.closeAllAlertAndConfirm(),e.next=3,n.pluginConfPreCheck();case 3:if(a=e.sent,u=i?C.PLUGIN_CMD.CREATE_MEETING_WITH_PARTICIPANTS:C.PLUGIN_CMD.CREATE_MEETING,0===a.code){e.next=9;break}return n.clmApiCallback(u,a),E.warn("plugin createMeeting preCheck failed!"),e.abrupt("return");case 9:if(E.info("creatInstantMeeting"),c=$getState().myInfo,l=[],l.push(c),f=!r.needPassword,p=r.mediaType,h=r.confSubject,!r.hasOwnProperty("participants")){e.next=38;break}if(d=r.participants,!(d.length>0)){e.next=38;break}for(m=!0,g=!1,N=void 0,e.prev=22,v=(0,o.default)(d);!(m=(I=v.next()).done);m=!0)_=I.value,l.push(_);e.next=30;break;case 26:e.prev=26,e.t0=e.catch(22),g=!0,N=e.t0;case 30:e.prev=30,e.prev=31,!m&&v.return&&v.return();case 33:if(e.prev=33,!g){e.next=36;break}throw N;case 36:return e.finish(33);case 37:return e.finish(30);case 38:return e.next=40,coreConf.actionCreateConf(c,l,{group_id:""},p,f,!1,h);case 40:y=e.sent,E.info("Plugin create result ",y),n.clmApiCallback(u,y);case 43:case"end":return e.stop()}},t,e,[[22,26,30,38],[31,,33,37]])}));return function(e,n){return t.apply(this,arguments)}}(),n.closeAllAlertAndConfirm=function(){window.hideConfirm&&window.hideConfirm(),window.hideAlert&&window.hideAlert(),coreUi.hideModal&&coreUi.hideModal(),window.hideNotifyConfirm&&window.hideNotifyConfirm(),window.clearDialogQueue&&window.clearDialogQueue()},n.joinMeetingById=function(){var t=(0,c.default)(s.default.mark(function t(r){var i,o;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.closeAllAlertAndConfirm(),e.next=3,n.pluginConfPreCheck();case 3:if(i=e.sent,0===i.code){e.next=8;break}return n.clmApiCallback(C.PLUGIN_CMD.JOIN_MEETING_BY_ID,i),E.warn("plugin joinMeetingById preCheck failed!"),e.abrupt("return");case 8:return E.info("onEnterMeetingById"),e.next=11,coreConf.enterConfByIdOnlyWithConfPas(r,!1);case 11:o=e.sent,0!==o.code&&n.clmApiCallback(C.PLUGIN_CMD.JOIN_MEETING_BY_ID,o);case 13:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),n.ssoLogin=function(){var t=(0,c.default)(s.default.mark(function t(r){var i;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.loginStatusCheck(r);case 2:if(!(i=e.sent)){e.next=6;break}return n.clmApiCallback(C.PLUGIN_CMD.SSOLOGIN,i),e.abrupt("return");case 6:if(!(isNullOrEmpty(r.domain)||isNullOrEmpty(r.userTicket)||isNullOrEmpty(r.serverAddress)||isNullOrEmpty(r.serverPort))){e.next=10;break}return E.info("domain or [code] is null"),n.clmApiCallback(C.PLUGIN_CMD.SSOLOGIN,C.PLUGIN_RESULT.ARGS_ERROR),e.abrupt("return");case 10:return e.next=12,n.handlePreLogin();case 12:E.info("login: [companyDomain]="+handlePhoneNumber(r.domain)+", serverAddress="+handlePhoneNumber(r.serverAddress)+", serverPort="+handlePhoneNumber(r.serverPort)),n.cmd=C.PLUGIN_CMD.SSOLOGIN,coreAccount.oAuthLogin(r);case 15:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),n.pluginConfConnected=function(){E.info("pluginConfConnected"),n.clmApiCallback(C.PLUGIN_CMD.JOIN_MEETING_BY_ID,C.PLUGIN_RESULT.SUCCESS)},n.loginStatusCheck=function(){var t=(0,c.default)(s.default.mark(function t(n){var r,i,o,a;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return E.info("plugin login enter"),e.next=3,coreAccount.getLoginModel();case 3:if(r=e.sent,i=r.uportalLoginState,o=r.sipRegisterState,a=isNullOrEmpty(n.account)&&isNullOrEmpty(n.password),i!==constant.UPORTAL_LOGIN_STATE.UPORTAL_LOGIN_LOGINING){e.next=10;break}return E.info("plugin login: is logining,return fail"),e.abrupt("return",C.PLUGIN_RESULT.REPEAT_ERROR);case 10:if(i!==constant.UPORTAL_LOGIN_STATE.UPORTAL_LOGIN_SUCCESS||a||n.account!==r.account){e.next=18;break}if(o!==constant.SIP_REGISTER_STATE.SIP_REGISTER_REGISTERED){e.next=16;break}return E.info("plugin login: account has already logined"),e.abrupt("return",C.PLUGIN_RESULT.SUCCESS);case 16:if(o!==constant.SIP_REGISTER_STATE.SIP_REGISTER_REGISTERING&&o!==constant.SIP_REGISTER_STATE.SIP_REGISTER_DEREGISTERING){e.next=18;break}return e.abrupt("return",C.PLUGIN_RESULT.REPEAT_ERROR);case 18:return e.abrupt("return",null);case 19:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),n.hasLoadJs=!1,n.hasConfig=!1,n.cmd=null,n}return(0,I.default)(t,e),(0,m.default)(t,[{key:"registNotify",value:function(){E.info("registNotify"),coreCommon.registeModuleListener("login",this.loginNotify),coreCommon.registeModuleListener("sipRegResultEvent",this.sipRegResultNotify),coreCommon.registeModuleListener("confIncomingShown",this.confIncomingShownNotify),coreCommon.registeModuleListener("callIncomingShown",this.callIncomingShownNotify),coreCommon.registeModuleListener("sipMultiDeviceLogined",this.handleSipMultiDeviceLogined),coreCommon.registeModuleListener("sipOtherPCLogin",this.handleSipOtherPCLogin),coreCommon.registeModuleListener("sipKickOutFinished",this.handleSipKickOutFinished),coreCommon.registeModuleListener("eServerKickOut",this.handleEServerKickOut),coreCommon.registeModuleListener("pluginUserCustomMenuClickNotify",this.pluginUserCustomMenuClickNotify),coreCommon.registeModuleListener("pluginWhiteBoardSharingStateChangedNotify",this.pluginWhiteBoardSharingStateChangedNotify),coreCommon.registeModuleListener("pluginScreenSharingStateChangedNotify",this.pluginScreenSharingStateChangedNotify),coreCommon.registeModuleListener("pluginDataSharingPersonChangedNotify",this.pluginDataSharingPersonChangedNotify),coreCommon.registeModuleListener("pluginConfInfoNotify",this.pluginConfInfoNotify),coreCommon.registeModuleListener("pluginConfStateNotify",this.pluginConfStateNotify),coreCommon.registeModuleListener("pluginGetRemoteControlPrivilegeNotify",this.pluginGetRemoteControlPrivilegeNotify),coreCommon.registeModuleListener("pluginDelRemoteControlPrivilegeNotify",this.pluginDelRemoteControlPrivilegeNotify),coreCommon.registeModuleListener("pluginDataSharingHwndInfoNotify",this.pluginDataSharingHwndInfoNotify)}}]),t}(y.default);t.default=L},110:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HwPluginSdk=void 0;var r=n(4),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n(1865);t.HwPluginSdk=function e(){(0,i.default)(this,e),(0,o.initPluginApi)()}},119:function(e,t,n){e.exports={default:n(145),__esModule:!0}},120:function(e,t,n){e.exports=n(0)(45)},121:function(e,t,n){e.exports=n(0)(47)},130:function(e,t,n){e.exports=n(0)(238)},135:function(e,t,n){e.exports={default:n(150),__esModule:!0}},137:function(e,t,n){var r=n(10),i=n(8),o=n(138);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},138:function(e,t,n){e.exports=n(0)(59)},139:function(e,t,n){e.exports=n(0)(86)},145:function(e,t,n){n(146),e.exports=n(8).Object.getPrototypeOf},146:function(e,t,n){var r=n(130),i=n(147);n(137)("getPrototypeOf",function(){return function(e){return i(r(e))}})},147:function(e,t,n){e.exports=n(0)(585)},148:function(e,t,n){e.exports=n(0)(196)},150:function(e,t,n){n(23),n(22),e.exports=n(151)},151:function(e,t,n){var r=n(9),i=n(26);e.exports=n(8).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},1865:function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.initPluginApi=void 0;var i=n(1),o=r(i),a=n(2),s=r(a),u=n(1866),c=r(u),l=n(1871),f=r(l),p=n(641),h=coreLogger.getLogger("plugin")("logic/index"),d=null;t.initPluginApi=function(){var t=(0,s.default)(o.default.mark(function t(){var n;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!coreCommon.isPc()){t.next=7;break}return t.next=3,coreCommon.getConsoleUrl();case 3:n=t.sent,n===p.PLUGIN_URL.pluginEnvConfig?window.isPluginEnv=!0:n&&"cloudlink://welinksoftclient/startupconfig?model=integrated"===n&&(window.isHubEnv=!0),t.next=8;break;case 7:window.isPluginEnv="opensdk"===e.env.CHANNEL;case 8:if(window.isPluginEnv){t.next=10;break}return t.abrupt("return");case 10:try{null===d&&(coreCommon.isMobile()?d=new c.default:coreCommon.isWin()&&(d=new f.default),d&&(d.registChannel(),d.registJSLoadEvent()))}catch(e){h.error("init plugin api error",e.toString())}case 11:case"end":return t.stop()}},t,void 0)}));return function(){return t.apply(this,arguments)}}()}).call(t,n(148))},1866:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(69),o=r(i),a=n(1),s=r(a),u=n(2),c=r(u),l=n(119),f=r(l),p=n(4),h=r(p),d=n(120),m=r(d),g=n(121),N=r(g),v=n(1037),I=r(v),_=n(641),y=coreLogger.getLogger("Plugin")("logic/pluginimlp"),C=function(e){function t(){var e,n,r,i,a=this;(0,h.default)(this,t);for(var u=arguments.length,l=Array(u),p=0;p<u;p++)l[p]=arguments[p];return n=r=(0,m.default)(this,(e=t.__proto__||(0,f.default)(t)).call.apply(e,[this].concat(l))),r.registChannel=(0,c.default)(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.openClmApi=r.openClmApi,window.backToNativeView=r.backToNativeView,window.isNeedBackToNative=r.isNeedBackToNative;case 3:case"end":return e.stop()}},e,a)})),r.clmApiCallback=function(e,t){if(coreCommon.isIos())window.cordova.exec(null,null,"OCJSBridge","clmApiCallback",[e,t]);else if(coreCommon.isAndroid()){var n=(0,o.default)(t);window.webView.clmApiCallback(e,n)}},r.openClmApi=function(e,t){switch(y.info("openClmApi"),e){case _.PLUGIN_CMD.INIT:r.init(t);break;case _.PLUGIN_CMD.LOGIN:r.login(t);break;case _.PLUGIN_CMD.CALL:r.call(t);break;case _.PLUGIN_CMD.CREATE_MEETING:r.creatInstantMeeting(t,!1);break;case _.PLUGIN_CMD.CREATE_MEETING_WITH_PARTICIPANTS:r.creatInstantMeeting(t,!0);break;case _.PLUGIN_CMD.JOIN_MEETING_BY_ID:r.joinMeetingById(t);break;case _.PLUGIN_CMD.SSOLOGIN:r.ssoLogin(t);break;default:y.error("call error:cmd not defined"),r.clmApiCallback(e,_.PLUGIN_RESULT.CMD_ERROR)}},r.isNeedBackToNative=function(e){if(y.info("isNeedBackToNative enter,path = ",e),coreCommon.isPc())return!1;var t=window.getRoute();if(isNullOrEmpty(e)||isNullOrEmpty(t))return!1;var n=["callMain","ConfMemberList","mConfMemberPage","mShowQrcode","mSelectBox","mInitShowSelectBox","selectCorporateDirectory","selectPhoneAddress","selectCorporateDirctory"];return n.includes(t)&&!n.includes(e)},r.backToNativeView=function(){},r.handlePreLogin=(0,c.default)(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return $getState().dialogModal.isShowDialog&&(y.info("clear dialog"),window.clearDialogQueueIt($getState().dialogModal.contentStr)),e.next=3,coreCommon.initLogin(!1);case 3:case"end":return e.stop()}},e,a)})),r.handleConfIncoming=(0,c.default)(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}},e,a)})),r.handleCallIncoming=(0,c.default)(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}},e,a)})),r.handleSipMultiDeviceLogined=function(){y.info("plugin multi device logined "),r.clmApiCallback(_.PLUGIN_CMD.LOGIN,_.PLUGIN_LOGIN_ERROR.MULTI_DEVICE_ONLINE)},r.handleSipOtherPCLogin=function(){y.info("handleSipOtherPCLogin enter");var e=_.PLUGIN_LOGIN_ERROR.OTHER_PC_LOGINED;r.handleSipKickOut(e)},r.handleSipKickOutFinished=function(){var e=_.PLUGIN_LOGIN_ERROR.KICK_OUT;r.handleSipKickOut(e)},r.handleEServerKickOut=function(){var e=_.PLUGIN_LOGIN_ERROR.KICK_OUT;r.handleSipKickOut(e)},r.handleSipKickOut=function(e){y.info("plugin sip kick out ")},r.pluginUserCustomMenuClickNotify=function(){},r.pluginWhiteBoardSharingStateChangedNotify=function(){},r.pluginDataSharingPersonChangedNotify=function(){},r.pluginConfInfoNotify=function(){},r.pluginConfStateNotify=function(){},r.pluginGetRemoteControlPrivilegeNotify=function(){},r.pluginDelRemoteControlPrivilegeNotify=function(){},r.pluginDataSharingShareHwndInfoNotify=function(){},i=n,(0,m.default)(r,i)}return(0,N.default)(t,e),t}(I.default);t.default=C},1867:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(1),o=r(i),a=n(2),s=r(a),u=n(119),c=r(u),l=n(4),f=r(l),p=n(120),h=r(p),d=n(121),m=r(d),g=function(e){function t(){var e,n,r,i,a=this;(0,f.default)(this,t);for(var u=arguments.length,l=Array(u),p=0;p<u;p++)l[p]=arguments[p];return n=r=(0,h.default)(this,(e=t.__proto__||(0,c.default)(t)).call.apply(e,[this].concat(l))),r.init=function(){var e=(0,s.default)(o.default.mark(function e(t){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,a)}));return function(t){return e.apply(this,arguments)}}(),r.login=function(){var e=(0,s.default)(o.default.mark(function e(t){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,a)}));return function(t){return e.apply(this,arguments)}}(),r.ssoLogin=function(){var e=(0,s.default)(o.default.mark(function e(t){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,a)}));return function(t){return e.apply(this,arguments)}}(),r.call=function(){var e=(0,s.default)(o.default.mark(function e(t){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,a)}));return function(t){return e.apply(this,arguments)}}(),r.creatInstantMeeting=function(){var e=(0,s.default)(o.default.mark(function e(t,n){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,a)}));return function(t,n){return e.apply(this,arguments)}}(),r.joinMeetingById=function(){var e=(0,s.default)(o.default.mark(function e(t){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,a)}));return function(t){return e.apply(this,arguments)}}(),r.closeApp=(0,s.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,a)})),i=n,(0,h.default)(r,i)}return(0,m.default)(t,e),t}(coreCommon.Interface);t.default=g},1868:function(e,t,n){"use strict";var r=e.exports.Validator=n(1869);e.exports.ValidatorResult=n(399).ValidatorResult,e.exports.ValidationError=n(399).ValidationError,e.exports.SchemaError=n(399).SchemaError,e.exports.SchemaScanResult=n(867).SchemaScanResult,e.exports.scan=n(867).scan,e.exports.validate=function(e,t,n){return(new r).validate(e,t,n)}},1869:function(e,t,n){"use strict";function r(e){var t="string"==typeof e?e:e.$ref;return"string"==typeof t&&t}var i=n(239),o=n(1870),a=n(399),s=n(867).scan,u=a.ValidatorResult,c=a.SchemaError,l=a.SchemaContext,f=function e(){this.customFormats=Object.create(e.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(p),this.attributes=Object.create(o.validators)};f.prototype.customFormats={},f.prototype.schemas=null,f.prototype.types=null,f.prototype.attributes=null,f.prototype.unresolvedRefs=null,f.prototype.addSchema=function(e,t){var n=this;if(!e)return null;var r=s(t||"/",e),i=t||e.id;for(var o in r.id)this.schemas[o]=r.id[o];for(var o in r.ref)this.unresolvedRefs.push(o);return this.unresolvedRefs=this.unresolvedRefs.filter(function(e){return void 0===n.schemas[e]}),this.schemas[i]},f.prototype.addSubSchemaArray=function(e,t){if(t instanceof Array)for(var n=0;n<t.length;n++)this.addSubSchema(e,t[n])},f.prototype.addSubSchemaObject=function(e,t){if(t&&"object"==typeof t)for(var n in t)this.addSubSchema(e,t[n])},f.prototype.setSchemas=function(e){this.schemas=e},f.prototype.getSchema=function(e){return this.schemas[e]},f.prototype.validate=function(e,t,n,r){n||(n={});var o=n.propertyName||"instance",a=i.resolve(n.base||"/",t.id||"");if(!r){r=new l(t,n,o,a,Object.create(this.schemas)),r.schemas[a]||(r.schemas[a]=t);var u=s(a,t);for(var f in u.id){var p=u.id[f];r.schemas[f]=p}}if(t){var h=this.validateSchema(e,t,n,r);if(!h)throw new Error("Result undefined");return h}throw new c("no schema specified",t)},f.prototype.validateSchema=function(e,t,n,i){var s=new u(e,t,n,i);if("boolean"==typeof t)!0===t?t={}:!1===t&&(t={type:[]});else if(!t)throw new Error("schema is undefined");if(t.extends)if(t.extends instanceof Array){var f={schema:t,ctx:i};t.extends.forEach(this.schemaTraverser.bind(this,f)),t=f.schema,f.schema=null,f.ctx=null,f=null}else t=a.deepMerge(t,this.superResolve(t.extends,i));var p;if(p=r(t)){var h=this.resolve(t,p,i),d=new l(h.subschema,n,i.propertyPath,h.switchSchema,i.schemas);return this.validateSchema(e,h.subschema,n,d)}var m=n&&n.skipAttributes||[];for(var g in t)if(!o.ignoreProperties[g]&&m.indexOf(g)<0){var N=null,v=this.attributes[g];if(v)N=v.call(this,e,t,n,i);else if(!1===n.allowUnknownAttributes)throw new c("Unsupported attribute: "+g,t);N&&s.importErrors(N)}if("function"==typeof n.rewrite){var I=n.rewrite.call(this,e,t,n,i);s.instance=I}return s},f.prototype.schemaTraverser=function(e,t){e.schema=a.deepMerge(e.schema,this.superResolve(t,e.ctx))},f.prototype.superResolve=function(e,t){var n;return(n=r(e))?this.resolve(e,n,t).subschema:e},f.prototype.resolve=function(e,t,n){if(t=n.resolve(t),n.schemas[t])return{subschema:n.schemas[t],switchSchema:t};var r=i.parse(t),o=r&&r.hash,s=o&&o.length&&t.substr(0,t.length-o.length);if(!s||!n.schemas[s])throw new c("no such schema <"+t+">",e);var u=a.objectGetPath(n.schemas[s],o.substr(1));if(void 0===u)throw new c("no such schema "+o+" located in <"+s+">",e);return{subschema:u,switchSchema:t}},f.prototype.testType=function(e,t,n,r,i){if("function"==typeof this.types[i])return this.types[i].call(this,e);if(i&&"object"==typeof i){var o=this.validateSchema(e,i,n,r);return void 0===o||!(o&&o.errors.length)}return!0};var p=f.prototype.types={};p.string=function(e){return"string"==typeof e},p.number=function(e){return"number"==typeof e&&isFinite(e)},p.integer=function(e){return"number"==typeof e&&e%1==0},p.boolean=function(e){return"boolean"==typeof e},p.array=function(e){return Array.isArray(e)},p.null=function(e){return null===e},p.date=function(e){return e instanceof Date},p.any=function(e){return!0},p.object=function(e){return e&&"object"==typeof e&&!(e instanceof Array)&&!(e instanceof Date)},e.exports=f},1870:function(e,t,n){"use strict";function r(e,t,n,r,i){var o=t.throwError;t.throwError=!1;var a=this.validateSchema(e,i,t,n);return t.throwError=o,!a.valid&&r instanceof Function&&r(a),a.valid}function i(e,t,n,r,i,o){if(this.types.object(e)&&(!t.properties||void 0===t.properties[i]))if(!1===t.additionalProperties)o.addError({name:"additionalProperties",argument:i,message:"additionalProperty "+JSON.stringify(i)+" exists in instance when not allowed"});else{var a=t.additionalProperties||{};"function"==typeof n.preValidateProperty&&n.preValidateProperty(e,i,a,n,r);var s=this.validateSchema(e[i],a,n,r.makeChild(a,i));s.instance!==o.instance[i]&&(o.instance[i]=s.instance),o.importErrors(s)}}function o(e,t,n){var r,i=n.length;for(r=t+1,i;r<i;r++)if(a.deepCompareStrict(e,n[r]))return!1;return!0}var a=n(399),s=a.ValidatorResult,u=a.SchemaError,c={};c.ignoreProperties={id:!0,default:!0,description:!0,title:!0,exclusiveMinimum:!0,exclusiveMaximum:!0,additionalItems:!0,$schema:!0,$ref:!0,extends:!0};var l=c.validators={};l.type=function(e,t,n,r){if(void 0===e)return null;var i=new s(e,t,n,r),o=Array.isArray(t.type)?t.type:[t.type];if(!o.some(this.testType.bind(this,e,t,n,r))){var a=o.map(function(e){return e.id&&"<"+e.id+">"||e+""});i.addError({name:"type",argument:a,message:"is not of a type(s) "+a})}return i},l.anyOf=function(e,t,n,i){if(void 0===e)return null;var o=new s(e,t,n,i),a=new s(e,t,n,i);if(!Array.isArray(t.anyOf))throw new u("anyOf must be an array");if(!t.anyOf.some(r.bind(this,e,n,i,function(e){a.importErrors(e)}))){var c=t.anyOf.map(function(e,t){return e.id&&"<"+e.id+">"||e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+t+"]"});n.nestedErrors&&o.importErrors(a),o.addError({name:"anyOf",argument:c,message:"is not any of "+c.join(",")})}return o},l.allOf=function(e,t,n,r){if(void 0===e)return null;if(!Array.isArray(t.allOf))throw new u("allOf must be an array");var i=new s(e,t,n,r),o=this;return t.allOf.forEach(function(t,a){var s=o.validateSchema(e,t,n,r);if(!s.valid){var u=t.id&&"<"+t.id+">"||t.title&&JSON.stringify(t.title)||t.$ref&&"<"+t.$ref+">"||"[subschema "+a+"]";i.addError({name:"allOf",argument:{id:u,length:s.errors.length,valid:s},message:"does not match allOf schema "+u+" with "+s.errors.length+" error[s]:"}),i.importErrors(s)}}),i},l.oneOf=function(e,t,n,i){if(void 0===e)return null;if(!Array.isArray(t.oneOf))throw new u("oneOf must be an array");var o=new s(e,t,n,i),a=new s(e,t,n,i),c=t.oneOf.filter(r.bind(this,e,n,i,function(e){a.importErrors(e)})).length,l=t.oneOf.map(function(e,t){return e.id&&"<"+e.id+">"||e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+t+"]"});return 1!==c&&(n.nestedErrors&&o.importErrors(a),o.addError({name:"oneOf",argument:l,message:"is not exactly one from "+l.join(",")})),o},l.properties=function(e,t,n,r){if(this.types.object(e)){var i=new s(e,t,n,r),o=t.properties||{};for(var a in o){"function"==typeof n.preValidateProperty&&n.preValidateProperty(e,a,o[a],n,r);var u=Object.hasOwnProperty.call(e,a)?e[a]:void 0,c=this.validateSchema(u,o[a],n,r.makeChild(o[a],a));c.instance!==i.instance[a]&&(i.instance[a]=c.instance),i.importErrors(c)}return i}},l.patternProperties=function(e,t,n,r){if(this.types.object(e)){var o=new s(e,t,n,r),a=t.patternProperties||{};for(var u in e){var c=!0;for(var l in a){if(new RegExp(l).test(u)){c=!1,"function"==typeof n.preValidateProperty&&n.preValidateProperty(e,u,a[l],n,r);var f=this.validateSchema(e[u],a[l],n,r.makeChild(a[l],u));f.instance!==o.instance[u]&&(o.instance[u]=f.instance),o.importErrors(f)}}c&&i.call(this,e,t,n,r,u,o)}return o}},l.additionalProperties=function(e,t,n,r){if(this.types.object(e)){if(t.patternProperties)return null;var o=new s(e,t,n,r);for(var a in e)i.call(this,e,t,n,r,a,o);return o}},l.minProperties=function(e,t,n,r){if(this.types.object(e)){var i=new s(e,t,n,r);return Object.keys(e).length>=t.minProperties||i.addError({name:"minProperties",argument:t.minProperties,message:"does not meet minimum property length of "+t.minProperties}),i}},l.maxProperties=function(e,t,n,r){if(this.types.object(e)){var i=new s(e,t,n,r);return Object.keys(e).length<=t.maxProperties||i.addError({name:"maxProperties",argument:t.maxProperties,message:"does not meet maximum property length of "+t.maxProperties}),i}},l.items=function(e,t,n,r){var i=this;if(this.types.array(e)&&t.items){var o=new s(e,t,n,r);return e.every(function(e,a){var s=Array.isArray(t.items)?t.items[a]||t.additionalItems:t.items;if(void 0===s)return!0;if(!1===s)return o.addError({name:"items",message:"additionalItems not permitted"}),!1;var u=i.validateSchema(e,s,n,r.makeChild(s,a));return u.instance!==o.instance[a]&&(o.instance[a]=u.instance),o.importErrors(u),!0}),o}},l.minimum=function(e,t,n,r){if(this.types.number(e)){var i=new s(e,t,n,r),o=!0;return o=t.exclusiveMinimum&&!0===t.exclusiveMinimum?e>t.minimum:e>=t.minimum,o||i.addError({name:"minimum",argument:t.minimum,message:"must have a minimum value of "+t.minimum}),i}},l.maximum=function(e,t,n,r){if(this.types.number(e)){var i,o=new s(e,t,n,r);return i=t.exclusiveMaximum&&!0===t.exclusiveMaximum?e<t.maximum:e<=t.maximum,i||o.addError({name:"maximum",argument:t.maximum,message:"must have a maximum value of "+t.maximum}),o}};var f=function(e,t,n,r,i,o){if(this.types.number(e)){var c=t[i];if(0==c)throw new u(i+" cannot be zero");var l=new s(e,t,n,r),f=a.getDecimalPlaces(e),p=a.getDecimalPlaces(c),h=Math.max(f,p),d=Math.pow(10,h);return Math.round(e*d)%Math.round(c*d)!=0&&l.addError({name:i,argument:c,message:o+JSON.stringify(c)}),l}};l.multipleOf=function(e,t,n,r){return f.call(this,e,t,n,r,"multipleOf","is not a multiple of (divisible by) ")},l.divisibleBy=function(e,t,n,r){return f.call(this,e,t,n,r,"divisibleBy","is not divisible by (multiple of) ")},l.required=function(e,t,n,r){var i=new s(e,t,n,r);return void 0===e&&!0===t.required?i.addError({name:"required",message:"is required"}):this.types.object(e)&&Array.isArray(t.required)&&t.required.forEach(function(t){void 0===e[t]&&i.addError({name:"required",argument:t,message:"requires property "+JSON.stringify(t)})}),i},l.pattern=function(e,t,n,r){if(this.types.string(e)){var i=new s(e,t,n,r);return e.match(t.pattern)||i.addError({name:"pattern",argument:t.pattern,message:"does not match pattern "+JSON.stringify(t.pattern)}),i}},l.format=function(e,t,n,r){if(void 0!==e){var i=new s(e,t,n,r);return i.disableFormat||a.isFormat(e,t.format,this)||i.addError({name:"format",argument:t.format,message:"does not conform to the "+JSON.stringify(t.format)+" format"}),i}},l.minLength=function(e,t,n,r){if(this.types.string(e)){var i=new s(e,t,n,r),o=e.match(/[\uDC00-\uDFFF]/g);return e.length-(o?o.length:0)>=t.minLength||i.addError({name:"minLength",argument:t.minLength,message:"does not meet minimum length of "+t.minLength}),i}},l.maxLength=function(e,t,n,r){if(this.types.string(e)){var i=new s(e,t,n,r),o=e.match(/[\uDC00-\uDFFF]/g);return e.length-(o?o.length:0)<=t.maxLength||i.addError({name:"maxLength",argument:t.maxLength,message:"does not meet maximum length of "+t.maxLength}),i}},l.minItems=function(e,t,n,r){if(this.types.array(e)){var i=new s(e,t,n,r);return e.length>=t.minItems||i.addError({name:"minItems",argument:t.minItems,message:"does not meet minimum length of "+t.minItems}),i}},l.maxItems=function(e,t,n,r){if(this.types.array(e)){var i=new s(e,t,n,r);return e.length<=t.maxItems||i.addError({name:"maxItems",argument:t.maxItems,message:"does not meet maximum length of "+t.maxItems}),i}},l.uniqueItems=function(e,t,n,r){function i(e,t,n){for(var r=t+1;r<n.length;r++)if(a.deepCompareStrict(e,n[r]))return!1;return!0}if(this.types.array(e)){var o=new s(e,t,n,r);return e.every(i)||o.addError({name:"uniqueItems",message:"contains duplicate item"}),o}},l.uniqueItems=function(e,t,n,r){if(this.types.array(e)){var i=new s(e,t,n,r);return e.every(o)||i.addError({name:"uniqueItems",message:"contains duplicate item"}),i}},l.dependencies=function(e,t,n,r){if(this.types.object(e)){var i=new s(e,t,n,r);for(var o in t.dependencies)if(void 0!==e[o]){var a=t.dependencies[o],u=r.makeChild(a,o);if("string"==typeof a&&(a=[a]),Array.isArray(a))a.forEach(function(t){void 0===e[t]&&i.addError({name:"dependencies",argument:u.propertyPath,message:"property "+t+" not found, required by "+u.propertyPath})});else{var c=this.validateSchema(e,a,n,u);i.instance!==c.instance&&(i.instance=c.instance),c&&c.errors.length&&(i.addError({name:"dependencies",argument:u.propertyPath,message:"does not meet dependency required by "+u.propertyPath}),i.importErrors(c))}}return i}},l.enum=function(e,t,n,r){if(void 0===e)return null;if(!Array.isArray(t.enum))throw new u("enum expects an array",t);var i=new s(e,t,n,r);return t.enum.some(a.deepCompareStrict.bind(null,e))||i.addError({name:"enum",argument:t.enum,message:"is not one of enum values: "+t.enum.map(String).join(",")}),i},l.const=function(e,t,n,r){if(void 0===e)return null;var i=new s(e,t,n,r);return a.deepCompareStrict(t.const,e)||i.addError({name:"const",argument:t.const,message:"does not exactly match expected constant: "+t.const}),i},l.not=l.disallow=function(e,t,n,r){var i=this;if(void 0===e)return null;var o=new s(e,t,n,r),a=t.not||t.disallow;return a?(Array.isArray(a)||(a=[a]),a.forEach(function(a){if(i.testType(e,t,n,r,a)){var s=a&&a.id&&"<"+a.id+">"||a;o.addError({name:"not",argument:s,message:"is of prohibited type "+s})}}),o):null},e.exports=c},1871:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(69),o=r(i),a=n(1),s=r(a),u=n(2),c=r(u),l=n(119),f=r(l),p=n(4),h=r(p),d=n(5),m=r(d),g=n(120),N=r(g),v=n(121),I=r(v),_=n(1037),y=r(_),C=n(1872),E=r(C),S=n(641),L=n(1873),O=r(L),b=coreLogger.getLogger("plugin")("logic/index"),P=function(e){function t(){var e=this;(0,h.default)(this,t);var n=(0,N.default)(this,(t.__proto__||(0,f.default)(t)).call(this));return n.registChannel=(0,c.default)(s.default.mark(function t(){var r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return window.openClmApi=n.openClmApi,e.next=3,new E.default;case 3:r=e.sent,null!==r?(r.setCmdFunc(n.openClmApi),b.info("initPlugin: Create WebSocket success.")):b.info("initPlugin: Create WebSocket failed.");case 5:case"end":return e.stop()}},t,e)})),n.clmApiCallback=function(){var t=(0,c.default)(s.default.mark(function t(n,r){var i,o,a;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:b.info("pluginCmdCallback: cmd=",n+", result=",r),i=void 0,e.t0=n,e.next=e.t0===S.PLUGIN_CMD.INIT?5:e.t0===S.PLUGIN_CMD.LOGIN?7:e.t0===S.PLUGIN_CMD.SSOLOGIN?9:e.t0===S.PLUGIN_CMD.CREATE_MEETING?11:e.t0===S.PLUGIN_CMD.CREATE_MEETING_WITH_PARTICIPANTS?13:e.t0===S.PLUGIN_CMD.JOIN_MEETING_BY_ID?15:17;break;case 5:return i=constant.CLK_PLUGIN_CMD.PLUGIN_CMD_INIT,e.abrupt("break",19);case 7:return i=constant.CLK_PLUGIN_CMD.PLUGIN_CMD_LOGIN,e.abrupt("break",19);case 9:return i=constant.CLK_PLUGIN_CMD.PLUGIN_CMD_SSOLOGIN,e.abrupt("break",19);case 11:return i=constant.CLK_PLUGIN_CMD.PLUGIN_CMD_CREATE_MEETING,e.abrupt("break",19);case 13:return i=constant.CLK_PLUGIN_CMD.PLUGIN_CMD_CREATE_MEETING_WITH_PARTICIPANTS,e.abrupt("break",19);case 15:return i=constant.CLK_PLUGIN_CMD.PLUGIN_CMD_JOIN_MEETING_BY_ID,e.abrupt("break",19);case 17:return b.info("cmd error"),e.abrupt("return");case 19:return e.next=21,new E.default;case 21:o=e.sent,a=0,0!==r.code&&"0"!==r.code&&(a=1),o.postRpsMessage(i,a);case 25:case"end":return e.stop()}},t,e)}));return function(e,n){return t.apply(this,arguments)}}(),n.clmApiNotify=function(){var t=(0,c.default)(s.default.mark(function t(n,r){var i,o,a;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=void 0,e.t0=n,e.next=e.t0===S.PLUGIN_NOTIFY.CUSTOM_MENU_CLICK?4:e.t0===S.PLUGIN_NOTIFY.DATA_SHARING_STATE_CHANGED?6:e.t0===S.PLUGIN_NOTIFY.DATA_SHARING_PERSON_CHANGED?8:e.t0===S.PLUGIN_NOTIFY.CONF_INFO?10:e.t0===S.PLUGIN_NOTIFY.CONF_LIFECYCLE?12:e.t0===S.PLUGIN_NOTIFY.GET_REMOTE_CONTROL_PRIVLEGE?14:e.t0===S.PLUGIN_NOTIFY.DEL_REMOTE_CONTROL_PRIVLEGE?16:e.t0===S.PLUGIN_NOTIFY.DATA_SHARING_HWND_INFO?18:e.t0===S.PLUGIN_NOTIFY.PLUGIN_NOTIFY_USER_WAS_KICKED_OUT?20:22;break;case 4:return i=constant.CLK_PLUGIN_NOTIFY.PLUGIN_NOTIFY_CUSTOM_MENU_CLICK,e.abrupt("break",24);case 6:return i=constant.CLK_PLUGIN_NOTIFY.PLUGIN_NOTIFY_DATA_SHARING_STATE_CHANGED,e.abrupt("break",24);case 8:return i=constant.CLK_PLUGIN_NOTIFY.PLUGIN_NOTIFY_DATA_SHARING_PERSON_CHANGED,e.abrupt("break",24);case 10:return i=constant.CLK_PLUGIN_NOTIFY.PLUGIN_NOTIFY_CONF_INFO,e.abrupt("break",24);case 12:return i=constant.CLK_PLUGIN_NOTIFY.PLUGIN_NOTIFY_CONF_LIFECYCLE,e.abrupt("break",24);case 14:return i=constant.CLK_PLUGIN_NOTIFY.PLUGIN_NOTIFY_GET_REMOTE_CONTROL_PRIVLEGE,e.abrupt("break",24);case 16:return i=constant.CLK_PLUGIN_NOTIFY.PLUGIN_NOTIFY_DEL_REMOTE_CONTROL_PRIVLEGE,e.abrupt("break",24);case 18:return i=constant.CLK_PLUGIN_NOTIFY.PLUGIN_NOTIFY_DATA_SHARING_HWND_INFO,e.abrupt("break",24);case 20:return i=constant.CLK_PLUGIN_NOTIFY.PLUGIN_NOTIFY_USER_WAS_KICKED_OUT,e.abrupt("break",24);case 22:return b.info("notify cmd error"),e.abrupt("return");case 24:return o={},o.nty=i,o.description=n,o.result=0,o.param=r,b.info("clmApiNotify: notify=",o),e.next=32,new E.default;case 32:a=e.sent,a.postNotifyMessage(o);case 34:case"end":return e.stop()}},t,e)}));return function(e,n){return t.apply(this,arguments)}}(),n.closeApp=(0,c.default)(s.default.mark(function t(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:b.info("closeApp begin"),setTimeout(function(){try{appService.exitApp()}catch(e){b.error("closeApp:",{e:e.toJSON()})}},500);case 2:case"end":return e.stop()}},t,e)})),n.openClmApi=function(e){var t=e.cmd;switch(b.info("openClmApi: cmd=",t),t){case constant.CLK_PLUGIN_CMD.PLUGIN_CMD_INIT:n.init(e.param);break;case constant.CLK_PLUGIN_CMD.PLUGIN_CMD_LOGIN:n.login(e.param);break;case constant.CLK_PLUGIN_CMD.PLUGIN_CMD_SSOLOGIN:n.ssoLogin(e.param);break;case S.PLUGIN_CMD.CALL:n.call(e.param);break;case constant.CLK_PLUGIN_CMD.PLUGIN_CMD_CREATE_MEETING:n.creatInstantMeeting(e.param,!1);break;case constant.CLK_PLUGIN_CMD.PLUGIN_CMD_CREATE_MEETING_WITH_PARTICIPANTS:n.creatInstantMeeting(e.param,!0);break;case constant.CLK_PLUGIN_CMD.PLUGIN_CMD_JOIN_MEETING_BY_ID:n.joinMeetingById(e.param);break;case constant.CLK_PLUGIN_CMD.PLUGIN_CMD_EXIT:n.closeApp();break;default:b.error("pluginCmdCallback: not support, data=",(0,o.default)(e))}},n.handlePreLogin=function(){},n.handleConfIncoming=(0,c.default)(s.default.mark(function t(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)})),n.handleCallIncoming=(0,c.default)(s.default.mark(function t(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)})),n.handleSipOtherPCLogin=function(){},n.handleSipKickOutFinished=function(){b.info("plugin: handleSipKickOutFinished");var e=S.PLUGIN_LOGIN_ERROR.KICK_OUT;n.clmApiNotify(S.PLUGIN_NOTIFY.PLUGIN_NOTIFY_USER_WAS_KICKED_OUT,e)},n.handleEServerKickOut=function(){b.info("plugin: handleEServerKickOut");var e=S.PLUGIN_LOGIN_ERROR.KICK_OUT;n.clmApiNotify(S.PLUGIN_NOTIFY.PLUGIN_NOTIFY_USER_WAS_KICKED_OUT,e)},n.pluginUserCustomMenuClickNotify=function(e){b.info("plugin: pluginUserCustomMenuClickNotify param",e),n.clmApiNotify(S.PLUGIN_NOTIFY.CUSTOM_MENU_CLICK,e)},n.pluginWhiteBoardSharingStateChangedNotify=function(e){b.info("plugin: pluginWhiteBoardSharingStateChangedNotify param",e);var t={state:e?1:0};n.clmApiNotify(S.PLUGIN_NOTIFY.DATA_SHARING_STATE_CHANGED,t)},n.pluginScreenSharingStateChangedNotify=function(e){b.info("plugin: pluginScreenSharingStateChangedNotify param",e);var t={state:e.state};n.clmApiNotify(S.PLUGIN_NOTIFY.DATA_SHARING_STATE_CHANGED,t)},n.pluginDataSharingPersonChangedNotify=function(e){b.info("plugin: pluginDataSharingPersonChangedNotify param",e),n.clmApiNotify(S.PLUGIN_NOTIFY.DATA_SHARING_PERSON_CHANGED,e)},n.pluginConfInfoNotify=function(e){b.info("plugin: pluginConfInfoNotify param",e);var t={confUrl:e.guest_join_uri};n.clmApiNotify(S.PLUGIN_NOTIFY.CONF_INFO,t)},n.pluginConfStateNotify=function(e){b.info("plugin: pluginConfStateNotify param",e),n.clmApiNotify(S.PLUGIN_NOTIFY.CONF_LIFECYCLE,e)},n.pluginGetRemoteControlPrivilegeNotify=function(e){b.info("plugin: pluginGetRemoteControlPrivilegeNotify param",e),n.clmApiNotify(S.PLUGIN_NOTIFY.GET_REMOTE_CONTROL_PRIVLEGE,e)},n.pluginDelRemoteControlPrivilegeNotify=function(e){b.info("plugin: pluginDelRemoteControlPrivilegeNotify param",e),n.clmApiNotify(S.PLUGIN_NOTIFY.DEL_REMOTE_CONTROL_PRIVLEGE,e)},n.pluginDataSharingHwndInfoNotify=function(e){b.info("plugin: pluginDataSharingHwndInfoNotify param",e),n.clmApiNotify(S.PLUGIN_NOTIFY.DATA_SHARING_HWND_INFO,e)},n.loadExtennal(),n}return(0,I.default)(t,e),(0,m.default)(t,[{key:"loadExtennal",value:function(){new O.default}}]),t}(y.default);t.default=P},1872:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(69),o=r(i),a=n(3),s=r(a),u=n(4),c=r(u),l=n(5),f=r(l),p=coreLogger.getLogger("plugin")("websocket"),h=null,d=null,m=null,g=function(e){null!==h&&h.sendToTup(e)},N=function(){function e(){var t=this;return(0,c.default)(this,e),d&&h&&0===h.readyState?(p.info("plugin WebSocket is connecting"),d):d=new s.default(function(e,n){h&&1===h.readyState?e(t):(h=new WebSocket("ws://localhost:"+(window.CLIENTCONFIG.API_PORT||"7685"),"clk_plugin_service_protocol"),h.onopen=function(){p.info("plugin WebSocket is opened"),e(t)},h.onclose=function(){p.info("plugin WebSocket is closed"),h=null},h.onerror=function(e){p.info("plugin WebSocket is error, e = ",(0,o.default)(e)),h=null},h.onmessage=function(e){var t=JSON.parse(e.data);p.info("CloudLink Recive plugin message: ",t),t.cmd>0&&"function"==typeof m&&m(t)})})}return(0,f.default)(e,[{key:"setCmdFunc",value:function(e){p.info("set cmd func success"),m=e}},{key:"postRpsMessage",value:function(e,t){var n={description:"",rps:e,opt:0,call:0,result:t};g(n),p.debug("CloudLink Rsp to proxy: rps = "+n.rps+", result = "+n.result)}},{key:"postRpsParamMessage",value:function(e,t,n){var r={description:"",rps:e,opt:0,call:0,result:n,param:t};g(r),p.debug("CloudLink Rsp param to proxy: rps = "+r.rps+", result = "+r.result+", param = "+r.param)}},{key:"postNotifyMessage",value:function(e){p.debug("postNotifyMessage",e),g(e),p.debug("CloudLink notify param to proxy: notify = "+e.nty+", param = "+e.param)}}]),e}();t.default=N},1873:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(69),o=r(i),a=n(4),s=r(a),u=n(5),c=r(u),l=n(641),f=coreLogger.getLogger("Plugin")("logic/CustomMenu"),p={1033:"en_US",1036:"fr_FR",2052:"zh_CN"},h=function(){function e(){var t=this;(0,s.default)(this,e),this.handleChangeLanguageNotify=function(e){f.info("handleChangeLanguageNotify",e),t.languageName=p[e]||"zh_CN",t.translateAndSendMenu(t.currentUserCustomMenu)},this.handleUserCustomMenuClickNotify=function(e){var n=e.menuType;f.info("handleUserCustomMenuClickNotify",(0,o.default)(e)),1===n?t.switchMenu(e):e.menuIndex=0,coreCommon.dispatchModuleEvent("pluginUserCustomMenuClickNotify",e)},this.switchMenu=function(e){var n=e.menuKey,r=e.menuName;!function i(o){o.forEach(function(o){if(o.id===n&&2===o.title.length){var a=t._getMenuTitle(o.title[0]);o.menuName=r===a?t._getMenuTitle(o.title[1]):a,o.defaultIndex=r===o.title[0][t.languageName]?1:0,e.menuIndex=1===o.defaultIndex?0:1}o.subMenu&&i(o.subMenu)})}(t.currentUserCustomMenu),coreConf.getNativeInterface().setCustomMenu(t.currentUserCustomMenu)},this._getMenuTitle=function(e){return e[t.languageName]||e[t.defaultLanguageName]},this.translateAndSendMenu=function(e){0!==e.length&&(e.forEach(function(e){if(e.type===l.PLUGIN_MENU_TYPE.SWITCH&&2===e.title.length){var n=e.defaultIndex,r=void 0===n?0:n;e.menuName=t._getMenuTitle(e.title[r>1?1:r])}else e.menuName=t._getMenuTitle(e.title[0]);e.subMenu&&t.translateAndSendMenu(e.subMenu),e.menuType=e.type,e.menuKey=e.id}),f.info("processInitConfig",(0,o.default)(e)),coreConf.getNativeInterface().setCustomMenu(e))},this.processInitConfig=function(e){if(!e.conf||!e.conf.menu||0===e.conf.menu.length)return!1;var n=(0,o.default)(e.conf.menu);t.currentUserCustomMenu=JSON.parse(n),t.translateAndSendMenu(t.currentUserCustomMenu)},this.init()}return(0,c.default)(e,[{key:"init",value:function(){this.registerNotify(),this.currentUserCustomMenu=[],this.languageName=p[window.langcode]||"zh_CN",this.defaultLanguageName="zh_CN"}},{key:"registerNotify",value:function(){coreCommon.registeModuleListener("pluginInitConfig",this.processInitConfig),coreCommon.registeModuleListener("userCustomMenuClick",this.handleUserCustomMenuClickNotify),coreCommon.registeModuleListener("changeLanguage",this.handleChangeLanguageNotify)}},{key:"dispatchNotify",value:function(e,t){coreCommon.dispatchModuleEvent(e,t)}}]),e}();t.default=h},239:function(e,t,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(e,t,n){if(e&&c.isObject(e)&&e instanceof r)return e;var i=new r;return i.parse(e,t,n),i}function o(e){return c.isString(e)&&(e=i(e)),e instanceof r?e.format():r.prototype.format.call(e)}function a(e,t){return i(e,!1,!0).resolve(t)}function s(e,t){return e?i(e,!1,!0).resolveObject(t):t}var u=n(585),c=n(586);t.parse=i,t.resolve=a,t.resolveObject=s,t.format=o,t.Url=r;var l=/^([a-z0-9.+-]+:)/i,f=/:[0-9]*$/,p=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,h=["<",">",'"',"`"," ","\r","\n","\t"],d=["{","}","|","\\","^","`"].concat(h),m=["'"].concat(d),g=["%","/","?",";","#"].concat(m),N=["/","?","#"],v=/^[+a-z0-9A-Z_-]{0,63}$/,I=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,_={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},C={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},E=n(587);r.prototype.parse=function(e,t,n){if(!c.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),i=-1!==r&&r<e.indexOf("#")?"?":"#",o=e.split(i),a=/\\/g;o[0]=o[0].replace(a,"/"),e=o.join(i);var s=e;if(s=s.trim(),!n&&1===e.split("#").length){var f=p.exec(s);if(f)return this.path=s,this.href=s,this.pathname=f[1],f[2]?(this.search=f[2],this.query=t?E.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var h=l.exec(s);if(h){h=h[0];var d=h.toLowerCase();this.protocol=d,s=s.substr(h.length)}if(n||h||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===s.substr(0,2);!S||h&&y[h]||(s=s.substr(2),this.slashes=!0)}if(!y[h]&&(S||h&&!C[h])){for(var L=-1,O=0;O<N.length;O++){var b=s.indexOf(N[O]);-1!==b&&(-1===L||b<L)&&(L=b)}var P,A;A=-1===L?s.lastIndexOf("@"):s.lastIndexOf("@",L),-1!==A&&(P=s.slice(0,A),s=s.slice(A+1),this.auth=decodeURIComponent(P)),L=-1;for(var O=0;O<g.length;O++){var b=s.indexOf(g[O]);-1!==b&&(-1===L||b<L)&&(L=b)}-1===L&&(L=s.length),this.host=s.slice(0,L),s=s.slice(L),this.parseHost(),this.hostname=this.hostname||"";var R="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!R)for(var w=this.hostname.split(/\./),O=0,T=w.length;O<T;O++){var G=w[O];if(G&&!G.match(v)){for(var M="",U=0,k=G.length;U<k;U++)G.charCodeAt(U)>127?M+="x":M+=G[U];if(!M.match(v)){var x=w.slice(0,O),D=w.slice(O+1),F=G.match(I);F&&(x.push(F[1]),D.unshift(F[2])),D.length&&(s="/"+D.join(".")+s),this.hostname=x.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),R||(this.hostname=u.toASCII(this.hostname));var j=this.port?":"+this.port:"",K=this.hostname||"";this.host=K+j,this.href+=this.host,R&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!_[d])for(var O=0,T=m.length;O<T;O++){var Y=m[O];if(-1!==s.indexOf(Y)){var H=encodeURIComponent(Y);H===Y&&(H=escape(Y)),s=s.split(Y).join(H)}}var $=s.indexOf("#");-1!==$&&(this.hash=s.substr($),s=s.slice(0,$));var J=s.indexOf("?");if(-1!==J?(this.search=s.substr(J),this.query=s.substr(J+1),t&&(this.query=E.parse(this.query)),s=s.slice(0,J)):t&&(this.search="",this.query={}),s&&(this.pathname=s),C[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var j=this.pathname||"",q=this.search||"";this.path=j+q}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&c.isObject(this.query)&&Object.keys(this.query).length&&(o=E.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||C[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),a=a.replace("#","%23"),t+i+n+a+r},r.prototype.resolve=function(e){return this.resolveObject(i(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(c.isString(e)){var t=new r;t.parse(e,!1,!0),e=t}for(var n=new r,i=Object.keys(this),o=0;o<i.length;o++){var a=i[o];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),u=0;u<s.length;u++){var l=s[u];"protocol"!==l&&(n[l]=e[l])}return C[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!C[e.protocol]){for(var f=Object.keys(e),p=0;p<f.length;p++){var h=f[p];n[h]=e[h]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||y[e.protocol])n.pathname=e.pathname;else{for(var d=(e.pathname||"").split("/");d.length&&!(e.host=d.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",g=n.search||"";n.path=m+g}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var N=n.pathname&&"/"===n.pathname.charAt(0),v=e.host||e.pathname&&"/"===e.pathname.charAt(0),I=v||N||n.host&&e.pathname,_=I,E=n.pathname&&n.pathname.split("/")||[],d=e.pathname&&e.pathname.split("/")||[],S=n.protocol&&!C[n.protocol];if(S&&(n.hostname="",n.port=null,n.host&&(""===E[0]?E[0]=n.host:E.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host=null),I=I&&(""===d[0]||""===E[0])),v)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,E=d;else if(d.length)E||(E=[]),E.pop(),E=E.concat(d),n.search=e.search,n.query=e.query;else if(!c.isNullOrUndefined(e.search)){if(S){n.hostname=n.host=E.shift();var L=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");L&&(n.auth=L.shift(),n.host=n.hostname=L.shift())}return n.search=e.search,n.query=e.query,c.isNull(n.pathname)&&c.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!E.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var O=E.slice(-1)[0],b=(n.host||e.host||E.length>1)&&("."===O||".."===O)||""===O,P=0,A=E.length;A>=0;A--)O=E[A],"."===O?E.splice(A,1):".."===O?(E.splice(A,1),P++):P&&(E.splice(A,1),P--);if(!I&&!_)for(;P--;P)E.unshift("..");!I||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),b&&"/"!==E.join("/").substr(-1)&&E.push("");var R=""===E[0]||E[0]&&"/"===E[0].charAt(0);if(S){n.hostname=n.host=R?"":E.length?E.shift():"";var L=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");L&&(n.auth=L.shift(),n.host=n.hostname=L.shift())}return I=I||n.host&&E.length,I&&!R&&E.unshift(""),E.length?n.pathname=E.join("/"):(n.pathname=null,n.path=null),c.isNull(n.pathname)&&c.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var e=this.host,t=f.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},302:function(e,t,n){e.exports=n(0)(89)},399:function(e,t,n){"use strict";function r(e,t){return t+": "+e.toString()+"\n"}function i(e,t,n,r){"object"==typeof n?t[r]=s(e[r],n):-1===e.indexOf(n)&&t.push(n)}function o(e,t,n){t[n]=e[n]}function a(e,t,n,r){"object"==typeof t[r]&&t[r]&&e[r]?n[r]=s(e[r],t[r]):n[r]=t[r]}function s(e,t){var n=Array.isArray(t),r=n&&[]||{};return n?(e=e||[],r=r.concat(e),t.forEach(i.bind(null,e,r))):(e&&"object"==typeof e&&Object.keys(e).forEach(o.bind(null,e,r)),Object.keys(t).forEach(a.bind(null,e,t,r))),r}function u(e){return"/"+encodeURIComponent(e).replace(/~/g,"%7E")}var c=n(239),l=t.ValidationError=function(e,t,n,r,i,o){r&&(this.property=r),e&&(this.message=e),n&&(n.id?this.schema=n.id:this.schema=n),t&&(this.instance=t),this.name=i,this.argument=o,this.stack=this.toString()};l.prototype.toString=function(){return this.property+" "+this.message};var f=t.ValidatorResult=function(e,t,n,r){this.instance=e,this.schema=t,this.propertyPath=r.propertyPath,this.errors=[],this.throwError=n&&n.throwError,this.disableFormat=n&&!0===n.disableFormat};f.prototype.addError=function(e){var t;if("string"==typeof e)t=new l(e,this.instance,this.schema,this.propertyPath);else{if(!e)throw new Error("Missing error detail");if(!e.message)throw new Error("Missing error message");if(!e.name)throw new Error("Missing validator type");t=new l(e.message,this.instance,this.schema,this.propertyPath,e.name,e.argument)}if(this.throwError)throw t;return this.errors.push(t),t},f.prototype.importErrors=function(e){"string"==typeof e||e&&e.validatorType?this.addError(e):e&&e.errors&&Array.prototype.push.apply(this.errors,e.errors)},f.prototype.toString=function(e){return this.errors.map(r).join("")},Object.defineProperty(f.prototype,"valid",{get:function(){return!this.errors.length}});var p=t.SchemaError=function e(t,n){this.message=t,this.schema=n,Error.call(this,t),Error.captureStackTrace(this,e)};p.prototype=Object.create(Error.prototype,{constructor:{value:p,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var h=t.SchemaContext=function(e,t,n,r,i){this.schema=e,this.options=t,this.propertyPath=n,this.base=r,this.schemas=i};h.prototype.resolve=function(e){return c.resolve(this.base,e)},h.prototype.makeChild=function(e,t){var n=void 0===t?this.propertyPath:this.propertyPath+m(t),r=c.resolve(this.base,e.id||""),i=new h(e,this.options,n,r,Object.create(this.schemas));return e.id&&!i.schemas[r]&&(i.schemas[r]=e),i};var d=t.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+-.]*:[^\s]*$/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/,"utc-millisec":function(e){return"string"==typeof e&&parseFloat(e)===parseInt(e,10)&&!isNaN(e)},regex:function(e){var t=!0;try{new RegExp(e)}catch(e){t=!1}return t},style:/\s*(.+?):\s*([^;]+);?/g,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/};d.regexp=d.regex,d.pattern=d.regex,d.ipv4=d["ip-address"],t.isFormat=function(e,t,n){if("string"==typeof e&&void 0!==d[t]){if(d[t]instanceof RegExp)return d[t].test(e);if("function"==typeof d[t])return d[t](e)}else if(n&&n.customFormats&&"function"==typeof n.customFormats[t])return n.customFormats[t](e);return!0};var m=t.makeSuffix=function(e){return e=e.toString(),e.match(/[.\s\[\]]/)||e.match(/^[\d]/)?e.match(/^\d+$/)?"["+e+"]":"["+JSON.stringify(e)+"]":"."+e};t.deepCompareStrict=function e(t,n){if(typeof t!=typeof n)return!1;if(t instanceof Array)return n instanceof Array&&(t.length===n.length&&t.every(function(r,i){return e(t[i],n[i])}));if("object"==typeof t){if(!t||!n)return t===n;var r=Object.keys(t),i=Object.keys(n);return r.length===i.length&&r.every(function(r){return e(t[r],n[r])})}return t===n},e.exports.deepMerge=s,t.objectGetPath=function(e,t){for(var n,r=t.split("/").slice(1);"string"==typeof(n=r.shift());){var i=decodeURIComponent(n.replace(/~0/,"~").replace(/~1/g,"/"));if(!(i in e))return;e=e[i]}return e},t.encodePath=function(e){return e.map(u).join("")},t.getDecimalPlaces=function(e){var t=0;if(isNaN(e))return t;"number"!=typeof e&&(e=Number(e));var n=e.toString().split("e");if(2===n.length){if("-"!==n[1][0])return t;t=Number(n[1].slice(1))}var r=n[0].split(".");return 2===r.length&&(t+=r[1].length),t}},585:function(e,t,n){(function(e,r){var i;!function(o){function a(e){throw new RangeError(T[e])}function s(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function u(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(w,"."),r+s(e.split("."),t).join(".")}function c(e){for(var t,n,r=[],i=0,o=e.length;i<o;)t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<o?(n=e.charCodeAt(i++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--)):r.push(t);return r}function l(e){return s(e,function(e){var t="";return e>65535&&(e-=65536,t+=U(e>>>10&1023|55296),e=56320|1023&e),t+=U(e)}).join("")}function f(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:y}function p(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function h(e,t,n){var r=0;for(e=n?M(e/L):e>>1,e+=M(e/t);e>G*E>>1;r+=y)e=M(e/G);return M(r+(G+1)*e/(e+S))}function d(e){var t,n,r,i,o,s,u,c,p,d,m=[],g=e.length,N=0,v=b,I=O;for(n=e.lastIndexOf(P),n<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&a("not-basic"),m.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<g;){for(o=N,s=1,u=y;i>=g&&a("invalid-input"),c=f(e.charCodeAt(i++)),(c>=y||c>M((_-N)/s))&&a("overflow"),N+=c*s,p=u<=I?C:u>=I+E?E:u-I,!(c<p);u+=y)d=y-p,s>M(_/d)&&a("overflow"),s*=d;t=m.length+1,I=h(N-o,t,0==o),M(N/t)>_-v&&a("overflow"),v+=M(N/t),N%=t,m.splice(N++,0,v)}return l(m)}function m(e){var t,n,r,i,o,s,u,l,f,d,m,g,N,v,I,S=[];for(e=c(e),g=e.length,t=b,n=0,o=O,s=0;s<g;++s)(m=e[s])<128&&S.push(U(m));for(r=i=S.length,i&&S.push(P);r<g;){for(u=_,s=0;s<g;++s)(m=e[s])>=t&&m<u&&(u=m);for(N=r+1,u-t>M((_-n)/N)&&a("overflow"),n+=(u-t)*N,t=u,s=0;s<g;++s)if(m=e[s],m<t&&++n>_&&a("overflow"),m==t){for(l=n,f=y;d=f<=o?C:f>=o+E?E:f-o,!(l<d);f+=y)I=l-d,v=y-d,S.push(U(p(d+I%v,0))),l=M(I/v);S.push(U(p(l,0))),o=h(n,N,r==i),n=0,++r}++n,++t}return S.join("")}function g(e){return u(e,function(e){return A.test(e)?d(e.slice(4).toLowerCase()):e})}function N(e){return u(e,function(e){return R.test(e)?"xn--"+m(e):e})}var v=("object"==typeof t&&t&&t.nodeType,"object"==typeof e&&e&&e.nodeType,"object"==typeof r&&r);var I,_=2147483647,y=36,C=1,E=26,S=38,L=700,O=72,b=128,P="-",A=/^xn--/,R=/[^\x20-\x7E]/,w=/[\x2E\u3002\uFF0E\uFF61]/g,T={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},G=y-C,M=Math.floor,U=String.fromCharCode;I={version:"1.4.1",ucs2:{decode:c,encode:l},decode:d,encode:m,toASCII:N,toUnicode:g},void 0!==(i=function(){return I}.call(t,n,t,e))&&(e.exports=i)}()}).call(t,n(302)(e),n(139))},586:function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},587:function(e,t,n){"use strict";t.decode=t.parse=n(588),t.encode=t.stringify=n(589)},588:function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var c=e.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var f,p,h,d,m=e[l].replace(s,"%20"),g=m.indexOf(n);g>=0?(f=m.substr(0,g),p=m.substr(g+1)):(f=m,p=""),h=decodeURIComponent(f),d=decodeURIComponent(p),r(a,h)?i(a[h])?a[h].push(d):a[h]=[a[h],d]:a[h]=d}return a};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},589:function(e,t,n){"use strict";function r(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?r(a(e),function(a){var s=encodeURIComponent(i(a))+n;return o(e[a])?r(e[a],function(e){return s+encodeURIComponent(i(e))}).join(t):s+encodeURIComponent(i(e[a]))}).join(t):s?encodeURIComponent(i(s))+n+encodeURIComponent(i(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},641:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PLUGIN_CMD={JSLOADED:"jsLoaded",INIT:"init",LOGIN:"login",CALL:"call",CREATE_MEETING:"createMeeting",CREATE_MEETING_WITH_PARTICIPANTS:"createMeetingWithParticipants",JOIN_MEETING_BY_ID:"joinMeetingById",EXIT:"exit",SSOLOGIN:"ssoLogin"},t.PLUGIN_NOTIFY={CUSTOM_MENU_CLICK:"customMenuClick",DATA_SHARING_STATE_CHANGED:"dataSharingStateChanged",DATA_SHARING_PERSON_CHANGED:"dataSharingPersonChanged",CONF_INFO:"confInfo",CONF_LIFECYCLE:"confLifecycle",GET_REMOTE_CONTROL_PRIVLEGE:"getRemoteControlPrivlege",DEL_REMOTE_CONTROL_PRIVLEGE:"delRemoteControlPrivlege",DATA_SHARING_HWND_INFO:"dataSharingHwndInfo",PLUGIN_NOTIFY_USER_WAS_KICKED_OUT:"userWasKickedOut"},t.PLUGIN_URL={pluginEnvConfig:"cloudlink://welinksoftclient/startupconfig?model=plugin"},t.PLUGIN_MENU_TYPE={NORMAL:0,SWITCH:1},t.configSchema={id:"/ConfigSchema",type:"object",properties:{conf:{$ref:"/ConfSchema"}}},t.confSchema={id:"/ConfSchema",type:"object",properties:{menu:{type:"array",items:{type:{$ref:"/ConfMenuSchema"}}}}},t.confMenuSchema={id:"/ConfMenuSchema",type:"object",properties:{type:{type:"integer",minimum:0,maximum:1},id:{type:"string"},title:{type:"array",items:{type:"object",properties:{zh_CN:{type:"string"},en_US:{type:"string"},fr_FR:{type:"string"}},required:["zh_CN"]},minItems:1,maxItems:2},defaultIndex:{type:"integer"},subMenu:{type:"array",items:{type:{$ref:"/ConfMenuSchema"}}}},required:["type","id","title"]},t.PLUGIN_RESULT={SUCCESS:{code:0,msg:""},UNKNOW_ERROR:{code:1001,msg:""},REPEAT_ERROR:{code:1002,msg:""},NET_ERROR:{code:1003,msg:""},ARGS_ERROR:{code:1004,msg:""},SIP_FAIL:{code:1005,msg:""},CMD_ERROR:{code:1006,msg:""}},t.PLUGIN_CONF_ERROR={OFFLINE:{code:2001,msg:""},SIP_UNREGISTER:{code:2002,msg:""},NUMBER_ERROR:{code:2003,msg:""}},t.PLUGIN_LOGIN_ERROR={MULTI_DEVICE_ONLINE:{code:3001,msg:""},KICK_OUT:{code:3002,msg:""},OTHER_PC_LOGINED:{code:3003,msg:"PC,"}}},69:function(e,t,n){e.exports={default:n(70),__esModule:!0}},70:function(e,t,n){var r=n(8),i=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},867:function(e,t,n){function r(e,t){this.id=e,this.ref=t}var i=n(239),o=n(399);e.exports.SchemaScanResult=r,e.exports.scan=function(e,t){function n(e,t){if(t&&"object"==typeof t){if(t.$ref){var r=i.resolve(e,t.$ref);return void(c[r]=c[r]?c[r]+1:0)}var l=t.id?i.resolve(e,t.id):e;if(l){if(l.indexOf("#")<0&&(l+="#"),u[l]){if(!o.deepCompareStrict(u[l],t))throw new Error("Schema <"+t+"> already exists with different definition");return u[l]}u[l]=t,"#"==l[l.length-1]&&(u[l.substring(0,l.length-1)]=t)}a(l+"/items",t.items instanceof Array?t.items:[t.items]),a(l+"/extends",t.extends instanceof Array?t.extends:[t.extends]),n(l+"/additionalItems",t.additionalItems),s(l+"/properties",t.properties),n(l+"/additionalProperties",t.additionalProperties),s(l+"/definitions",t.definitions),s(l+"/patternProperties",t.patternProperties),s(l+"/dependencies",t.dependencies),a(l+"/disallow",t.disallow),a(l+"/allOf",t.allOf),a(l+"/anyOf",t.anyOf),a(l+"/oneOf",t.oneOf),n(l+"/not",t.not)}}function a(e,t){if(t instanceof Array)for(var r=0;r<t.length;r++)n(e+"/"+r,t[r])}function s(e,t){if(t&&"object"==typeof t)for(var r in t)n(e+"/"+r,t[r])}var u={},c={};return n(e,t),new r(u,c)}}});